<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="generator" content="AsciiDoc 8.6.9">
<title>Platypus development guide</title>
<style type="text/css">
/* Shared CSS for AsciiDoc xhtml11 and html5 backends */

/* Default font. */
body {
  font-family: Georgia,serif;
}

/* Title font. */
h1, h2, h3, h4, h5, h6,
div.title, caption.title,
thead, p.table.header,
#toctitle,
#author, #revnumber, #revdate, #revremark,
#footer {
  font-family: Arial,Helvetica,sans-serif;
}

body {
  margin: 1em 5% 1em 5%;
}

a {
  color: blue;
  text-decoration: underline;
}
a:visited {
  color: DarkBlue;
}

em {
  font-style: italic;
  color: navy;
}

strong {
  font-weight: bold;
  color: #083194;
}

h1, h2, h3, h4, h5, h6 {
  color: #527bbd;
  margin-top: 1.2em;
  margin-bottom: 0.5em;
  line-height: 1.3;
}

h1, h2, h3 {
  border-bottom: 2px solid silver;
}
h2 {
  padding-top: 0.5em;
}
h3 {
  float: left;
}
h3 + * {
  clear: left;
}
h5 {
  font-size: 1.0em;
}

div.sectionbody {
  margin-left: 0;
}

hr {
  border: 1px solid silver;
}

p {
  margin-top: 0.5em;
  margin-bottom: 0.5em;
}

ul, ol, li > p {
  margin-top: 0;
}
ul > li     { color: #aaa; }
ul > li > * { color: black; }

.monospaced, code, pre {
  font-family: "Courier New", Courier, monospace;
  font-size: inherit;
  color: navy;
  padding: 0;
  margin: 0;
}
pre {
  white-space: pre-wrap;
}

#author {
  color: #527bbd;
  font-weight: bold;
  font-size: 1.1em;
}
#email {
}
#revnumber, #revdate, #revremark {
}

#footer {
  font-size: small;
  border-top: 2px solid silver;
  padding-top: 0.5em;
  margin-top: 4.0em;
}
#footer-text {
  float: left;
  padding-bottom: 0.5em;
}
#footer-badges {
  float: right;
  padding-bottom: 0.5em;
}

#preamble {
  margin-top: 1.5em;
  margin-bottom: 1.5em;
}
div.imageblock, div.exampleblock, div.verseblock,
div.quoteblock, div.literalblock, div.listingblock, div.sidebarblock,
div.admonitionblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
div.admonitionblock {
  margin-top: 2.0em;
  margin-bottom: 2.0em;
  margin-right: 10%;
  color: #606060;
}

div.content { /* Block element content. */
  padding: 0;
}

/* Block element titles. */
div.title, caption.title {
  color: #527bbd;
  font-weight: bold;
  text-align: left;
  margin-top: 1.0em;
  margin-bottom: 0.5em;
}
div.title + * {
  margin-top: 0;
}

td div.title:first-child {
  margin-top: 0.0em;
}
div.content div.title:first-child {
  margin-top: 0.0em;
}
div.content + div.title {
  margin-top: 0.0em;
}

div.sidebarblock > div.content {
  background: #ffffee;
  border: 1px solid #dddddd;
  border-left: 4px solid #f0f0f0;
  padding: 0.5em;
}

div.listingblock > div.content {
  border: 1px solid #dddddd;
  border-left: 5px solid #f0f0f0;
  background: #f8f8f8;
  padding: 0.5em;
}

div.quoteblock, div.verseblock {
  padding-left: 1.0em;
  margin-left: 1.0em;
  margin-right: 10%;
  border-left: 5px solid #f0f0f0;
  color: #888;
}

div.quoteblock > div.attribution {
  padding-top: 0.5em;
  text-align: right;
}

div.verseblock > pre.content {
  font-family: inherit;
  font-size: inherit;
}
div.verseblock > div.attribution {
  padding-top: 0.75em;
  text-align: left;
}
/* DEPRECATED: Pre version 8.2.7 verse style literal block. */
div.verseblock + div.attribution {
  text-align: left;
}

div.admonitionblock .icon {
  vertical-align: top;
  font-size: 1.1em;
  font-weight: bold;
  text-decoration: underline;
  color: #527bbd;
  padding-right: 0.5em;
}
div.admonitionblock td.content {
  padding-left: 0.5em;
  border-left: 3px solid #dddddd;
}

div.exampleblock > div.content {
  border-left: 3px solid #dddddd;
  padding-left: 0.5em;
}

div.imageblock div.content { padding-left: 0; }
span.image img { border-style: none; vertical-align: text-bottom; }
a.image:visited { color: white; }

dl {
  margin-top: 0.8em;
  margin-bottom: 0.8em;
}
dt {
  margin-top: 0.5em;
  margin-bottom: 0;
  font-style: normal;
  color: navy;
}
dd > *:first-child {
  margin-top: 0.1em;
}

ul, ol {
    list-style-position: outside;
}
ol.arabic {
  list-style-type: decimal;
}
ol.loweralpha {
  list-style-type: lower-alpha;
}
ol.upperalpha {
  list-style-type: upper-alpha;
}
ol.lowerroman {
  list-style-type: lower-roman;
}
ol.upperroman {
  list-style-type: upper-roman;
}

div.compact ul, div.compact ol,
div.compact p, div.compact p,
div.compact div, div.compact div {
  margin-top: 0.1em;
  margin-bottom: 0.1em;
}

tfoot {
  font-weight: bold;
}
td > div.verse {
  white-space: pre;
}

div.hdlist {
  margin-top: 0.8em;
  margin-bottom: 0.8em;
}
div.hdlist tr {
  padding-bottom: 15px;
}
dt.hdlist1.strong, td.hdlist1.strong {
  font-weight: bold;
}
td.hdlist1 {
  vertical-align: top;
  font-style: normal;
  padding-right: 0.8em;
  color: navy;
}
td.hdlist2 {
  vertical-align: top;
}
div.hdlist.compact tr {
  margin: 0;
  padding-bottom: 0;
}

.comment {
  background: yellow;
}

.footnote, .footnoteref {
  font-size: 0.8em;
}

span.footnote, span.footnoteref {
  vertical-align: super;
}

#footnotes {
  margin: 20px 0 20px 0;
  padding: 7px 0 0 0;
}

#footnotes div.footnote {
  margin: 0 0 5px 0;
}

#footnotes hr {
  border: none;
  border-top: 1px solid silver;
  height: 1px;
  text-align: left;
  margin-left: 0;
  width: 20%;
  min-width: 100px;
}

div.colist td {
  padding-right: 0.5em;
  padding-bottom: 0.3em;
  vertical-align: top;
}
div.colist td img {
  margin-top: 0.3em;
}

@media print {
  #footer-badges { display: none; }
}

#toc {
  margin-bottom: 2.5em;
}

#toctitle {
  color: #527bbd;
  font-size: 1.1em;
  font-weight: bold;
  margin-top: 1.0em;
  margin-bottom: 0.1em;
}

div.toclevel0, div.toclevel1, div.toclevel2, div.toclevel3, div.toclevel4 {
  margin-top: 0;
  margin-bottom: 0;
}
div.toclevel2 {
  margin-left: 2em;
  font-size: 0.9em;
}
div.toclevel3 {
  margin-left: 4em;
  font-size: 0.9em;
}
div.toclevel4 {
  margin-left: 6em;
  font-size: 0.9em;
}

span.aqua { color: aqua; }
span.black { color: black; }
span.blue { color: blue; }
span.fuchsia { color: fuchsia; }
span.gray { color: gray; }
span.green { color: green; }
span.lime { color: lime; }
span.maroon { color: maroon; }
span.navy { color: navy; }
span.olive { color: olive; }
span.purple { color: purple; }
span.red { color: red; }
span.silver { color: silver; }
span.teal { color: teal; }
span.white { color: white; }
span.yellow { color: yellow; }

span.aqua-background { background: aqua; }
span.black-background { background: black; }
span.blue-background { background: blue; }
span.fuchsia-background { background: fuchsia; }
span.gray-background { background: gray; }
span.green-background { background: green; }
span.lime-background { background: lime; }
span.maroon-background { background: maroon; }
span.navy-background { background: navy; }
span.olive-background { background: olive; }
span.purple-background { background: purple; }
span.red-background { background: red; }
span.silver-background { background: silver; }
span.teal-background { background: teal; }
span.white-background { background: white; }
span.yellow-background { background: yellow; }

span.big { font-size: 2em; }
span.small { font-size: 0.6em; }

span.underline { text-decoration: underline; }
span.overline { text-decoration: overline; }
span.line-through { text-decoration: line-through; }

div.unbreakable { page-break-inside: avoid; }


/*
 * xhtml11 specific
 *
 * */

div.tableblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
div.tableblock > table {
  border: 3px solid #527bbd;
}
thead, p.table.header {
  font-weight: bold;
  color: #527bbd;
}
p.table {
  margin-top: 0;
}
/* Because the table frame attribute is overriden by CSS in most browsers. */
div.tableblock > table[frame="void"] {
  border-style: none;
}
div.tableblock > table[frame="hsides"] {
  border-left-style: none;
  border-right-style: none;
}
div.tableblock > table[frame="vsides"] {
  border-top-style: none;
  border-bottom-style: none;
}


/*
 * html5 specific
 *
 * */

table.tableblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
thead, p.tableblock.header {
  font-weight: bold;
  color: #527bbd;
}
p.tableblock {
  margin-top: 0;
}
table.tableblock {
  border-width: 3px;
  border-spacing: 0px;
  border-style: solid;
  border-color: #527bbd;
  border-collapse: collapse;
}
th.tableblock, td.tableblock {
  border-width: 1px;
  padding: 4px;
  border-style: solid;
  border-color: #527bbd;
}

table.tableblock.frame-topbot {
  border-left-style: hidden;
  border-right-style: hidden;
}
table.tableblock.frame-sides {
  border-top-style: hidden;
  border-bottom-style: hidden;
}
table.tableblock.frame-none {
  border-style: hidden;
}

th.tableblock.halign-left, td.tableblock.halign-left {
  text-align: left;
}
th.tableblock.halign-center, td.tableblock.halign-center {
  text-align: center;
}
th.tableblock.halign-right, td.tableblock.halign-right {
  text-align: right;
}

th.tableblock.valign-top, td.tableblock.valign-top {
  vertical-align: top;
}
th.tableblock.valign-middle, td.tableblock.valign-middle {
  vertical-align: middle;
}
th.tableblock.valign-bottom, td.tableblock.valign-bottom {
  vertical-align: bottom;
}


/*
 * manpage specific
 *
 * */

body.manpage h1 {
  padding-top: 0.5em;
  padding-bottom: 0.5em;
  border-top: 2px solid silver;
  border-bottom: 2px solid silver;
}
body.manpage h2 {
  border-style: none;
}
body.manpage div.sectionbody {
  margin-left: 3em;
}

@media print {
  body.manpage div#toc { display: none; }
}


@media screen {
  body {
    max-width: 50em; /* approximately 80 characters wide */
    margin-left: 16em;
  }

  #toc {
    position: fixed;
    top: 0;
    left: 0;
    bottom: 0;
    width: 13em;
    padding: 0.5em;
    padding-bottom: 1.5em;
    margin: 0;
    overflow: auto;
    border-right: 3px solid #f8f8f8;
    background-color: white;
  }

  #toc .toclevel1 {
    margin-top: 0.5em;
  }

  #toc .toclevel2 {
    margin-top: 0.25em;
    display: list-item;
    color: #aaaaaa;
  }

  #toctitle {
    margin-top: 0.5em;
  }
}
</style>
<script type="text/javascript">
/*<![CDATA[*/
var asciidoc = {  // Namespace.

/////////////////////////////////////////////////////////////////////
// Table Of Contents generator
/////////////////////////////////////////////////////////////////////

/* Author: Mihai Bazon, September 2002
 * http://students.infoiasi.ro/~mishoo
 *
 * Table Of Content generator
 * Version: 0.4
 *
 * Feel free to use this script under the terms of the GNU General Public
 * License, as long as you do not remove or alter this notice.
 */

 /* modified by Troy D. Hanson, September 2006. License: GPL */
 /* modified by Stuart Rackham, 2006, 2009. License: GPL */

// toclevels = 1..4.
toc: function (toclevels) {

  function getText(el) {
    var text = "";
    for (var i = el.firstChild; i != null; i = i.nextSibling) {
      if (i.nodeType == 3 /* Node.TEXT_NODE */) // IE doesn't speak constants.
        text += i.data;
      else if (i.firstChild != null)
        text += getText(i);
    }
    return text;
  }

  function TocEntry(el, text, toclevel) {
    this.element = el;
    this.text = text;
    this.toclevel = toclevel;
  }

  function tocEntries(el, toclevels) {
    var result = new Array;
    var re = new RegExp('[hH]([1-'+(toclevels+1)+'])');
    // Function that scans the DOM tree for header elements (the DOM2
    // nodeIterator API would be a better technique but not supported by all
    // browsers).
    var iterate = function (el) {
      for (var i = el.firstChild; i != null; i = i.nextSibling) {
        if (i.nodeType == 1 /* Node.ELEMENT_NODE */) {
          var mo = re.exec(i.tagName);
          if (mo && (i.getAttribute("class") || i.getAttribute("className")) != "float") {
            result[result.length] = new TocEntry(i, getText(i), mo[1]-1);
          }
          iterate(i);
        }
      }
    }
    iterate(el);
    return result;
  }

  var toc = document.getElementById("toc");
  if (!toc) {
    return;
  }

  // Delete existing TOC entries in case we're reloading the TOC.
  var tocEntriesToRemove = [];
  var i;
  for (i = 0; i < toc.childNodes.length; i++) {
    var entry = toc.childNodes[i];
    if (entry.nodeName.toLowerCase() == 'div'
     && entry.getAttribute("class")
     && entry.getAttribute("class").match(/^toclevel/))
      tocEntriesToRemove.push(entry);
  }
  for (i = 0; i < tocEntriesToRemove.length; i++) {
    toc.removeChild(tocEntriesToRemove[i]);
  }

  // Rebuild TOC entries.
  var entries = tocEntries(document.getElementById("content"), toclevels);
  for (var i = 0; i < entries.length; ++i) {
    var entry = entries[i];
    if (entry.element.id == "")
      entry.element.id = "_toc_" + i;
    var a = document.createElement("a");
    a.href = "#" + entry.element.id;
    a.appendChild(document.createTextNode(entry.text));
    var div = document.createElement("div");
    div.appendChild(a);
    div.className = "toclevel" + entry.toclevel;
    toc.appendChild(div);
  }
  if (entries.length == 0)
    toc.parentNode.removeChild(toc);
},


/////////////////////////////////////////////////////////////////////
// Footnotes generator
/////////////////////////////////////////////////////////////////////

/* Based on footnote generation code from:
 * http://www.brandspankingnew.net/archive/2005/07/format_footnote.html
 */

footnotes: function () {
  // Delete existing footnote entries in case we're reloading the footnodes.
  var i;
  var noteholder = document.getElementById("footnotes");
  if (!noteholder) {
    return;
  }
  var entriesToRemove = [];
  for (i = 0; i < noteholder.childNodes.length; i++) {
    var entry = noteholder.childNodes[i];
    if (entry.nodeName.toLowerCase() == 'div' && entry.getAttribute("class") == "footnote")
      entriesToRemove.push(entry);
  }
  for (i = 0; i < entriesToRemove.length; i++) {
    noteholder.removeChild(entriesToRemove[i]);
  }

  // Rebuild footnote entries.
  var cont = document.getElementById("content");
  var spans = cont.getElementsByTagName("span");
  var refs = {};
  var n = 0;
  for (i=0; i<spans.length; i++) {
    if (spans[i].className == "footnote") {
      n++;
      var note = spans[i].getAttribute("data-note");
      if (!note) {
        // Use [\s\S] in place of . so multi-line matches work.
        // Because JavaScript has no s (dotall) regex flag.
        note = spans[i].innerHTML.match(/\s*\[([\s\S]*)]\s*/)[1];
        spans[i].innerHTML =
          "[<a id='_footnoteref_" + n + "' href='#_footnote_" + n +
          "' title='View footnote' class='footnote'>" + n + "</a>]";
        spans[i].setAttribute("data-note", note);
      }
      noteholder.innerHTML +=
        "<div class='footnote' id='_footnote_" + n + "'>" +
        "<a href='#_footnoteref_" + n + "' title='Return to text'>" +
        n + "</a>. " + note + "</div>";
      var id =spans[i].getAttribute("id");
      if (id != null) refs["#"+id] = n;
    }
  }
  if (n == 0)
    noteholder.parentNode.removeChild(noteholder);
  else {
    // Process footnoterefs.
    for (i=0; i<spans.length; i++) {
      if (spans[i].className == "footnoteref") {
        var href = spans[i].getElementsByTagName("a")[0].getAttribute("href");
        href = href.match(/#.*/)[0];  // Because IE return full URL.
        n = refs[href];
        spans[i].innerHTML =
          "[<a href='#_footnote_" + n +
          "' title='View footnote' class='footnote'>" + n + "</a>]";
      }
    }
  }
},

install: function(toclevels) {
  var timerId;

  function reinstall() {
    asciidoc.footnotes();
    if (toclevels) {
      asciidoc.toc(toclevels);
    }
  }

  function reinstallAndRemoveTimer() {
    clearInterval(timerId);
    reinstall();
  }

  timerId = setInterval(reinstall, 500);
  if (document.addEventListener)
    document.addEventListener("DOMContentLoaded", reinstallAndRemoveTimer, false);
  else
    window.onload = reinstallAndRemoveTimer;
}

}
asciidoc.install(3);
/*]]>*/
</script>
</head>
<body class="book">
<div id="header">
<h1>Platypus development guide</h1>
<div id="toc">
  <div id="toctitle">Table of Contents</div>
  <noscript><p><b>JavaScript must be enabled in your browser to display the table of contents.</b></p></noscript>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="_introduction">Introduction</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="introduction">About the platform</h3>
<div class="paragraph" id="about-the-platform"><p>The Platypus Platform is a JavaScript client and server applications
platform for rapid development of enterprise-level information systems.</p></div>
<div class="paragraph"><p>The platform uses two application programming languages:</p></div>
<div class="ulist"><ul>
<li>
<p>
JavaScript (compatible with the ECMA-262-3 standard) is used to write
program logic.
</p>
</li>
<li>
<p>
SQL is used to access data.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Application creation and editing, deployment, debugging and maintenance
are performed using the Platypus Application Designer IDE based on the
NetBeans Platform. However, individual files, for example, JavaScript
modules, can be edited in any text editor.</p></div>
<div class="paragraph"><p>The IDE includes following development tools:</p></div>
<div class="ulist"><ul>
<li>
<p>
Application database structure visual editor.
</p>
</li>
<li>
<p>
SQL queries visual editor.
</p>
</li>
<li>
<p>
JavaScript code editor.
</p>
</li>
<li>
<p>
User interface forms visual editor.
</p>
</li>
</ul></div>
<div class="paragraph"><p>The platform offers a set of features, making development process
extremely productive:</p></div>
<div class="ulist"><ul>
<li>
<p>
JavaScript modules automatic dependencies resolving, manual resolving
is also avaliable.
</p>
</li>
<li>
<p>
SQL queries with named parameters and SQL clauses re-use.
</p>
</li>
<li>
<p>
Data model and ORM (Object-Relation Mapping) for JavaScript.
</p>
</li>
<li>
<p>
Desktop cross-platform as well as HTML5 web-browser user interface
presentation sharing the same code and the GUI layout.
</p>
</li>
<li>
<p>
The GUI widgets which directly interact with the data model, allowing
implementation of a CRUD (Create-Read-Update-Delete) user interface with
visual configuration and without or just a little coding.
</p>
</li>
<li>
<p>
Built-in security support, including users authentication and
authorization, constraints of access to application resources.
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="_application_structure">Application structure</h3>
<div class="paragraph" id="application-structure"><p>Application has a tree structure which contains directories and files.
Some files or file groups, called application elements, have a special
meaning to the platform.</p></div>
<div class="paragraph"><p>The types of application elements are:</p></div>
<div class="ulist"><ul>
<li>
<p>
<a href="#query-chapter">Query</a> is a data source based on SQL query.
</p>
</li>
<li>
<p>
<a href="#module-chapter">Module</a> is a structural unit of the JavaScript
code.
</p>
</li>
<li>
<p>
<a href="#form-intro">Form</a> is a module with UI layout.
</p>
</li>
<li>
<p>
<a href="#report-chapter">Report</a> is a module with a template.
</p>
</li>
<li>
<p>
<a href="#diargram-chapter">Database diagram</a> is a visual representation of
the database structure.
</p>
</li>
</ul></div>
<div class="paragraph"><p>During development process, the application tree is stored on disk in
the project&#8217;s directory <span class="monospaced">src</span> subfolder. For production operation
application can be deployed into the database <span class="monospaced">MTD_ENTITIES</span> table.</p></div>
</div>
<div class="sect2">
<h3 id="_runtime_configurations">Runtime configurations</h3>
<div class="paragraph" id="runtime-configurations"><p>In general, the platform works on three-tier archeticture including
presentation, logic and data storage tiers. The presentation and the
logic tier can be combined in some configurations.</p></div>
<div class="paragraph"><p><span class="image">
<img src="images/tiers.png" alt="Applicaton tiers">
</span></p></div>
<div class="paragraph"><p>The platform&#8217;s applications can work in the following configurations:</p></div>
<div class="ulist"><ul>
<li>
<p>
2-tier solution is the Java SE desktop client connects directly to the
database server. This scheme is recommended for relatively simple
applications, which do not require any application server.
</p>
<div class="paragraph"><p><span class="image">
<img src="images/2-tiers.png" alt="2-tier solution">
</span>
* The 3-tier solution with deskop client and Platypus Application Server
(PAS). This server is a lightweight non-J2EE Java application server.
The custom binary protocol is used to transmit data. The application
server, in turn, interacts with a database server.</p></div>
<div class="paragraph"><p><span class="image">
<img src="images/3-tiers.png" alt="3-tier solution using PAS">
</span>
* The 3-tier solution with a Java EE compatible server to host the
platfroms server components. The deskotp client or HTML5 browser
connects to the servlet container or J2EE server using HTTP/HTTPS
protocol. In this case, an application&#8217;s data source resources are
managed by the Java EE container.</p></div>
<div class="paragraph"><p><span class="image">
<img src="images/3-tiers-j2ee.png" alt="3-tier configuration on Java EE">
</span></p></div>
</li>
</ul></div>
<div class="paragraph"><p>3-tier configuration has a number of advantages as compared with 2-tier
one:</p></div>
<div class="ulist"><ul>
<li>
<p>
Improved security, as the client has no direct access to the database
and database request text is not transmitted via network.
</p>
</li>
<li>
<p>
Improved performance, as business logic is executed on the server.
</p>
</li>
<li>
<p>
Better system maintainability.
</p>
</li>
<li>
<p>
Application is more scalabile.
</p>
</li>
<li>
<p>
The ability to use HTML5 web browser as a client when using J2EE
servlet container or application server.
</p>
</li>
</ul></div>
<div class="paragraph"><p>In case of no-server 2-tier configuration the presentation tier and
logic tier operate at Java SE desktop client. In case of 3-tier server
configuration the presentation tier operates in the client, either at
Java SE desktop client or HTML5 browser and the logic tier runs on
application server.</p></div>
</div>
<div class="sect2">
<h3 id="_development_steps">Development steps</h3>
<div class="paragraph" id="development-steps"><p>To develop an application iteratively perform the following steps:</p></div>
<div class="ulist"><ul>
<li>
<p>
<a href="#diargram-chapter">Specify</a> datatbase structure using the database
structure diagrams visual editor.
</p>
</li>
<li>
<p>
<a href="#query-chapter">Write</a> the queries and specify theirs parameters.
If required, implement the queries for updating and adding data in SQL
language (it is not needed in general, because data
inserts/updates/deletions in most cases can be completed automatically
by the data model).
</p>
</li>
<li>
<p>
<a href="#module-chapter">Implement</a> the application logic as JavaScript
modules. Specify the module&#8217;s data model using visual tool. Write the
JavaScript code, for example to implement the business-logic.
</p>
</li>
<li>
<p>
<a href="#gui-chapter">Implement</a> the application user interface as forms
using visual tool. Specify the form&#8217;s data model. Create the form&#8217;s
layout using the visual editor. Write JavaScript code responsible for
the user interface.
</p>
</li>
<li>
<p>
<a href="#report-chapter">Implement</a> reports using the reports tool.
Specify the report&#8217;s data model. Create the report template using the
visual editor. Write JavaScript code if some non-standard data
processing required.
</p>
</li>
</ul></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_installation_and_configuration">Installation and configuration</h2>
<div class="sectionbody">
<div class="paragraph" id="installation-and-configuration"><p>The platypus developer&#8217;s kit all-in-one bundle contains Platypus.js IDE,
Platypus.js runtime and Apache Tomcat 8 software packages.</p></div>
<div class="quoteblock">
<div class="content">
<div class="paragraph"><p><strong>Note</strong></p></div>
<div class="paragraph"><p>Platypus.js runtime installation instructions are provided in the
Administration Guide.</p></div>
</div>
<div class="attribution">
</div></div>
<div class="sect2">
<h3 id="_system_requirements">System requirements</h3>
<div class="paragraph" id="system-requirements"><p>System requirements for installing the developer&#8217;s kit on a computer
includes:</p></div>
<div class="ulist"><ul>
<li>
<p>
32-bit (x86) or 64-bit (x64) CPU, 1 GHz or above
</p>
</li>
<li>
<p>
2 GB (for 32-bit system) or 3 GB (for 64-bit system) RAM
</p>
</li>
<li>
<p>
10 GB of free disk space
</p>
</li>
<li>
<p>
Operating system with graphical user interface: Windows or Linux
</p>
</li>
<li>
<p>
Oracle JDK 8.40+
</p>
</li>
<li>
<p>
Internet access for updates downloading
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="_installation_guide">Installation guide</h3>
<div class="paragraph" id="installation-guide"><p>To install the developer&#8217;s kit, perform the following actions:</p></div>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
Run the <span class="monospaced">platypusdesigner-windows.exe</span> file for Windows OS or
<span class="monospaced">platypusdesigner-linux.sh</span> for Linux. The Linux user must have access
rights to launch the installer.
</p>
</li>
<li>
<p>
Click Next to proceed to the next installation step.
</p>
</li>
<li>
<p>
Read licensing terms and conditions, check the I accept the terms of
the license agreement option to accept and click Next to proceed to the
next step.
</p>
</li>
<li>
<p>
Select applications to be installed (Platypus application designer, Platypus.js runtime and Apache tomcat).
</p>
</li>
<li>
<p>
Select the applications installation directories and options for
creating shortcuts on the desktop and in the installed programs menu and click Next to proceed to the next step.
</p>
</li>
<li>
<p>
Click Install to start selected applications installation process.
</p>
</li>
<li>
<p>
After the installation process is finished, click Finish.
</p>
</li>
</ol></div>
<div class="listingblock">
<div class="content monospaced">
<pre>*Note*

Specify the path to the JDK in the `jdkhome` parameter in the Platypus
Application Designer configuration file at
`platypusdesigner/etc/platypusdesigner.conf`, if the its installation
location is other than default. Incorrect value of the `jdkhome`
parameter can lead to errors which may occur when launching the
designer.</pre>
</div></div>
<div class="paragraph"><p>To remove Platypus.js runtime from you computer, perform the
following actions:</p></div>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
Use the your OS standard mechanism of programs removal, as an
alternative, use the <span class="monospaced">uninstall.exe</span> program for Windows or
<span class="monospaced">uninstall.sh</span> for Linux from the installation directory.
</p>
</li>
<li>
<p>
Confirm the components removal by clicking Finish button.
</p>
</li>
</ol></div>
<div class="paragraph"><p>To remove Platypus Application Designer from you computer, perform the
following actions:</p></div>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
Use the your OS standard mechanism of programs removal, as an
alternative, use the <span class="monospaced">uninstall.exe</span> program for Windows or
<span class="monospaced">uninstall.sh</span> for Linux from the installation directory.
</p>
</li>
<li>
<p>
Confirm the components removal by clicking Finish button. If
necessary, select the option of removing configuration data from the
user&#8217;s directory.
</p>
</li>
</ol></div>
<div class="paragraph"><p>To remove Apache tomcat from you computer if it was installed using platypus developer&#8217;s kit all-in-one installer, perform the
following actions:</p></div>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
Use the your OS standard mechanism of programs removal, as an
alternative, use the <span class="monospaced">uninstall.exe</span> program for Windows or
<span class="monospaced">uninstall.sh</span> for Linux from the installation directory.
</p>
</li>
<li>
<p>
Confirm the components removal by clicking Finish button.
</p>
</li>
</ol></div>
</div>
<div class="sect2">
<h3 id="_configuration_tips">Configuration tips</h3>
<div class="paragraph" id="configuration-tips"><p>Platypus Application Designer supports localization of menus, messages
texts, etc. Currently, the following languages are supported:</p></div>
<div class="ulist"><ul>
<li>
<p>
English
</p>
</li>
<li>
<p>
Russian
</p>
</li>
</ul></div>
<div class="paragraph"><p>The localization language is selected automatically when you launch the
application designer according to the regional settings of the operating
system.</p></div>
<div class="paragraph"><p>To force the change of the localization language:</p></div>
<div class="ulist"><ul>
<li>
<p>
Edit the Platypus Application Designer configuration file — append the
<span class="monospaced">default_options</span> parameter with the <span class="monospaced">--locale ru:RU</span> or
<span class="monospaced">--locale en:US</span> option.
</p>
</li>
<li>
<p>
Restart the application designer.
</p>
</li>
</ul></div>
<div class="paragraph"><p>You can also change the application designer localization language by
adding the <span class="monospaced">--locale ru:RU</span> or <span class="monospaced">--locale en:US</span> option to the command
line for launching the Platypus Application Designer.</p></div>
<div class="paragraph"><p>Platypus Application Designer supports connection of the various user
interface Look and Feel (L&amp;F). There are L&amp;Fs for specific operating
systems, universal styles (<span class="monospaced">Metal</span> and <span class="monospaced">Nimbus</span>), and LaFs which can be
supplied by third-party developers.</p></div>
<div class="paragraph"><p>To change the Application Designer L&amp;F:</p></div>
<div class="ulist"><ul>
<li>
<p>
Edit the designer configuration file — append the <span class="monospaced">default_options</span>
parameter with the <span class="monospaced">--laf</span> option, where LaF corresponds to the name of
LaF or full name of the LaF class. If the third-party LaF is used, it is
also necessary to include the style library into the path which can be
accessed by the Application Designer classloader.
</p>
</li>
<li>
<p>
Restart the application designer.
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="_runtime_environment_setup">Runtime environment setup</h3>
<div class="paragraph" id="runtime-environment-setup"><p>The Platypus.js runtime is required to start, debug and deploy
it&#8217;s applications. You must specify the path to the runtime directory
for the Platypus Application Designer to be able to run and debug your
applications.</p></div>
<div class="paragraph"><p>Specify the location of the Platypus.js runtime directory in the computer&#8217;s
file system:</p></div>
<div class="ulist"><ul>
<li>
<p>
Select Tools Platypus Platform in the main menu of a the designer.
</p>
</li>
<li>
<p>
In the selection dialog, specify path to the Platypus.js
directory.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Add the J2EE server instance which can be used to launch the Platypus
application:</p></div>
<div class="ulist"><ul>
<li>
<p>
In the Services window of the Servers node context menu select the Add
server&#8230; item.
</p>
</li>
<li>
<p>
In the J2EE server adding wizard, select the server type, server name,
and specify its preferences: path to the server directory,
administrator&#8217;s login and password.
</p>
</li>
</ul></div>
<div class="quoteblock">
<div class="content">
<div class="paragraph"><p><strong>Note</strong>
If Platypus.js runtime and Platypus application designer were installed using
platypus developer&#8217;s kit all-in-one installer, Platypus.js location will be specified already.</p></div>
</div>
<div class="attribution">
</div></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="application-project">Application project</h2>
<div class="sectionbody">
<div class="paragraph"><p>In the course of development and further during the application life
cycle, the application is represented by the application project.</p></div>
<div class="sect2">
<h3 id="_new_project_creation">New project creation</h3>
<div class="paragraph" id="new-project-creation"><p>To create a project, perform the following actions:</p></div>
<div class="ulist"><ul>
<li>
<p>
Launch the application designer (if not launched yet). To do that, use
the Platypus Application Designer shortcut on the desktop or the
corresponding item in the installed applications menu.
</p>
</li>
<li>
<p>
Select File New Project or click the New Project button on the
toolbar.
</p>
</li>
<li>
<p>
Select the project type as the Platypus Application Project and click
Next.
</p>
</li>
<li>
<p>
Specify the project name and location:
</p>
<div class="ulist"><ul>
<li>
<p>
Specify the project directory name in the Project Folder Name field.
</p>
</li>
<li>
<p>
Select the parent directory, in which the Platypus application
project will be created, in the Project Location field.
</p>
</li>
<li>
<p>
Specify the project title in the Project Title field.
</p>
</li>
<li>
<p>
Click Next to proceed to the next step.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Click Finish to finish the Platypus project creation.
</p>
</li>
</ul></div>
<div class="paragraph"><p>New project will be added to the Projects panel.</p></div>
</div>
<div class="sect2">
<h3 id="_opening_an_existing_project">Opening an existing project</h3>
<div class="paragraph" id="opening-an-existing-project"><p>To open an existing project, perform the following actions:</p></div>
<div class="ulist"><ul>
<li>
<p>
Select File Open Project or click the Open Project button on the
toolbar.
</p>
</li>
<li>
<p>
Select the project parent directory using the selection dialog, select
the project folder, and click the Open Project button.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Opened project will be added to the Projects panel.</p></div>
</div>
<div class="sect2">
<h3 id="_project_properties">Project properties</h3>
<div class="paragraph" id="project-properties"><p>To change the project properties, select the Properties item in the
project root node context menu.</p></div>
<div class="paragraph"><p>Set the application launching parameters:</p></div>
<div class="ulist"><ul>
<li>
<p>
Select the Run category.
</p>
</li>
<li>
<p>
Set the default application starting element; if necessary, use the
application element selection dialog.
</p>
</li>
<li>
<p>
Set the type of the client application to be launched: Platypus Client
or HTML5 browser.
</p>
</li>
<li>
<p>
Set the type of the server to be launched: None, Platypus Application
Server or J2EE Server.
</p>
</li>
<li>
<p>
Check the Don&#8217;t start application server option to launch the client
only.
</p>
</li>
<li>
<p>
On the Client tab, in the Url field specify the URL of the application
server which will be used by the Platypus Client application when
launching, if the Don&#8217;t start application server option is enabled.
</p>
</li>
<li>
<p>
On the Client tab, in the Login and Password fields specify login and
password for the Platypus Client application.
</p>
</li>
<li>
<p>
On the Client tab, in the Options field specify additional parameters
of the Platypus Client application launching, for example, LaF (Look and
Feel).
</p>
</li>
<li>
<p>
On the Platypus Application Server tab, in the Port field specify a
port for the development application server.
</p>
</li>
<li>
<p>
On the Platypus Application Server tab, in the Options field set
additional parameters of the Platypus application server launching.
</p>
</li>
<li>
<p>
On the J2EE Server tab, in the Server field select the server instance
to be used for the application launching from the list of the installed
J2EE servers.
</p>
</li>
<li>
<p>
On the J2EE Server tab, in the Context field specify the name of the
web-application in the J2EE server.
</p>
</li>
<li>
<p>
On the J2EE Server tab, check the Enable security option to enable the
security; in this case FORM authentication will be used for the web
application.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Set the debugging parameters:</p></div>
<div class="ulist"><ul>
<li>
<p>
Set the Platypus Client debugging port.
</p>
</li>
<li>
<p>
Set the application server debugging port.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Specify the applicaton&#8217;s default datasource:</p></div>
<div class="ulist"><ul>
<li>
<p>
Select the database connecton from the list.
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="_project_structure">Project structure</h3>
<div class="paragraph" id="project-structure"><p>A Platypus Platform project has the following structure:</p></div>
<div class="ulist"><ul>
<li>
<p>
The project configuration files.
</p>
</li>
<li>
<p>
The Application Elements node is the root directory, which contains
the application elements tree.
</p>
</li>
</ul></div>
<div class="paragraph"><p>You can perform the following operations on the application elements and
directories:</p></div>
<div class="ulist"><ul>
<li>
<p>
Create a new element using the <span class="monospaced">New</span> command.
</p>
</li>
<li>
<p>
Rename an application element. click the selected application element
or directory name, and press the F2 key.
</p>
</li>
<li>
<p>
Copy and Paste an application element from the buffer to the specified
project location using the <span class="monospaced">Paste</span> command.
</p>
</li>
<li>
<p>
Copy and Move the directory or the application elements to the
specified project location. To copy, hold the Ctrl key while dragging a
node.
</p>
</li>
<li>
<p>
Delete an application element using the <span class="monospaced">Delete</span> command.
</p>
</li>
<li>
<p>
Search for an element in the project using the <span class="monospaced">Find</span> command.
</p>
</li>
</ul></div>
<div class="paragraph"><p>These operations also avaliable by the element context menu, Edit menu
in the main menu, or the keyboard hotkeys. Some application elements
nodes supports some specific operations, e.g. running or debugging.
Specific operations are described in detail in the sections dedicated to
the certain types of application elements.</p></div>
<div class="paragraph"><p>To create a subdirectory in the applicaton tree:</p></div>
<div class="ulist"><ul>
<li>
<p>
Select the New item in the parent directory context menu or select the
parent directory and click New File in the main menu, or click the New
File button on the toolbar, or use the hotkey.
</p>
</li>
<li>
<p>
Select the Folder type in the context menu or select Choose file type
Platypus application elements Folder on the wizard first step and click
Next.
</p>
</li>
<li>
<p>
Specify the name of the directory in the Name field and click Finish
to create a directory, or click Cancel to cancel.
</p>
</li>
</ul></div>
<div class="paragraph"><p>To navigate to the application element, if its identifier is known:</p></div>
<div class="ulist"><ul>
<li>
<p>
Select File Go to application element, or use the Ctrl Shift G
shortcut.
</p>
</li>
<li>
<p>
In the dialog, specify the identifier of the application element in
the Provide application element id field of the dialog.
</p>
</li>
<li>
<p>
Click OK to navigate to the application element, or click Cancel to
cancel.
</p>
</li>
</ul></div>
<div class="paragraph"><p>To open an application element, select Open in the application element
context menu, or double-click this element. The application element
editor opens as a window in the Platypus Application Designer editors
area.</p></div>
<div class="paragraph"><p>To find out the identifier of an application element:</p></div>
<div class="ulist"><ul>
<li>
<p>
Select an application element in the projects application elements
tree.
</p>
</li>
<li>
<p>
Select File Application element info menu item, or use the Ctrl Shift
I shortcut.
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="_running_and_debugging">Running and debugging</h3>
<div class="paragraph" id="running-and-debugging"><p>To run an application:</p></div>
<div class="ulist"><ul>
<li>
<p>
Click the Run project button on the main toolbar to start a project&#8217;s
default application element or select Run context menu in an application
element&#8217;s such as a form, module or an JavaScript file.
</p>
</li>
<li>
<p>
Select Run context menu in an application element&#8217;s such as a form,
module or an JavaScript file.
</p>
</li>
</ul></div>
<div class="paragraph"><p>To debug an application:</p></div>
<div class="ulist"><ul>
<li>
<p>
Set breakpoints in the JavaScript program.
</p>
</li>
<li>
<p>
Click the Debug project button on the main toolbar or select the Debug
item in an application element&#8217;s context menu. The application will
start and the debugger will be attached.
</p>
</li>
<li>
<p>
After the debugger halts at the breakpoint, see the values of
variables and the call stack. To continue the program running, click the
Continue button on the main toolbar. Use the Step over button or the F8
key, Step into or the F7 key, Step out or the Ctrl F7 shortcut for
step-by-step execution of the program.
</p>
</li>
</ul></div>
<div class="paragraph"><p>If the default application run element is not explicitly specified in
the project&#8217;s settings the selection dialog will be displayed.</p></div>
<div class="paragraph"><p>To debug an application running in Apache Tomcat, you should stop server
instance if it is already launched and then start it in debug mode. After the
server starts use Attach Debugger menu item on the Debug Project button
on the main toolbar and specify the debugging port.</p></div>
<div class="paragraph"><p>When launching the application in a J2EE server, Platypus Application
Designer uses the <span class="monospaced">web</span>, <span class="monospaced">WEB-INF</span> and <span class="monospaced">META-INF</span> sub-directories, which
are created automatically in the project directory. When launching web application theirs initial
structure is created and libraries are copied. After initializing the
directories, files responsible for the configuration (<span class="monospaced">WEB-INF/web.xml</span>,
server specific configuration file <span class="monospaced">META-INF/context.xml</span>, and JavaScript file responsible for
the application launching on the HTML page) are modified, but the
libraries are not copied again.</p></div>
<div class="paragraph"><p>Select the Clean directories <span class="monospaced">web</span>, <span class="monospaced">WEB-INF</span> and Run menu item in the project context menu, if it is
necessary to update the libraries in the <span class="monospaced">web</span> and WEB-INF directories. The libraries
will be removed, and at the next application launch these libraries will
be copied from the platform&#8217;s runtime directory.</p></div>
</div>
<div class="sect2">
<h3 id="_database_connections">Database connections</h3>
<div class="paragraph" id="database-connections"><p>Define an application project&#8217;s database connections and the default
connection of the application. The default connection to be used when a
connection is not explicitly referenced in application elements.</p></div>
<div class="paragraph"><p>Add a new database connection:</p></div>
<div class="ulist"><ul>
<li>
<p>
Open the Services panel.
</p>
</li>
<li>
<p>
Select the New Connection menu item of the Databases node.
</p>
</li>
<li>
<p>
In the New Connection dialog select the JDBC driver and provide the
JDBC URL, database credentials, scheme and connection name. This name
will be used as an string identifier to refer to the connection JNDI
resource in the application.
</p>
</li>
</ul></div>
<div class="paragraph"><p>A JDBC URL example for the H2 database server with a database located in
the user&#8217;s home directory <span class="monospaced">db</span> subdirectory:
<span class="monospaced">jdbc:h2:tcp://localhost:9092/~/db</span>.</p></div>
<div class="paragraph"><p>Specify the project&#8217;s default database connection: go to the project&#8217;s
Properties and to the Running panel. Select the default connection from
the Datasource combobox.</p></div>
<div class="paragraph"><p>When opening the project, the application designer tries to connect to
the database, in case of failure it switches to the limited
functionality mode, and some editor tools are disabled.</p></div>
<div class="quoteblock">
<div class="content">
<div class="paragraph"><p><strong>Note</strong></p></div>
<div class="paragraph"><p>We recommend that a developer in the team working on the project creates
and uses his/her own copy of the database for debugging and testing
purposes. Additionally, a common reference database is created, and all
modifications, which have passed the debugging stage at the developer&#8217;s
individual databases, are applied to this common one.</p></div>
</div>
<div class="attribution">
</div></div>
<div class="paragraph"><p>Use the developer&#8217;s local database on the H2 database server, supplied
with the platform.</p></div>
<div class="paragraph"><p>To launch the built-in H2 database server:</p></div>
<div class="ulist"><ul>
<li>
<p>
Open the Services panel.
</p>
</li>
<li>
<p>
Select the Databases H2 node and enable the Start menu item.
</p>
</li>
</ul></div>
<div class="paragraph"><p>After the database server is launched and becomes available via the
network or locally, connect to this server by selecting the Connect to
database item in the context menu of Databases node child node on the Services tab.</p></div>
<div class="paragraph"><p>To disconnect, select the Disconnect from the same child node of Databases node on the Services tab.</p></div>
</div>
<div class="sect2">
<h3 id="_version_control">Version control</h3>
<div class="paragraph" id="version-control"><p>During application development and further during the application life
cycle, it is recommended to use a version control system to manage the
source project files.</p></div>
<div class="paragraph"><p>The application designer has built-in support of the following version
control systems:</p></div>
<div class="ulist"><ul>
<li>
<p>
Subversion
</p>
</li>
<li>
<p>
Git
</p>
</li>
<li>
<p>
Mercurial
</p>
</li>
</ul></div>
<div class="paragraph"><p>To access options of these version control systems, use the Team item
from the global menu and/or Versioning sub-menu of the project context
menu.</p></div>
<div class="quoteblock">
<div class="content">
<div class="paragraph"><p><strong>Note</strong></p></div>
<div class="paragraph"><p>Refer to the documentation of the relevant version control system for
details about this system usage.</p></div>
</div>
<div class="attribution">
</div></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_database_diagram">Database diagram</h2>
<div class="sectionbody">
<div class="paragraph" id="database-diagram"><p>Database diagram is an application element responsible for
representation of the database structure. For example, the diagram can
specify some part of the knowledge domain. Generally, the project
contains several database structure diagrams at the developer
convenience.</p></div>
<div class="paragraph"><p>A database structure diagram is a visual representation of the database
structure, and it does not directly affect the application
functionality.</p></div>
<div class="paragraph"><p>The structure of the relational database is determined by the tables and
links between them. Links between two tables are implemented through the
foreign keys.</p></div>
<div class="sect2">
<h3 id="_new_diagram_creation">New diagram creation</h3>
<div class="paragraph" id="new-diagram-creation"><p>To create a new database diagram, perform the following actions:</p></div>
<div class="ulist"><ul>
<li>
<p>
Select the New item in the parent directory context menu, or select
the parent directory and click New File in the main menu, or click the
New File button on the toolbar, or use the hotkey.
</p>
</li>
<li>
<p>
Select the Database structure diagram type in the context menu or
select Choose file type Platypus application elements Database diagram
on the wizard first step and click Next.
</p>
</li>
<li>
<p>
Select the connection to database and database schema:
</p>
<div class="ulist"><ul>
<li>
<p>
Select the default database; click the Default button or a connection
to the external database; click the Specific button and select a specific
database connection.
</p>
</li>
<li>
<p>
Select a schema in the database in the Schema drop-down list; click
the Default button to select a default databse user&#8217;s schema.
</p>
</li>
<li>
<p>
Click the Next button.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Specify the name of the new database structure diagram in the Name
field, and click the Finish button to create a new application element,
or click Cancel to abort.
</p>
</li>
</ul></div>
<div class="paragraph"><p>After creating the database structure diagram, fill it with the database
tables. To do that, define the tables, theirs fields and theirs
descriptions. After that define foreign key links between the tables.</p></div>
</div>
<div class="sect2">
<h3 id="_diagram_visual_editor">Diagram visual editor</h3>
<div class="paragraph"><p>Diagram is a representation of some tables in the database, as well as
the links between them. In general, one includes a part of the database
overall structure, which is, for example, related to the certain segment
of application functionality.</p></div>
<div class="paragraph"><p>Visual editor tool is used for editing database structure diagrams.</p></div>
<div class="paragraph"><p>Visual editor allows you to modify the database structure e.g. add or
delete tables, links between tables, and indexes. The same table can be
represented in several diagrams.</p></div>
<div class="paragraph"><p>For navigation through a diagram, it is convenient to use the diagram
inspector panel. In the inspector, tables and their fields are
represented in the tree structure. When selecting a table or a field in
the inspector, the same selection takes place in the diagram editor.</p></div>
<div class="paragraph"><p>To add an existing table to the diagram, perform the following actions:</p></div>
<div class="ulist"><ul>
<li>
<p>
Select the Add table menu item on the editor toolbar, or use the Ctrl
Shift Insert shortcut.
</p>
</li>
<li>
<p>
Select a table in the table selection dialog; if necessary, use the
search function. To access it, click Find.
</p>
</li>
<li>
<p>
Click OK to add the table, or click Cancel to cancel.
</p>
</li>
<li>
<p>
If necessary, drag the table in the diagram to the desired location.
</p>
</li>
<li>
<p>
Save the application element by clicking the Save All button on the
Platypus Application Designer toolbar, or by pressing the Ctrl Shift S
shortcut.
</p>
</li>
</ul></div>
<div class="paragraph"><p>To create a new table and to add it to the diagram, perform the
following actions:</p></div>
<div class="ulist"><ul>
<li>
<p>
Select the Add table Create new table item in the menu on the editor
toolbar.
</p>
</li>
<li>
<p>
Specify the name of the new table in the dialog.
</p>
</li>
<li>
<p>
Click OK to add the table, or click Cancel to cancel.
</p>
</li>
<li>
<p>
If necessary, drag the table in the diagram to the desired location.
</p>
</li>
<li>
<p>
Save the application element by clicking the Save All button on the
Platypus Application Designer toolbar, or by pressing the Ctrl Shift S
shortcut.
</p>
</li>
</ul></div>
<div class="quoteblock">
<div class="content">
<div class="paragraph"><p><strong>Note</strong></p></div>
<div class="paragraph"><p>A numeric primary key field will be automatically created for a new
table.</p></div>
</div>
<div class="attribution">
</div></div>
<div class="paragraph"><p>To remove a table from the diagram, perform the following actions:</p></div>
<div class="ulist"><ul>
<li>
<p>
Select a table in the diagram.
</p>
</li>
<li>
<p>
Click the Delete button on the editor toolbar.
</p>
</li>
<li>
<p>
In the confirmation dialog, click the Delete from diagram button to
remove the table from the diagram (from the diagram only, not from the
database). Click the Drop table button to remove the table from the
database (physical destruction of the table), or click Cancel to cancel.
</p>
</li>
<li>
<p>
Save the application element by clicking the Save All button on the
Platypus Application Designer toolbar, or by pressing the Ctrl Shift S
shortcut.
</p>
</li>
</ul></div>
<div class="paragraph"><p>To add the table fields, perform the following actions:</p></div>
<div class="ulist"><ul>
<li>
<p>
Select the table in the diagram.
</p>
</li>
<li>
<p>
Click the Create new field/parameter button on the toolbar of the
table fields editor tab. The new field dialog appears. Provide the new
table field properties and click OK button to create the new field or
Cancel to cancel the process.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Table field properties:</p></div>
<div class="ulist"><ul>
<li>
<p>
name is the field&#8217;s name in the table
</p>
</li>
<li>
<p>
description is the field&#8217;s description
</p>
</li>
<li>
<p>
type is the field&#8217;s data type
</p>
</li>
<li>
<p>
type name is the data structure type name, this field is enabled if
the <span class="monospaced">STRUCT</span> data type is selected
</p>
</li>
<li>
<p>
size is the field length
</p>
</li>
<li>
<p>
scale is the field scale or precision
</p>
</li>
<li>
<p>
nullable determines if <span class="monospaced">NULL</span> values are allowed for the field.
</p>
</li>
</ul></div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<col style="width:50%;">
<col style="width:50%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" >Type name </th>
<th class="tableblock halign-left valign-top" >Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">NUMERIC</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Number</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">DECIMAL</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Decimal number</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">VARCHAR</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">String with limited length</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">TIMESTAMP</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Date and time</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">DATE</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Date</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">STRUCT</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Structure</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">BLOB</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Binary object with unlimited length</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">CLOB</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">String with unlimited length</p></td>
</tr>
</tbody>
</table>
<div class="paragraph"><p>To edit the field, perform the following actions:</p></div>
<div class="ulist"><ul>
<li>
<p>
Select the field node among the table daughter nodes in the data model
inspector.
</p>
</li>
<li>
<p>
Edit the field parameters in the Properties editor window.
</p>
</li>
</ul></div>
<div class="paragraph"><p>To remove the field, perform the following actions:</p></div>
<div class="ulist"><ul>
<li>
<p>
Select the table field in the diagram.
</p>
</li>
<li>
<p>
Click Delete on the fields editor toolbar, or use the Ctrl Delete
shortcut.
</p>
</li>
</ul></div>
<div class="paragraph"><p>To edit the table indexes, use the inspector: open the node of the
relevant table, and use the Indexes node.</p></div>
<div class="paragraph"><p>To add a new table index, perform the following actions:</p></div>
<div class="ulist"><ul>
<li>
<p>
Select the Add index item in the Indexes node context menu of the
corresponding database table.
</p>
</li>
<li>
<p>
In the table columns selection dialog, select necessary fields and
click OK to add the table index, or click Cancel to cancel.
</p>
</li>
<li>
<p>
If necessary, remove the field from the index using the Delete item
from the index column context menu.
</p>
</li>
<li>
<p>
If necessary, modify the order of the fields in the index using the
Move up and Move down items from the index column context menu.
</p>
</li>
<li>
<p>
If necessary, change the status of the Ascending checkbox on the
properties panel for the index column, setting the ascending or
descending sorting order.
</p>
</li>
<li>
<p>
Set the index name in the Index name field on the index node
properties panel.
</p>
</li>
<li>
<p>
If necessary, check the Unique option on the index node properties
panel to make the index unique or non-unique.
</p>
</li>
<li>
<p>
If necessary, check the Clustered option on the index node properties
panel to create a clustered index.
</p>
</li>
<li>
<p>
If necessary, check the Hashed option on the index node properties
panel to enable or disable hashing for this index.
</p>
</li>
</ul></div>
<div class="paragraph"><p>To modify an table index, perform the following actions:</p></div>
<div class="ulist"><ul>
<li>
<p>
Select the index in the table indexes list.
</p>
</li>
<li>
<p>
Edit the index; to do that, follow the same steps as when adding a new
index.
</p>
</li>
</ul></div>
<div class="paragraph"><p>To delete an index, perform the following actions:</p></div>
<div class="ulist"><ul>
<li>
<p>
Select the index among other child nodes of the relevant table in the
inspector.
</p>
</li>
<li>
<p>
Select the Delete item in the index node context menu.
</p>
</li>
</ul></div>
<div class="paragraph"><p>To add a foreign key for the table, perform the following actions:</p></div>
<div class="ulist"><ul>
<li>
<p>
Using the mouse, drag the field of one table to the primary key field
of the other table.
</p>
<div class="paragraph"><p>After that, a foreign key will be created in the database; visually, the
link will be represented by the line with arrow between the tables fields.
* Save the application element by clicking the Save All button on the
Platypus Application Designer toolbar, or by using the Ctrl Shift S
shortcut.</p></div>
</li>
</ul></div>
<div class="quoteblock">
<div class="content">
<div class="paragraph"><p><strong>Important</strong></p></div>
<div class="paragraph"><p>Data types of the fields connected by the foreign key link must be the
same.</p></div>
</div>
<div class="attribution">
</div></div>
<div class="paragraph"><p>To build a hierarchical table structure (unary link), drag the table
field to the primary key field of the same table using the mouse.</p></div>
<div class="paragraph"><p>To remove the table foreign key, perform the following actions:</p></div>
<div class="ulist"><ul>
<li>
<p>
Select the foreign key link using the mouse.
</p>
</li>
<li>
<p>
Click the Delete button or use the Ctrl Delete shortcut.
</p>
</li>
<li>
<p>
Save the application element by clicking the Save All button on the
Platypus Application Designer toolbar, or by using the Ctrl Shift S
shortcut.
</p>
</li>
</ul></div>
<div class="paragraph"><p>To query the data from the table, perform the following actions:</p></div>
<div class="ulist"><ul>
<li>
<p>
Select the table in the diagram.
</p>
</li>
<li>
<p>
Click the Query Table Data button on the local toolbar. The data will
be requested from the table, and the results will be displayed in the
editor&#8217;s output area.
</p>
</li>
</ul></div>
<div class="paragraph"><p>To modify the size of the database structure diagram visual
representation, perform the following actions:</p></div>
<div class="ulist"><ul>
<li>
<p>
Click the Zoom In button to scale up, or Zoom out button to scale down
the representation of the database structure in the editor.
</p>
</li>
</ul></div>
<div class="paragraph"><p>To search through the diagram, perform the following actions:</p></div>
<div class="ulist"><ul>
<li>
<p>
Click Find to open the diagram search dialog.
</p>
</li>
<li>
<p>
Specify the search string.
</p>
</li>
<li>
<p>
Select fields to be searched through: Datasets, Fields, Params, and
check (uncheck) the following options: use the option Whole words to
search for whole words and the Match case to perform a case-sensitive
search.
</p>
</li>
<li>
<p>
Click Next and Previous buttons to go to the next found entity.
</p>
</li>
<li>
<p>
Click Close to close the search dialog.
</p>
</li>
</ul></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_sql_query">SQL query</h2>
<div class="sectionbody">
<div class="paragraph" id="sql-query"><p>Query is an application element which defines the SQL expression to be
executed in database. A query&#8217;s SQL text is preprocessed before
execution.</p></div>
<div class="paragraph"><p>Queries can solve several tasks:</p></div>
<div class="ulist"><ul>
<li>
<p>
Requesting data from the database (<span class="monospaced">Select</span> queries).
</p>
</li>
<li>
<p>
Definintion of metadata for enabling implicit data modifications
commands generation (<span class="monospaced">Select</span> queries).
</p>
</li>
<li>
<p>
Performing explicit data manupulations (<span class="monospaced">Insert</span>, <span class="monospaced">Delete</span>, and
<span class="monospaced">Update</span> queries).
</p>
</li>
</ul></div>
<div class="quoteblock">
<div class="content">
<div class="paragraph"><p><strong>Note</strong></p></div>
<div class="paragraph"><p>In most cases, data adding and updating tasks are carried out by the
data model automatically when saving changes. To do that, you can just
specify a query of the <span class="monospaced">Select</span> type.</p></div>
</div>
<div class="attribution">
</div></div>
<div class="paragraph"><p>Queries have the following characteristics:</p></div>
<div class="ulist"><ul>
<li>
<p>
Queries support named and typed parameters.
</p>
</li>
<li>
<p>
Sql clauses are re-used to enable inclusion of some queries into other
queries without any duplication.
</p>
</li>
<li>
<p>
You can edit queries in the visual tool and as Sql text form
simultaneously.
</p>
</li>
<li>
<p>
Query results are translated into entities which can be processed by
JavaScript code in ORM style.
</p>
</li>
<li>
<p>
Query allows you to define the pattern for processing data changes
made while the application is running. It is possible to define a list
of tables where the changes will be stored.
</p>
</li>
</ul></div>
<div class="sect2">
<h3 id="new-query-creation">New query creation</h3>
<div class="paragraph"><p>To create a new query, perform the following actions:</p></div>
<div class="ulist"><ul>
<li>
<p>
Select the New item in the parent directory context menu, or select
the parent directory and select the New File item in the main menu, or
click New File on the toolbar, or use the hotkey.
</p>
</li>
<li>
<p>
Select the Query type in the context menu, or select Choose file type
Platypus application elements Query on the wizard first step and click
Next.
</p>
</li>
<li>
<p>
Select the connections to the database and the schema:
</p>
<div class="ulist"><ul>
<li>
<p>
Select the default database or click the Default button to choose project&#8217;s
default database to be used with new query.
</p>
</li>
<li>
<p>
Click Next.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Specify the name of the new query in the Name field, and click Finish
button to create the new application element, or click Cancel to cancel.
</p>
</li>
</ul></div>
<div class="paragraph"><p>After the query creation wizard completes the steps, a new empty query
is created.</p></div>
</div>
<div class="sect2">
<h3 id="query-editor">Query editor</h3>
<div class="paragraph"><p>The special editor is used to edit a query Sql text and its support
configuration files. This editor allows you to perform visual editing of
the query and direct modicatation of the Sql text.</p></div>
<div class="paragraph"><p>Full-featured editing using the visual editor is possible if the
connection to the database is established. If there is no connection to
the database, only the Sql source modification is possible.</p></div>
<div class="paragraph"><p>To determine the general properties, use the query properties panel or
add the relevant annotation to the query header manually:</p></div>
<div class="ulist"><ul>
<li>
<p>
Select the root node in the query inspector.
</p>
</li>
<li>
<p>
Edit the query properties on the Properties panel (if necessary,
enable the panel in the Windows Properties global menu).
</p>
<div class="ulist"><ul>
<li>
<p>
Check the public option to make the query accessible to remote
invocation, e.g. on the server and using from the Platypus Client or
browser data model.
</p>
</li>
<li>
<p>
Check the procedure option, if the query will be used to call the
stored procedure.
</p>
</li>
<li>
<p>
Check the readonly option, if you don&#8217;t want to accumulate chnages of data from this query
later in modules in corresponding data models.
</p>
</li>
<li>
<p>
Select the specific connection to a database if you want the query to
be executed against this database. To assign a query to the default
database connection, clear this field.
</p>
</li>
</ul></div>
</li>
</ul></div>
<div class="paragraph"><p>For navigation through the queries, it is convenient to use the query
inspector panel. In the query inspector, parameters, tables, and
sub-queries are represented as a tree nodes. Parameters and data fields
are the leaves.</p></div>
<div class="paragraph"><p>A table or sub-query can be selected both in the visual editor and in
the query inspector.</p></div>
<div class="paragraph"><p>You can start editing the Sql query from setting the query parameters
(if necessary) or from using the visual editor.</p></div>
<div class="paragraph"><p>To add a database table to the query, perform the following actions:</p></div>
<div class="ulist"><ul>
<li>
<p>
Select the Sql designer tab in the query editor.
</p>
</li>
<li>
<p>
Select the Add table/Add query Add table item on the editor toolbar,
or use the Ctrl Shift Insert shortcut.
</p>
</li>
<li>
<p>
Select the table from the list in the table selection dialog. If
necessary, select the schema in the Schema drop-down list. The Default
button sets the default schema for the application, if necessary, use
the search function by clicking the Find button.
</p>
</li>
<li>
<p>
Click OK to add the table, or click Cancel to cancel.
</p>
</li>
<li>
<p>
If necessary, drag the table to the desired location in the query
diagram.
</p>
</li>
<li>
<p>
Save the application element by clicking the Save All button on the
Platypus Application Designer toolbar, or by using the Ctrl Shift S
shortcut.
</p>
</li>
</ul></div>
<div class="paragraph"><p>To include the existing query as a sub-query into the query being
edited, perform the following actions:</p></div>
<div class="ulist"><ul>
<li>
<p>
Select the Add table/Add query Add query item in the menu on the
editor toolbar.
</p>
</li>
<li>
<p>
Select the Query application element type in the selection dialog.
</p>
</li>
<li>
<p>
Click OK to add the query, or click Cancel to cancel.
</p>
</li>
<li>
<p>
If necessary, drag the query to the desired location in the visual
editor diagram.
</p>
</li>
<li>
<p>
Save the application element by clicking the Save All button on the
Platypus Application Designer toolbar, or by using the Ctrl Shift S
shortcut.
</p>
</li>
</ul></div>
<div class="quoteblock">
<div class="content">
<div class="paragraph"><p><strong>Note</strong></p></div>
<div class="paragraph"><p>Drag the existing query from the application elements tree of the
Projects panel onto the visual editor diagram in order to include it
into the query being edited without opening the application elements
selection dialog.</p></div>
</div>
<div class="attribution">
</div></div>
<div class="paragraph"><p>To assign the table or a sub-query an alias, just type it in the text editor
or the query or perform the following actions:</p></div>
<div class="ulist"><ul>
<li>
<p>
Select the table or sub-query in the query diagram.
</p>
</li>
<li>
<p>
On the Properties panel, specify the value in the alias field.
</p>
</li>
<li>
<p>
Save the application element by clicking the Save All button on the
Platypus Application Designer toolbar, or by using the Ctrl Shift S
shortcut.
</p>
</li>
</ul></div>
<div class="paragraph"><p>To remove the table or sub-query from the query visual editor diagram,
perform the following actions:</p></div>
<div class="ulist"><ul>
<li>
<p>
Select the table or sub-query in the diagram or in the query
inspector.
</p>
</li>
<li>
<p>
Click the Delete button on the query editor toolbar to remove the
table or sub-query from the diagram.
</p>
</li>
<li>
<p>
Save the application element by clicking the Save All button on the
Platypus Application Designer toolbar, or by using the Ctrl Shift S
shortcut.
</p>
</li>
</ul></div>
<div class="quoteblock">
<div class="content">
<div class="paragraph"><p><strong>Note</strong></p></div>
<div class="paragraph"><p>If the Properties panel is not displayed, enable this panel; to do that,
select the Window Properties item in the Platypus Application Designer
main menu.</p></div>
</div>
<div class="attribution">
</div></div>
<div class="paragraph"><p>To add the query parameters, perform the following actions:</p></div>
<div class="ulist"><ul>
<li>
<p>
Click the New field/parameter button on the fields editing tab toolbar
to add a field.
</p>
</li>
<li>
<p>
Modify the new parameter properties. To do that, select its node among
the query parameters nodes in the inspector and edit the parameter
properties in the Properties window.
</p>
</li>
<li>
<p>
Save the application element by clicking the Save All button on the
Platypus Application Designer toolbar, or by using the Ctrl Shift S
shortcut.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Parameter field properties:</p></div>
<div class="ulist"><ul>
<li>
<p>
Name is the parameter name.
</p>
</li>
<li>
<p>
Description is the parameter description.
</p>
</li>
<li>
<p>
Type is the parameter type, select in the drop-down list.
</p>
</li>
<li>
<p>
Type Name is the data structure type name, this field is accessible
when the Structure field type is selected.
</p>
</li>
<li>
<p>
Size is the field length or precision.
</p>
</li>
<li>
<p>
Mode defines this parameter mode, in the case the parameter will be
used as the stored procedure parameter.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Stored procedure parameter modes:</p></div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<col style="width:50%;">
<col style="width:50%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" >Value </th>
<th class="tableblock halign-left valign-top" >Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">in</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">IN</span> operation mode</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">in/out</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">IN/OUT</span> operation mode</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">out</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">OUT</span> operation mode</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">unknown</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Parameter operation mode is unknown</p></td>
</tr>
</tbody>
</table>
<div class="paragraph"><p>To edit the query parameter, perform the following actions:</p></div>
<div class="ulist"><ul>
<li>
<p>
Select the parameter node from the parameters nodes in the inspector.
</p>
</li>
<li>
<p>
Edit the parameters. To do that, follow the same steps as when
creating a parameter.
</p>
</li>
<li>
<p>
Save the application element by clicking the Save All button on the
Platypus Application Designer toolbar, or by using theCtrl Shift S
shortcut.
</p>
</li>
</ul></div>
<div class="paragraph"><p>To remove the parameter, perform the following action:</p></div>
<div class="ulist"><ul>
<li>
<p>
Select the parameter on the parameters panel.
</p>
</li>
<li>
<p>
Click the Delete button on the parameters editing tab toolbar, or use
the Delete shortcut.
</p>
</li>
<li>
<p>
Save the application element by clicking the Save All button on the
Platypus Application Designer toolbar, or by using the Ctrl Shift S
shortcut.
</p>
</li>
</ul></div>
<div class="paragraph"><p>The query parameter can be linked to a table or sub-query field, or to a
sub-query parameter.</p></div>
<div class="paragraph"><p>When linked to field, the parameter will be included into the Sql source
and visually, the link will be displayed as a black arrow.</p></div>
<div class="paragraph"><p>When the parameter is linked to a sub-query parameter, the parameters
will be mapped in the query model, visually, this link will be displayed
as a magenta arrow.</p></div>
<div class="paragraph"><p>To add a link between the parameter and a field or sub-query parameter,
perform the following actions:</p></div>
<div class="ulist"><ul>
<li>
<p>
Using the mouse, drag the parameter to the table field or sub-query
parameter to which the parameter should be linked. Visually, the link
will be displayed as an arrow between tables and sub-queries fields.
</p>
</li>
<li>
<p>
Save the application element by clicking the Save All button on the
Platypus Application Designer toolbar, or by using the Ctrl Shift S
shortcut.
</p>
</li>
</ul></div>
<div class="paragraph"><p>To remove a link, perform the following actions:</p></div>
<div class="ulist"><ul>
<li>
<p>
Select the link between a parameter and a table field or sub-query
parameter.
</p>
</li>
<li>
<p>
Click the Delete button or use the Delete shortcut.
</p>
</li>
<li>
<p>
Save the application element by clicking the Save All button on the
Platypus Application Designer toolbar, or by using the Ctrl Shift S
shortcut.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Modifications of the SQL query made in the visual editor are displayed
in the source text on the SQL Source panel, and vice versa.</p></div>
<div class="paragraph"><p>Modify the Sql source text in the editor, for example, in order to add
custom conditions, or write the Sql source text from scratch. Use the
query inspector to drag the table fields and parameters from the
inspector tree right into the query source text. For the tables fields
names, use the Sql code auto-completion function.</p></div>
<div class="paragraph"><p>If necessary, database specific Sql clause can be provided for the
query.</p></div>
<div class="quoteblock">
<div class="content">
<div class="paragraph"><p><strong>Note</strong></p></div>
<div class="paragraph"><p>Use the database specific Sql only when it is really necessary, and only
if there is no need to enable portability of applications to different
databases.</p></div>
</div>
<div class="attribution">
</div></div>
<div class="paragraph"><p>Query execution output fields are determined automatically as a result
of the Sql source text processing. Check this output field in the
inspector&#8217;s Output Fields node.</p></div>
<div class="paragraph"><p>It is possible to change the output field type, as well as its
description. To do that, perform the following actions:</p></div>
<div class="ulist"><ul>
<li>
<p>
Select the output field among the Output Fields node children in the
inspector, and edit its properties in the Properties editing window.
</p>
</li>
<li>
<p>
Specify the output field type in the Type property by selecting it in
the drop-down list.
</p>
</li>
<li>
<p>
Specify the output field description in the Description property.
</p>
</li>
</ul></div>
<div class="paragraph"><p>To execute a database Sql query in the database, perform the following
actions:</p></div>
<div class="ulist"><ul>
<li>
<p>
Select the application element and select the Execute item in the
query context menu or in the SQL Source editor context menu. Execution
results will be displayed in the application designer output window.
</p>
</li>
<li>
<p>
If the query has parameters, specify them in the query execution
dialog. If necessary, modify the query source in the same dialog.
</p>
</li>
<li>
<p>
Click OK to execute the query, or click Cancel to cancel.
</p>
</li>
</ul></div>
<div class="paragraph"><p>To change the size of the query diagram visual representation, perform the
following actions:</p></div>
<div class="ulist"><ul>
<li>
<p>
Press the Zoom In button to scale up, and press the Zoom out button to
scale down the query diagram.
</p>
</li>
</ul></div>
<div class="paragraph"><p>To use the search function for searching through the query diagram,
perform the following actions:</p></div>
<div class="ulist"><ul>
<li>
<p>
Click the Find button to open the search dialog for searching through
the query diagram.
</p>
</li>
<li>
<p>
Specify the search string, select fields to be searched through:
Datasets, Fields, Params, and check (uncheck) the following options:
Whole words to search for whole words, Match case to perform
case-sensitive search.
</p>
</li>
<li>
<p>
Click Next and Previous buttons to go to the next search result.
</p>
</li>
<li>
<p>
Click Close to close the search dialog.
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="sql-source">Sql source</h3>
<div class="paragraph"><p>Edit the query&#8217;s Sql source on the Sql Source tab. Sql syntax must
comply with the Sql-92 standard.</p></div>
<div class="paragraph"><p>The Sql source text must begin with a special header, in a form of
multiline Sql comment.</p></div>
<div class="paragraph"><p>It is required to define a query name within the application in
accordance with the requirements applicable to JavaScript identifiers.
On creating a new query in Platypus Application Designer, its name will
be generated according to the created files name, spaces will be
replaced by underscores.</p></div>
<div class="paragraph"><p>Specify the query name, for this use the <span class="monospaced">@name</span> annotation in the query
header:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * Query header example</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * </span></span><span style="color: #009900">@name</span><span style="font-style: italic"><span style="color: #9A1900"> AllDocuments</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> **/</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">SELECT</span></span> <span style="color: #990000">*</span>
<span style="font-weight: bold"><span style="color: #0000FF">FROM</span></span> Document</tt></pre></div></div>
<div class="paragraph"><p><span class="monospaced">@public</span> annotation enables using this query in a remote client&#8217;s data
model, which fetches and writes data over network.</p></div>
<div class="paragraph"><p><span class="monospaced">@procedure</span> annotation enables using this query with database stored
procedure.</p></div>
<div class="paragraph"><p>Sql <span class="monospaced">Select</span> query can contain sampling of all fields using <span class="monospaced">*</span> symbol
or only the required ones using explicit fields definition. If the first
type of sampling is used, the names of the properties that will be
accessible in the JavaScript code are defined by the table columns
names, and can be uppercased or lowercased. To create the code
compatible with various databases, it is recommended to use the second
option with explicit indication of the query output fields, for example
<span class="monospaced">Select a, b, c From table</span>.</p></div>
<div class="paragraph"><p>Platypus queries can contain named parameters. Every parameter must
begin with <span class="monospaced">':'</span> prefix: <span class="monospaced">:paramName</span>, where paramName is the name of the
parameter.</p></div>
<div class="paragraph"><p>Example of a SQL query source with the named parameters:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * Device log for period of time</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * </span></span><span style="color: #009900">@name</span><span style="font-style: italic"><span style="color: #9A1900"> Timelog</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> **/</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">Select</span></span> <span style="color: #990000">*</span>
<span style="font-weight: bold"><span style="color: #0000FF">From</span></span> TR_TRACKINGDEVICE_LOG trackingLog
<span style="font-weight: bold"><span style="color: #0000FF">Where</span></span> trackingLog<span style="color: #990000">.</span>DEVICE_ID <span style="color: #990000">=</span> <span style="color: #990000">:</span>deviceId
<span style="font-weight: bold"><span style="color: #0000FF">and</span></span> trackingLog<span style="color: #990000">.</span><span style="color: #009900">TIME</span> <span style="color: #990000">&gt;=</span> <span style="color: #990000">:</span>timeFrom
<span style="font-weight: bold"><span style="color: #0000FF">and</span></span> trackingLog<span style="color: #990000">.</span><span style="color: #009900">TIME</span> <span style="color: #990000">&lt;=</span> <span style="color: #990000">:</span>timeTo
<span style="font-weight: bold"><span style="color: #0000FF">Order</span></span> <span style="font-weight: bold"><span style="color: #0000FF">by</span></span> trackingLog<span style="color: #990000">.</span><span style="color: #009900">TIME</span> <span style="font-weight: bold"><span style="color: #0000FF">asc</span></span></tt></pre></div></div>
<div class="paragraph"><p>Queries can be used again in other queries. To use a query as the
sub-query, include its name in the Sql source with '<span class="monospaced">#'</span> prefix: <span class="monospaced">#SubQuery</span>,
where SubQuery is the name of the query to be used as a sub-query.</p></div>
<div class="paragraph"><p>For example:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * Time log priority filter</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * </span></span><span style="color: #009900">@name</span><span style="font-style: italic"><span style="color: #9A1900"> Filter</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> **/</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">Select</span></span> <span style="color: #990000">*</span>
<span style="font-weight: bold"><span style="color: #0000FF">From</span></span> <span style="font-style: italic"><span style="color: #9A1900">#Timelog timeLog</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">Where</span></span> timeLog<span style="color: #990000">.</span>PRIORITY <span style="color: #990000">&gt;</span> <span style="color: #990000">:</span>priority</tt></pre></div></div>
<div class="paragraph"><p>In the snippet above, a query named <span class="monospaced">Timelog</span> is used as the sub-query
in the <span class="monospaced">Filter</span> query.</p></div>
<div class="paragraph"><p>If the sub-query contains parameters, it is necessary to associate them
with the parameters of the query into which it was embedded.</p></div>
<div class="paragraph"><p><span class="monospaced">Select</span> query type returns a data array which is loaded to the some data
model and can be processed using the JavaScript code. Concrete data
values of these dataset can be changed while the application is running.
When enabled, this data changes can be automatically converted into the
set of Sql <span class="monospaced">Insert</span> and <span class="monospaced">Update</span> commands when saving to the database.
To make this mechanism work, the data array returned by the <span class="monospaced">Select</span> query
must contain the primary keys of all relevant tables. This enables the
ORM implementation to determine to which database table row write the
changed data.</p></div>
<div class="paragraph"><p>In order to specify, which tables mentioned in the query can be modified
using this mechanism, use the following annotations: <span class="monospaced">@writable</span> &#8230; For
this annotation, provide the list of tables, using spaces to delimit
them.</p></div>
<div class="paragraph"><p>If there is no <span class="monospaced">@writable</span> annotation, all tables mentioned in the query
will become writable.</p></div>
<div class="paragraph"><p>To disable writing to all tables mentioned in the query, add the
<span class="monospaced">@readonly</span> annotation to the query header.</p></div>
<div class="paragraph"><p>In the example below only the <span class="monospaced">Document</span> table is writable:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * </span></span><span style="color: #009900">@name</span><span style="font-style: italic"><span style="color: #9A1900"> docsCategories</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * </span></span><span style="color: #009900">@writable</span><span style="font-style: italic"><span style="color: #9A1900"> Document</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> **/</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">Select</span></span> <span style="color: #990000">*</span>
<span style="font-weight: bold"><span style="color: #0000FF">From</span></span> Document d
<span style="font-weight: bold"><span style="color: #0000FF">Inner</span></span> <span style="font-weight: bold"><span style="color: #0000FF">Join</span></span> Category c
<span style="font-weight: bold"><span style="color: #0000FF">on</span></span> d<span style="color: #990000">.</span>CategoryID <span style="color: #990000">=</span> c<span style="color: #990000">.</span>CATEGORY_ID</tt></pre></div></div>
</div>
<div class="sect2">
<h3 id="sql-dialect-source">Sql dialect source</h3>
<div class="paragraph"><p>Enter database specific Sql source text at the Sql dialect source tab.</p></div>
<div class="paragraph"><p>It is necessary to enter the correspondent source text in the Sql source
field. This source text will be used for determination of the metadata
for processing the query results.</p></div>
<div class="paragraph"><p>If the specific Sql source text is provided, it will be used during the
query execution, and the main Sql source text will be used to extract
the metadata.</p></div>
<div class="quoteblock">
<div class="content">
<div class="paragraph"><p><strong>Note</strong></p></div>
<div class="paragraph"><p>Use the database specific Sql only when it is really necessary, and only
if there is no need to enable portability of applications to the
different databases.</p></div>
</div>
<div class="attribution">
</div></div>
<div class="paragraph"><p>An example of an Oracle database specific hierarchical query:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">Select</span></span> Level<span style="color: #990000">,</span> ename <span style="color: #FF0000">"employee"</span><span style="color: #990000">,</span> empno<span style="color: #990000">,</span> mgr <span style="color: #FF0000">"manager"</span>
 Form emp Start <span style="font-weight: bold"><span style="color: #0000FF">With</span></span> mgr <span style="font-weight: bold"><span style="color: #0000FF">is</span></span> <span style="font-weight: bold"><span style="color: #0000FF">null</span></span>
 Connect <span style="font-weight: bold"><span style="color: #0000FF">By</span></span> Prior empno <span style="color: #990000">=</span> mgr<span style="color: #990000">;</span></tt></pre></div></div>
<div class="paragraph"><p>For the dialect query snippet above the main Sql source can be:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * Hierarchial employees query</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * </span></span><span style="color: #009900">@name</span><span style="font-style: italic"><span style="color: #9A1900"> Employees</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> **/</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">Select</span></span> <span style="color: #990000">*</span> <span style="font-weight: bold"><span style="color: #0000FF">FROM</span></span> emp</tt></pre></div></div>
</div>
<div class="sect2">
<h3 id="security">Security</h3>
<div class="paragraph"><p>Generally, access to data in the database must be differentiated for
various user groups. In Platypus.js there is an embedded security mechanism
which implements the constraints of access to the resources based on the
roles of the logged in user who is performing the current operation.</p></div>
<div class="paragraph"><p>To limit the access to the query for certain roles, add the
<span class="monospaced">@rolesAllowed</span> &#8230; annotation into the query header. For the added
annotation, specify the list of roles delimiting them by spaces.</p></div>
<div class="paragraph"><p>The roles listed in the <span class="monospaced">@rolesAllowed</span> annotation are granted with
rights both for reading and writing data to the database. If more
detailed definition of the data access policy is required, use the
<span class="monospaced">@rolesAllowedRead</span> and <span class="monospaced">@rolesAllowedWrite</span> annotations.</p></div>
<div class="paragraph"><p>Specify the list of roles, for which only data reading is allowed, in
the <span class="monospaced">@rolesAllowedRead</span> annotation.</p></div>
<div class="paragraph"><p>Specify the list of roles, for which only data writing is allowed, in
the <span class="monospaced">@rolesAllowedWrite</span> annotation.</p></div>
<div class="paragraph"><p>If none of the <span class="monospaced">@rolesAllowed</span>, <span class="monospaced">@rolesAllowedRead</span>, or
<span class="monospaced">@rolesAllowedWrite</span> annotations are specified for the query, the
database data manipulated by the query are readable and writable for any
user.</p></div>
<div class="paragraph"><p>An example of the query where reading and writing rights are granted to
the <span class="monospaced">admin</span> role only:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * </span></span><span style="color: #009900">@name</span><span style="font-style: italic"><span style="color: #9A1900"> AllCategories</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * </span></span><span style="color: #009900">@rolesAllowed</span><span style="font-style: italic"><span style="color: #9A1900"> admin</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> **/</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">Select</span></span> <span style="color: #990000">*</span>
<span style="font-weight: bold"><span style="color: #0000FF">From</span></span> Category</tt></pre></div></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_javascript_module">JavaScript module</h2>
<div class="sectionbody">
<div class="paragraph" id="javascript-module"><p>Module is a JavaScript file containing the constructor function and some specific resources.
Modules contain data model responsible for data access and &lt;ModuleName&gt;.model file contains
its data model definition.</p></div>
<div class="paragraph"><p>Modules can be executed both under JVM in a client and server on Oracle Nashorn
javasceript engine or in a browser.</p></div>
<div class="sect2">
<h3 id="_new_module_creation">New module creation</h3>
<div class="paragraph" id="new-module-creation"><p>To create a new module, perform the following actions:</p></div>
<div class="ulist"><ul>
<li>
<p>
Select New in the parent directory context menu, or select the parent
directory and click New Filе in the main menu, or click New File on the
toolbar, or use a corresponding shortcut.
</p>
</li>
<li>
<p>
Select Module type in the context menu, or select Choose file type
Platypus application elements Module on the wizard first step and click
Next.
</p>
</li>
<li>
<p>
Enter the name of a new application element in the Name field and
click Finish to create it, or click Cancel to cancel.
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="_javascript_code_editor">JavaScript code editor</h3>
<div class="paragraph" id="javascript-code-editor"><p>You can edit the module code in the JavaScript code editor. To open the
application element editor, double-click an application element in the
project tree.</p></div>
<div class="paragraph"><p>To edit the JavaScript code:</p></div>
<div class="ulist"><ul>
<li>
<p>
Open the Source tab of the module editor.
</p>
</li>
<li>
<p>
Change text in the JavaScript code editor.
</p>
</li>
<li>
<p>
Use the code completion for field names and functions of objects and
modules.
</p>
</li>
<li>
<p>
Use automatic transition to declarations of variables, functions, and
to the functions of other modules; to do this, click a module ID or
function while holding down the Ctrl key.
</p>
</li>
<li>
<p>
Use context menus and shortcuts to use built-in editor functions.
</p>
</li>
<li>
<p>
Save the application element by clicking Save All on the Platypus
Application Designer toolbar or by using the Ctrl S keyboard shortcut.
</p>
</li>
</ul></div>
<div class="listingblock">
<div class="content monospaced">
<pre>*Note*

Use the editor's context menu Format menu item to format the JavaScript
code automatically.</pre>
</div></div>
<div class="paragraph"><p>If necessary, configure the code editor parameters; to do this:</p></div>
<div class="ulist"><ul>
<li>
<p>
Select the following main menu items: Tools Options.
</p>
</li>
<li>
<p>
In the Options properties dialog, select the Editor tab.
</p>
</li>
</ul></div>
<div class="paragraph"><p>To configure auto completion modes, go to the Code Completion tab and
enable or disable corresponding options.</p></div>
</div>
<div class="sect2">
<h3 id="_module_constructor">Module constructor</h3>
<div class="paragraph" id="module-constructor"><p>Using modules allows you to manage the complexity according to the
object-oriented programming principles.</p></div>
<div class="paragraph"><p>Module is an equivalent of a class in other programming languages, such
as in Java or C++.</p></div>
<div class="paragraph"><p>Every module contains a constructor function. This function is used for
module&#8217;s instanses creation.</p></div>
<div class="paragraph"><p>Constructor function can have a header, which is represented as a
comment in the JsDoc format and is located at the top of the module constructor
function definition.</p></div>
<div class="paragraph"><p>Example of a module with a header:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * Module description goes here</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> *</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * </span></span><span style="color: #009900">@constructor</span>
<span style="font-style: italic"><span style="color: #9A1900"> * </span></span><span style="color: #009900">@rolesAllowed</span><span style="font-style: italic"><span style="color: #9A1900"> admin</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> *</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> */</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">function</span></span> <span style="font-weight: bold"><span style="color: #000000">ModuleConstructor</span></span><span style="color: #990000">(</span>p<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
  <span style="color: #990000">...</span>
<span style="color: #FF0000">}</span>

<span style="font-weight: bold"><span style="color: #0000FF">function</span></span> <span style="font-weight: bold"><span style="color: #000000">otherFunction</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span>
  <span style="color: #990000">...</span>
<span style="color: #FF0000">}</span></tt></pre></div></div>
<div class="paragraph"><p>If a JavaScript file contains exactly one top-level fucntion, this
fuction is considered as a module constructor, otherwise the module
constructor must be marked with the <span class="monospaced">@constructor</span> annotation.</p></div>
<div class="paragraph"><p>In addition to the <span class="monospaced">@constructor</span> annotation, a header may contain the module
description, annotations for defining security constraints and other
JsDoc annotations.</p></div>
<div class="paragraph"><p>Specify module instance methods:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
<span style="font-weight: bold"><span style="color: #0000FF">function</span></span> <span style="font-weight: bold"><span style="color: #000000">ModuleA</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span>

   <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">.</span>somePublicMethod <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #000000">fucntion</span></span><span style="color: #990000">(</span>p<span style="color: #990000">)</span> <span style="color: #FF0000">{</span> <span style="font-style: italic"><span style="color: #9A1900">//instance method</span></span>
      <span style="color: #990000">...</span>
   <span style="color: #FF0000">}</span>
<span style="color: #FF0000">}</span></tt></pre></div></div>
<div class="paragraph"><p>Module instance methods are available for the client code.</p></div>
<div class="paragraph"><p>Add module scope methods and fields:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
<span style="font-weight: bold"><span style="color: #0000FF">function</span></span> <span style="font-weight: bold"><span style="color: #000000">ModuleB</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span>
   <span style="font-weight: bold"><span style="color: #0000FF">var</span></span> a<span style="color: #990000">,</span> b<span style="color: #990000">,</span> c<span style="color: #990000">;</span><span style="font-style: italic"><span style="color: #9A1900">//private `fields`</span></span>

   <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">.</span>somePublicMethod <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">function</span></span><span style="color: #990000">(</span>p<span style="color: #990000">)</span> <span style="color: #FF0000">{</span> <span style="font-style: italic"><span style="color: #9A1900">//instance method</span></span>
      <span style="color: #990000">...</span>
   <span style="color: #FF0000">}</span>

   <span style="font-weight: bold"><span style="color: #0000FF">function</span></span> <span style="font-weight: bold"><span style="color: #000000">somePrivateMethod</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span> <span style="font-style: italic"><span style="color: #9A1900">//scope function</span></span>
      <span style="color: #990000">...</span>
   <span style="color: #FF0000">}</span>
<span style="color: #FF0000">}</span></tt></pre></div></div>
<div class="paragraph"><p>Create or get a module instance by the following ways:</p></div>
<div class="ulist"><ul>
<li>
<p>
Create an instance of the module with the help of the <span class="monospaced">new</span> keyword,
using a module constructor, for example:
</p>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> moduleInstance <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">ModuleA</span></span><span style="color: #990000">();</span></tt></pre></div></div>
<div class="paragraph"><p>where <span class="monospaced">ModuleA</span> is a module constructor.
* Create an instance of the module with the help of the <span class="monospaced">new</span> keyword
using global object and its properties, for example:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> global <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">;</span><span style="font-style: italic"><span style="color: #9A1900">// Somewhere in global namespace</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> moduleName <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #000000">getPrincipalStartView</span></span><span style="color: #990000">();</span><span style="font-style: italic"><span style="color: #9A1900">// Some impersonate technique</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> moduleInstance <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> global<span style="color: #990000">[</span>moduleName<span style="color: #990000">]();</span></tt></pre></div></div>
<div class="paragraph"><p>where <span class="monospaced">moduleName</span> is the module constructor name string, for example, <span class="monospaced">"WebModule"</span>;
* Create a proxy/stub for the server module, to use RPC on client or Local procudure call (LPC) on apllication server:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> moduleStub <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> P<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">ServerModule</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Processor"</span><span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>where <span class="monospaced">Processor</span> is the module constructor name string. The server module
should be marked with the <span class="monospaced">@public</span> annotation to enable access via the network.
Server modules, with is used only within application server don&#8217;t need the <span class="monospaced">@public</span> annotation
to be used with LPC.</p></div>
</li>
</ul></div>
<div class="paragraph"><p>To call the module&#8217;s instance method, use the following structure, for
example:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
moduleInstance<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getResult</span></span><span style="color: #990000">(</span><span style="color: #993399">10</span><span style="color: #990000">,</span> <span style="font-weight: bold"><span style="color: #0000FF">function</span></span><span style="color: #990000">(</span>aResult<span style="color: #990000">)</span><span style="color: #FF0000">{</span>
    <span style="font-weight: bold"><span style="color: #0000FF">var</span></span> result <span style="color: #990000">=</span> aResult<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span><span style="color: #990000">);</span></tt></pre></div></div>
</div>
<div class="sect2">
<h3 id="_dependencies_resolving">Dependencies resolving</h3>
<div class="paragraph" id="dependencies-resolving"><p>When executing the code on a application server or on a client, all application elements,
on which initial application element depends, are loaded during the process of automatic dependencies
resolution.</p></div>
<div class="paragraph"><p>Automatic dependencies resolving works as follows:</p></div>
<div class="ulist"><ul>
<li>
<p>
The source code is analyzed and expressions of the following types are
searched for the following expressions:
</p>
<div class="paragraph"><p><span class="monospaced">new ModuleName()</span></p></div>
<div class="paragraph"><p><span class="monospaced">new ServerModule("Implementation")</span></p></div>
<div class="paragraph"><p>where ModuleName is the name of the module and Implementation is module name
wich is executed on the server side.
* Application elements with the specified names are loaded or server
proxies for server modules are generated.
* The process continues recursevly for the loaded modules, except for
the server proxies.</p></div>
</li>
</ul></div>
<div class="paragraph"><p>If it is not necessary or not possible to resolve the dependency
automatically, for example, if you want to determine the called module
in a dynamic manner, you can use the manual dependencies resolving with
<span class="monospaced">P.require</span> function.</p></div>
<div class="paragraph"><p>Use <span class="monospaced">P.require([param], callback)</span> global function, where param is the module
constructor name, or the relative path to the JavaScript file in the
application, or an array of these elements, callback is a function,
which will be called when all the specified modules are downloaded and
executed. Both synchronous and asynchronous modes of P.require function calls are supported.
If callback is omitted, than synchronous version of function is used.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">Don&#8217;t use manual dependencies resolving against a server modules. It
will lead to an attempt to download the module body on the client.</td>
</tr></table>
</div>
<div class="paragraph"><p>Example of using manual dependencies resolving is as follows:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> moduleName1 <span style="color: #990000">=</span> <span style="color: #FF0000">"Module1"</span><span style="color: #990000">,</span>
    moduleName2 <span style="color: #990000">=</span> <span style="color: #FF0000">"Module2"</span><span style="color: #990000">;</span>
P<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">require</span></span><span style="color: #990000">([</span>moduleName1<span style="color: #990000">,</span> moduleName2<span style="color: #990000">],</span> <span style="font-weight: bold"><span style="color: #0000FF">function</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span>
  <span style="font-weight: bold"><span style="color: #0000FF">var</span></span> m1 <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">Module</span></span><span style="color: #990000">(</span>moduleName1<span style="color: #990000">);</span>
  m1<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">bar</span></span><span style="color: #990000">();</span>
  <span style="font-weight: bold"><span style="color: #0000FF">var</span></span> m2 <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">Module</span></span><span style="color: #990000">(</span>moduleName2<span style="color: #990000">);</span>
  m2<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">foo</span></span><span style="color: #990000">();</span>
<span style="color: #FF0000">}</span><span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>The following example shows how to use the <span class="monospaced">P.require</span> function for
loading the module by its constructor name as well as the plain
JavaScript file by specifing its path:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>P<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">require</span></span><span style="color: #990000">([</span><span style="color: #FF0000">"Module1"</span><span style="color: #990000">,</span>
 <span style="color: #FF0000">"localLib.js"</span><span style="color: #990000">],</span> <span style="font-weight: bold"><span style="color: #0000FF">function</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span>

  <span style="font-style: italic"><span style="color: #9A1900">//Platypus module</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">var</span></span> m1 <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">Module</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Module1"</span><span style="color: #990000">);</span>
  m1<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">bar</span></span><span style="color: #990000">();</span>

  <span style="font-style: italic"><span style="color: #9A1900">// Constructor LibObject is defined in localLib.js</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">var</span></span> o1 <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">LibObject</span></span><span style="color: #990000">();</span>
<span style="color: #FF0000">}</span><span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>Relative paths are counted off from the <span class="monospaced">app</span> directory of the Platypus
application project. If the JavaScript file path matches the Platypus module
identifier name, the Platypus module will be preferred.</p></div>
<div class="paragraph"><p>The <span class="monospaced">P.require</span> function also has a synchronous variant, which can be used
in the server code. In this case, if you don&#8217;t need to maintain
compatibility with the client&#8217;s code, the second parameter is optional:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>P<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">require</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"localLib.js"</span><span style="color: #990000">);</span>
<span style="font-style: italic"><span style="color: #9A1900">// LibObject is defined in localLib.js</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> obj <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">LibObject</span></span><span style="color: #990000">();</span></tt></pre></div></div>
<div class="paragraph"><p>The <span class="monospaced">P.require</span> function supports relative paths for both synchronous and synchronous variants:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>P<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">require</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"./sublibs/sublib-a.js"</span><span style="color: #990000">);</span>
<span style="font-style: italic"><span style="color: #9A1900">// SubLibObjectA is defined in sublib-a.js</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> obja <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">SubLibObjectA</span></span><span style="color: #990000">();</span>
P<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">require</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"./sublibs/sublib-b.js"</span><span style="color: #990000">,</span> <span style="font-weight: bold"><span style="color: #0000FF">function</span></span><span style="color: #990000">()</span><span style="color: #FF0000">{</span>
    <span style="font-style: italic"><span style="color: #9A1900">// SubLibObjectB is defined in sublib-b.js</span></span>
    <span style="font-weight: bold"><span style="color: #0000FF">var</span></span> objb <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">SubLibObjectB</span></span><span style="color: #990000">();</span>
<span style="color: #FF0000">}</span><span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>You should pay attention to the combination of automatic and manual
dependencies resolution. For example, in the following snippet it is not
necessary to call the <span class="monospaced">P.require</span> function:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> moduleName1 <span style="color: #990000">=</span> <span style="color: #FF0000">"SampleModule1"</span><span style="color: #990000">,</span>
    moduleName2 <span style="color: #990000">=</span> <span style="color: #FF0000">"SampleModule2"</span><span style="color: #990000">;</span>
P<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">require</span></span><span style="color: #990000">([</span>moduleName1<span style="color: #990000">,</span> moduleName2<span style="color: #990000">],</span> <span style="font-weight: bold"><span style="color: #0000FF">function</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span>
  <span style="font-weight: bold"><span style="color: #0000FF">var</span></span> m1 <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">SampleModule1</span></span><span style="color: #990000">();</span>
  m1<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">bar</span></span><span style="color: #990000">();</span>
  <span style="font-weight: bold"><span style="color: #0000FF">var</span></span> m2 <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">SampleModule2</span></span><span style="color: #990000">();</span>
  m2<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">foo</span></span><span style="color: #990000">();</span>
<span style="color: #FF0000">}</span><span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>This code leads to the automatic dependencies resolution regarding to
the SampleModule1 и SampleModule2, as calls of their constructors are
present in the code in explicit form.</p></div>
<div class="paragraph"><p>On the other hand, creating modules in the <span class="monospaced">var m = new SampleModule1()</span>
form is natural and it is preferred in most cases.
In order to avoid automatic resolving of dependencies, explicitly specify module constructor names in the form of
string literals the <span class="monospaced">P.require</span> function parameter:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>P<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">require</span></span><span style="color: #990000">([</span><span style="color: #FF0000">"SampleModule1"</span><span style="color: #990000">,</span> <span style="color: #FF0000">"SampleModule2"</span><span style="color: #990000">],</span> <span style="font-weight: bold"><span style="color: #0000FF">function</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span>
  <span style="font-weight: bold"><span style="color: #0000FF">var</span></span> m1 <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">SampleModule1</span></span><span style="color: #990000">();</span>
  m1<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">bar</span></span><span style="color: #990000">();</span>
  <span style="font-weight: bold"><span style="color: #0000FF">var</span></span> m2 <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">SampleModule2</span></span><span style="color: #990000">();</span>
  m2<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">foo</span></span><span style="color: #990000">();</span>
<span style="color: #FF0000">}</span><span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>This method of calling the <span class="monospaced">P.require</span> function excludes these explicitly
specified constructor names in the first parameter from the automatic
dependencies resolution. So, SampleModule1 and SampleModule2 will be
loaded only when calling the <span class="monospaced">P.require</span>, rather than before starting the
application.</p></div>
</div>
<div class="sect2">
<h3 id="_security">Security</h3>
<div class="paragraph" id="module_security"><p>The executable module code is a resource, access to which can be
restricted on the basis of the roles. When a user, who has no rights to
execute some code, tries to call it, a security exception is thrown.</p></div>
<div class="paragraph"><p>In order to restrict access to the entire module code, add the
<span class="monospaced">@rolesAllowed</span>&#8230; annotation to the module header. Specify roles,
allowed to access the module code execution, in the <span class="monospaced">@rolesAllowed</span>
annotation, dividing them by spaces. If the annotation is omitted,
access to the module is granted to all users.</p></div>
<div class="paragraph"><p>You can restrict access to the module code on the level of an individual
function. To do this, add the <span class="monospaced">@rolesAllowed</span> annotation to the
function&#8217;s JsDoc. The restrictions on the function level have a higher
priority than the module level restrictions. For example, only a user
with the <span class="monospaced">role2</span> role from the following example will have access to the
<span class="monospaced">f2</span>:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * </span></span><span style="color: #009900">@constructor</span>
<span style="font-style: italic"><span style="color: #9A1900"> * </span></span><span style="color: #009900">@rolesAllowed</span><span style="font-style: italic"><span style="color: #9A1900"> role1 role2</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> *</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> */</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">function</span></span> ModuleC <span style="color: #FF0000">{</span>

   <span style="font-weight: bold"><span style="color: #0000FF">var</span></span> self <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">;</span>

   <span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="font-style: italic"><span style="color: #9A1900">    * </span></span><span style="color: #009900">@rolesAllowed</span><span style="font-style: italic"><span style="color: #9A1900"> role2</span></span>
<span style="font-style: italic"><span style="color: #9A1900">    */</span></span>
   <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">.</span>f2 <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">function</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span>
      <span style="font-style: italic"><span style="color: #9A1900">//...</span></span>
   <span style="color: #FF0000">}</span>
<span style="color: #FF0000">}</span></tt></pre></div></div>
<div class="paragraph"><p>Use <span class="monospaced">principal</span> property to get access to the information about the
current user in the executable code. The <span class="monospaced">principal</span> property is
read-only. The object of information about the user contains the <span class="monospaced">name</span>
property, i.e. the name of the current user, and the `hasRole()`method,
which allows you to check if this user has any role:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
P<span style="color: #990000">.</span>Logger<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">info</span></span><span style="color: #990000">(</span><span style="color: #FF0000">'Current user: '</span> <span style="color: #990000">+</span> P<span style="color: #990000">.</span>principal<span style="color: #990000">.</span>name<span style="color: #990000">);</span>

<span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(</span>P<span style="color: #990000">.</span>principal<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">hasRole</span></span><span style="color: #990000">(</span><span style="color: #FF0000">'Manager'</span><span style="color: #990000">))</span> <span style="color: #FF0000">{</span>
  <span style="font-style: italic"><span style="color: #9A1900">// Some operations allowed only to managers ...</span></span>
<span style="color: #FF0000">}</span></tt></pre></div></div>
<div class="paragraph"><p>Use <span class="monospaced">P.logout(onLoggedOut, onError)</span> function, where <span class="monospaced">onLoggedOut</span> is a function, which will be called
after the session is terminated and onError is a function, which will be called if an error occur.
Open forms will be closed and the user will see the login and password entering form.</p></div>
</div>
<div class="sect2">
<h3 id="_resources_loading">Resources loading</h3>
<div class="paragraph" id="resources-loading"><p>The platfrom runtime enables loading of resources in the form of binary
data and text. Resources may be loaded using their applicaion paths or
URLs. Applicaion paths are counted off from the <span class="monospaced">app</span> root directory of
the application project. Use the Resource object methods for resource loading.</p></div>
<div class="paragraph"><p>To download a resource, use the <span class="monospaced">Resource.load(path, callback)</span> method, where
<span class="monospaced">path</span> is a application path or URL, <span class="monospaced">callback(obj)</span> is a function, which
will be called after the resource is loaded, <span class="monospaced">obj</span> is an array of bytes
of the downloaded resource for the server code and Platypus Client or an
object of the ArrayBuffer type for the HTML5 browser in the case of binary data
and string in the case of text data:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
<span style="font-style: italic"><span style="color: #9A1900">//Loads binary resource</span></span>
P<span style="color: #990000">.</span>Resource<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">load</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"res/pict.bin"</span><span style="color: #990000">,</span> <span style="font-weight: bold"><span style="color: #0000FF">function</span></span><span style="color: #990000">(</span>obj<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
  <span style="color: #990000">...</span>
<span style="color: #FF0000">}</span><span style="color: #990000">)</span></tt></pre></div></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
<span style="font-style: italic"><span style="color: #9A1900">//Loads text resource</span></span>
P<span style="color: #990000">.</span>Resource<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">load</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"res/list.txt"</span><span style="color: #990000">,</span> <span style="font-weight: bold"><span style="color: #0000FF">function</span></span><span style="color: #990000">(</span>obj<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
  <span style="color: #990000">...</span>
<span style="color: #FF0000">}</span><span style="color: #990000">)</span></tt></pre></div></div>
<div class="paragraph"><p>You can use a synchronous version of this method with a single parameter
in the server code or in the code, which is executed in the J2SE Client.
In this case, the method itself will return an array of bytes of
the downloaded resource:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-style: italic"><span style="color: #9A1900">//Loads binary resource synchronously</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> obj <span style="color: #990000">=</span> P<span style="color: #990000">.</span>Resource<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">load</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"res/pict.bin"</span><span style="color: #990000">);</span>
<span style="color: #990000">...</span></tt></pre></div></div>
<div class="paragraph"><p>To get the absolute path to the application directory, use the
<span class="monospaced">Resource.applicationPath</span> read-only property:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-style: italic"><span style="color: #9A1900">//Reads the application's path</span></span>
P<span style="color: #990000">.</span>Logger<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">info</span></span><span style="color: #990000">(</span>Resource<span style="color: #990000">.</span>applicationPath<span style="color: #990000">);</span></tt></pre></div></div>
</div>
<div class="sect2">
<h3 id="_data_model">Data model</h3>
<div class="paragraph" id="data-model"><p>Data model is a module&#8217;s persistence manager. It provides access to the
data obtained from a relational database or any other data source. Data
model allows you to perform the following tasks:</p></div>
<div class="ulist"><ul>
<li>
<p>
Fetch data from the data source(s) to the entities data arrays.
</p>
</li>
<li>
<p>
Automatically requery data, according to the inter-entities
links.
</p>
</li>
<li>
<p>
Save changes made to the entities data (insert, update and delete).
</p>
</li>
<li>
<p>
Entities data change events handling with JavaScript.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Data model consists of entities and links and is configured using the
visual editor.</p></div>
<div class="paragraph"><p><span class="image">
<img src="images/dataModel.png" alt="Data model structure">
</span></p></div>
<div class="paragraph"><p>Data is stored in the form of JavaScript objects within an etnity&#8217;s
data array.</p></div>
<div class="paragraph"><p>Entities are created using a module implements special datasouce
interface methods or a query application element.
NOTE: Table entity is a special query entity, which selects all data from
the table. It is created automatically by runtime. A table entity can be
used only in two-tier configurations with direct connection to a database.</p></div>
<div class="paragraph"><p>Each entity can have parameters and contains a data array with predefined
fields according to the data schema defined by the module or query, on
the basis of which the entity is created.</p></div>
<div class="paragraph"><p>In general, a data array comprised of objects, each of which corresponds
to a tuple in the query results.</p></div>
<div class="paragraph"><p>There is a cursor for each enitity. The cursor can point to some element in
the data array and determines the <span class="monospaced">current</span> item of this entity. Also the
cursor can point to null. The entity cursor value can affect to the
linked entities data.</p></div>
<div class="paragraph"><p>Entity fields and parameters may be connected by links. The following
link types are used in a data model:</p></div>
<div class="ulist"><ul>
<li>
<p>
Query link connects <span class="monospaced">source</span> field of one entity with another entity parameter as <span class="monospaced">target</span> field.
</p>
</li>
<li>
<p>
Reference link defined by ORM on the basis of foreign keys derived from database/script datasource structure.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Query link requeries the target entity&#8217;s data array according to the
parameter value change. The new parameter value is determined according
to the source point of the link. Both entitiy&#8217;s cursor property&#8217;s value or a
parameter value can be used. When the value at the link source changes,
new data is requested from the database or application server and reoladed in the target
entity data array.</p></div>
<div class="paragraph"><p>Reference link is defined by a database table/script datasource structure foreign keys.
This kind of link is created automatically, if a entitiy&#8217;s schema contains fields included
to such foreign key. This type of link does not affect the content of
the data arrays and is used to generate inter-element connections between
element of entities' data arrays. This is done via new properties, wich are created
while data fetching. The link of this type is visually shown as a dashed
line on the data model diagram.</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre>*Note*

To get inter-instance connections work, primary and foreign keys are
required. Such keys may come from database structure definitions or from
schema definitions in a JavaScript datasource module.</pre>
</div></div>
<div class="paragraph"><p><span class="image">
<img src="images/dataModelLinks.png" alt="Query and filtration types links">
</span></p></div>
<div class="paragraph"><p>The figure shows an example of operation of query links for
the three entities in the data model. In the <span class="monospaced">Persons</span> entity, a cursor
is pointing to a string corresponding to a person named <span class="monospaced">Mike</span>.</p></div>
<div class="paragraph"><p>When initializing a module, data corresponding to the input parameter
values is loaded into the model by default, then every change of input
parameters leads to a cascade update of all datasets, which are directly
or inderectly associated with the modified parameter.</p></div>
<div class="paragraph"><p>For any entity you can determine any number of incoming and outgoing
links of both types. When building connections you should consider the
following restrictions:</p></div>
<div class="ulist"><ul>
<li>
<p>
Links must not create circular references.
</p>
</li>
<li>
<p>
Linked fields and parameters of the source and the target entities must
match by thiers type: the types of connected fields and parameters must
allow the mutual conversion of values. For example, it is possible to
connect field if there&#8217;s a number specified for the connection on the
source, and a string specified the connection on the target, it is quite
possible, since there is a possibility of an unambiguous conversion of a
number to a string, but not vice versa.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Added, deleted and changed datasets of these entities objects are saved
to the database or sent to the application server for subsequent saving
when calling the save function of the data model object.</p></div>
<div class="paragraph"><p>The data model object is represented in the module constructor by the
result of call to <span class="monospaced">P.loadModel(name)</span> function, where name is name of already loaded module.</p></div>
<div class="paragraph"><p>Create a variable for the data model object and assign result of P.loadModel() to it.
In the following code snippets we will use such variable:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">function</span></span> <span style="font-weight: bold"><span style="color: #000000">ModuleD</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span>
   <span style="font-weight: bold"><span style="color: #0000FF">var</span></span> model <span style="color: #990000">=</span> P<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">loadModel</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">.</span>constructor<span style="color: #990000">.</span>name<span style="color: #990000">);</span>
   <span style="font-style: italic"><span style="color: #9A1900">//...</span></span>
<span style="color: #FF0000">}</span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
Set the data model parameters to update the data of the linked
entities.
</p>
</li>
<li>
<p>
Get access to data for data processing, analysis, and so on.
</p>
</li>
<li>
<p>
Use inter-instances connections to process the data in ORM manner.
</p>
</li>
<li>
<p>
Use the cursor as "current" data array element pointer.
</p>
</li>
<li>
<p>
Specify entity event handler functions and write their JavaScript
code.
</p>
</li>
<li>
<p>
Alter, remove or add objects in the entity&#8217;s data array and allow the data model to
save the changes.
</p>
</li>
<li>
<p>
Read entity schema (fields metadata) for special needs.
</p>
</li>
</ul></div>
<div class="paragraph"><p>To force refetch of all data model entities' data arrays, call the requery function
of the <span class="monospaced">model</span> object:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>model<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">requery</span></span><span style="color: #990000">(</span>onSuccess<span style="color: #990000">,</span> onFailure<span style="color: #990000">)</span></tt></pre></div></div>
<div class="paragraph"><p>where <span class="monospaced">onSuccess</span> is the handler function for refresh data on success
event (optional), <span class="monospaced">onFailure</span> is the handler function for refresh data
on failure event (optional).</p></div>
<div class="sect3">
<h4 id="_data_model_editor">Data model editor</h4>
<div class="paragraph" id="data-model-editor"><p>Data model is configured using the visual editor.</p></div>
<div class="paragraph"><p>For navigating to a data model elements, it is convenient to use a data
model inspector panel. In the data model inspector, entity and model
parameters are presented in the form of a tree structure. You can select
an entity or a connection both in the visual editor and in the data
model inspector. Mutual positioning of the model data inspector and its
diagram is possible.</p></div>
<div class="paragraph"><p>To add a table entity to the data model, perform the following steps:</p></div>
<div class="ulist"><ul>
<li>
<p>
Select the Datamodel tab of the module&#8217;s editor.
</p>
</li>
<li>
<p>
Select the Add query / Add table Add table menu item on the editor
toolbar, or use the Ctrl Shift Insert shortcut.
</p>
</li>
<li>
<p>
Select the table from the list in the table selection dialog, if
necessary select a schema from the drop-down Schema list; the Default
button sets the default schema for the application; use the search
option by clicking Find, if necessary.
</p>
</li>
<li>
<p>
Click OK add the table or click Cancel to cancel.
</p>
</li>
<li>
<p>
If necessary, move the table on the model diagram to the right place.
</p>
</li>
<li>
<p>
Save the application element by clicking Save All on the main toolbar
or by using the Ctrl Shift S keyboard shortcut.
</p>
</li>
</ul></div>
<div class="paragraph"><p>To add an entity based on an existing query to the data model, perform
the following actions:</p></div>
<div class="ulist"><ul>
<li>
<p>
Select Add query / Add table Add query on the editor toolbar.
</p>
</li>
<li>
<p>
Select an application element of the Query type in the dialog.
</p>
</li>
<li>
<p>
Click OK to add the query or click Cancel to cancel.
</p>
</li>
<li>
<p>
If necessary, move the query on the visual editor diagram to the right
place.
</p>
</li>
<li>
<p>
Save the application element by clicking Save All on the main toolbar
or by using the Ctrl Shift S keyboard shortcut.
</p>
</li>
</ul></div>
<div class="listingblock">
<div class="content monospaced">
<pre>*Note*

Drag an existing query or a module from the application elements tree on
the project panel to the visual editor diagram of the data model to
include it into the editable data model.</pre>
</div></div>
<div class="paragraph"><p>An entity object and its data is available to module&#8217;s JavaScript
code. When you add a new entity, its name will be specified by default,
according to the query, or module consturctor name or a table name in
the database. To change the name of the entity, perform the following
steps:</p></div>
<div class="ulist"><ul>
<li>
<p>
Go to the Datamodel tab.
</p>
</li>
<li>
<p>
Select the corresponding entity on the data model diagram or in the
data model inspector.
</p>
</li>
<li>
<p>
In the Properties editing window specify the name value in the name
field. Entity name is case-sensitive and must meet the requirements for
the JavaScript identifiers.
</p>
</li>
<li>
<p>
Save the application element by clicking Save All on the main toolbar
or by using the Ctrl Shift S keyboard shortcut.
</p>
</li>
</ul></div>
<div class="listingblock">
<div class="content monospaced">
<pre>*Note*

If the Properties panel is not displayed, enable this panel. To do this,
select Window Properties in the Platypus Application Designer main menu.</pre>
</div></div>
<div class="paragraph"><p>To delete an entity from the data model, perform the following actions:</p></div>
<div class="ulist"><ul>
<li>
<p>
Select an entity in the data model inspector or on the diagram.
</p>
</li>
<li>
<p>
Click Delete on the editor toolbar.
</p>
</li>
<li>
<p>
Save the application element by clicking Save All on the main toolbar
or by using the Ctrl Shift S keyboard shortcut.
</p>
</li>
</ul></div>
<div class="paragraph"><p>To add a query link between two entites:</p></div>
<div class="ulist"><ul>
<li>
<p>
Move the field or parameter to the parameter of an entity, with which you want to
make dependent on the first entity. The connection will be displayed as a line with
an arrow between parameters or field/parameter of theese two entities.
</p>
</li>
<li>
<p>
Save the application element by clicking Save All on the main toolbar
or by using the Ctrl Shift S keyboard shortcut.
</p>
</li>
</ul></div>
<div class="listingblock">
<div class="content monospaced">
<pre>*Note*

Query link type in the visual editor is highlighted by purple. Reference
link is highlighted by black with dashed style. The link target field is shown by an
arrow.</pre>
</div></div>
<div class="paragraph"><p>To delete a link, perform the following actions:</p></div>
<div class="ulist"><ul>
<li>
<p>
Select the link to remove by mouse click.
</p>
</li>
<li>
<p>
Click Delete or use the Delete key.
</p>
</li>
<li>
<p>
Save the application element by clicking Save All on the main toolbar
or by using the Ctrl Shift S keyboard shortcut.
</p>
</li>
</ul></div>
<div class="paragraph"><p>To edit a reference link properties, perform the following actions:</p></div>
<div class="ulist"><ul>
<li>
<p>
Select a dashed link by mouse click.
</p>
</li>
<li>
<p>
Select Scalar and collection properties menu item from the foreign key
link context menu.
</p>
</li>
<li>
<p>
In the dialog specify Scalar property name and Collection property
name fields.
</p>
</li>
<li>
<p>
Save the application element by clicking Save All on the main toolbar
or by using the Ctrl Shift S keyboard shortcut.
</p>
</li>
</ul></div>
<div class="paragraph"><p>To zoom-in or zoom-out the data model visual presentation:</p></div>
<div class="ulist"><ul>
<li>
<p>
Click Zoom In to scale up the data model presentation in the editor;
click Zoom out to scale it down.
</p>
</li>
</ul></div>
<div class="paragraph"><p>To use the search function on the data model diagram:</p></div>
<div class="ulist"><ul>
<li>
<p>
Click Find to open the search dialog in the data model editor.
</p>
</li>
<li>
<p>
Enter the search line, select fields to be used for searching:
Datasets, Fields, Params, and also check the necessary options: use the
Whole words option to search for the whole words. Use the Match case
option to perform the case-sensitive search.
</p>
</li>
<li>
<p>
Click Next and Previous to go to the next or previous search result.
</p>
</li>
<li>
<p>
Click Close to close the search dialog.
</p>
</li>
</ul></div>
</div>
<div class="sect3">
<h4 id="_entities">Entities</h4>
<div class="paragraph" id="entities"><p>Data model entities are available as the data model object&#8217;s properties:
<span class="monospaced">model.entity1</span>, where <span class="monospaced">entity1</span> is the script presentation of an entity.</p></div>
<div class="paragraph"><p>Entities may have its own parameters and can be updated independently
from the other model entities.</p></div>
<div class="paragraph"><p>To access entity parameters, use the <span class="monospaced">params</span> entity property:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> entityParams <span style="color: #990000">=</span> model<span style="color: #990000">.</span>entity1<span style="color: #990000">.</span>params<span style="color: #990000">;</span></tt></pre></div></div>
<div class="paragraph"><p>where <span class="monospaced">entity1</span> is an object of the corresponding entity.</p></div>
<div class="paragraph"><p>To access the specific parameters, use properties of the <span class="monospaced">model.entity1.params</span>
object with names, which match the entity parameter names:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> entityParam <span style="color: #990000">=</span> model<span style="color: #990000">.</span>entity1<span style="color: #990000">.</span>params<span style="color: #990000">.</span>param1<span style="color: #990000">;</span></tt></pre></div></div>
<div class="paragraph"><p>where <span class="monospaced">entity1</span> is an entity object,<span class="monospaced">param1</span> is the property of the corresponding parameter.</p></div>
<div class="paragraph"><p>To set the parameter value, assign a new value to it:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>model<span style="color: #990000">.</span>entity1<span style="color: #990000">.</span>params<span style="color: #990000">.</span>param1 <span style="color: #990000">=</span> newValue<span style="color: #990000">;</span></tt></pre></div></div>
<div class="paragraph"><p>where <span class="monospaced">newValue</span> is a new value of the parameter.</p></div>
<div class="paragraph"><p>Setting a new value for a entity parameter doesn&#8217;t result in automatic
update of the data array.</p></div>
<div class="paragraph"><p>To update entity data and related entities, use the execute function.
New data will be loaded only if the entity parameter values were
changed:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>entity1<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">execute</span></span><span style="color: #990000">(</span>onSuccess<span style="color: #990000">,</span> onFailure<span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>where <span class="monospaced">entity1</span> is an entity object, <span class="monospaced">onSuccess</span> is the handler function for
success event (optional) and <span class="monospaced">onFailure</span> is the handler function failure event (optional).</p></div>
<div class="paragraph"><p>To force the update of entity data and related entities, use the requery
function:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>model<span style="color: #990000">.</span>entity1<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">requery</span></span><span style="color: #990000">(</span>onSuccess<span style="color: #990000">,</span> onFailure<span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>where <span class="monospaced">entity1</span> is an entity object, <span class="monospaced">onSuccess</span> is the handler function for
success event (optional), <span class="monospaced">onFailure</span> is the handler function failure event (optional).
Callback functions are called when the database request is executed and its results
come to the client over the network.</p></div>
<div class="paragraph"><p>Handler of the <span class="monospaced">onRequeried</span> entity event will be called in any case,
regardless of the method of calling the <span class="monospaced">requery</span> function.</p></div>
<div class="paragraph"><p>To append some new elements to existing data array without adding any changes into
model&#8217;s changelog, use append method of an entity:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>model<span style="color: #990000">.</span>entity1<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">append</span></span><span style="color: #990000">([</span><span style="color: #FF0000">{</span>id<span style="color: #990000">:</span><span style="color: #993399">78</span><span style="color: #990000">,</span> name<span style="color: #990000">:</span> <span style="color: #FF0000">'Mike'</span><span style="color: #FF0000">}</span><span style="color: #990000">,</span> <span style="color: #FF0000">{</span>id<span style="color: #990000">:</span><span style="color: #993399">79</span><span style="color: #990000">,</span> name<span style="color: #990000">:</span> <span style="color: #FF0000">'Juke'</span><span style="color: #FF0000">}</span><span style="color: #990000">]);</span></tt></pre></div></div>
<div class="paragraph"><p>After a data is appended to entity&#8217;s data array, model is watching after it and
accumulates changes made to appended items in its change log.
This method might be used for example in a view with lazy tree widget.</p></div>
<div class="paragraph"><p>To query some data and obtain sata array, wich is not watched by the model and not used as a
replacement of entity&#8217;s data array, use query method:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">for</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> i <span style="color: #990000">=</span> <span style="color: #993399">0</span><span style="color: #990000">;</span> i <span style="color: #990000">&lt;</span> maxCount<span style="color: #990000">;</span> i<span style="color: #990000">++)</span><span style="color: #FF0000">{</span>
    model<span style="color: #990000">.</span>entity1<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">query</span></span><span style="color: #990000">(</span><span style="color: #FF0000">{</span>param1<span style="color: #990000">:</span> i <span style="color: #990000">+</span> <span style="color: #993399">43</span><span style="color: #990000">,</span> param2<span style="color: #990000">:</span> <span style="color: #FF0000">'Astralia'</span><span style="color: #FF0000">}</span><span style="color: #990000">,</span> <span style="font-weight: bold"><span style="color: #0000FF">function</span></span><span style="color: #990000">(</span>aFetchedData<span style="color: #990000">)</span><span style="color: #FF0000">{</span>
        <span style="font-style: italic"><span style="color: #9A1900">// Some actions with fetched data</span></span>
    <span style="color: #FF0000">}</span><span style="color: #990000">,</span> <span style="font-weight: bold"><span style="color: #0000FF">function</span></span><span style="color: #990000">(</span>aError<span style="color: #990000">)</span><span style="color: #FF0000">{</span>
        P<span style="color: #990000">.</span>Logger<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">severe</span></span><span style="color: #990000">(</span><span style="color: #FF0000">'Failed due to an error: '</span> <span style="color: #990000">+</span> aError<span style="color: #990000">);</span>
    <span style="color: #FF0000">}</span><span style="color: #990000">);</span>
<span style="color: #FF0000">}</span></tt></pre></div></div>
<div class="listingblock">
<div class="content monospaced">
<pre>*Note*

Update of entity data does not cancel the data changes made in the
entity dataset earlier, so after saving the model these changes will be
applied to the database. Data changes are reset only after saving the
entire model or explicit call to `revert` method.</pre>
</div></div>
<div class="paragraph"><p>To access to the entity&#8217;s data, refer to the entity data arrayt as a regular
JavaScript array:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> item <span style="color: #990000">=</span> model<span style="color: #990000">.</span>entity1<span style="color: #990000">[</span>i<span style="color: #990000">];</span></tt></pre></div></div>
<div class="paragraph"><p>where <span class="monospaced">entity1</span> is an entity, <span class="monospaced">i</span> is an index of the array element within the
<span class="monospaced">0...length - 1</span> range.</p></div>
<div class="paragraph"><p>The following example shows the process of enumerating document elements in
the <span class="monospaced">documents</span> entity&#8217;s data array:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> documents <span style="color: #990000">=</span> model<span style="color: #990000">.</span>documents<span style="color: #990000">;</span>

<span style="font-style: italic"><span style="color: #9A1900">// Logs all documents names</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">for</span></span> <span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> i <span style="color: #990000">=</span> <span style="color: #993399">0</span><span style="color: #990000">;</span> i <span style="color: #990000">&lt;</span> documents<span style="color: #990000">.</span>length<span style="color: #990000">;</span> i<span style="color: #990000">++)</span> <span style="color: #FF0000">{</span>
  P<span style="color: #990000">.</span>Logger<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">info</span></span><span style="color: #990000">(</span>documents<span style="color: #990000">[</span>i<span style="color: #990000">].</span>name<span style="color: #990000">);</span>
<span style="color: #FF0000">}</span></tt></pre></div></div>
<div class="paragraph"><p>If an reference link is established between two entities, you can get
access to the data of the connected entity by using data instance
property having the name configured earlier in propertoes of a link ion the datamodel designer.
This properties are generated during data fetch by Platypus.js ORM.</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> propValue <span style="color: #990000">=</span> model<span style="color: #990000">.</span>entity1<span style="color: #990000">[</span>i<span style="color: #990000">].</span>referencedObject<span style="color: #990000">.</span>someData</tt></pre></div></div>
<div class="paragraph"><p>where <span class="monospaced">entity1</span> is the name of an entity, which contains the external key
reference, <span class="monospaced">i</span> is an index of the array element within the <span class="monospaced">0...length - 1</span>
range, entityName2 is an entity containing the field, which is
referenced by the external key, <span class="monospaced">referencedObject</span> is a property of reference link
configured as <span class="monospaced">scalar</span> and <span class="monospaced">someData</span> is some data field of referenced object
If the entity contains a field, which is referenced by the external key,
the property contains an array of the connected entity objects:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> referees <span style="color: #990000">=</span> model<span style="color: #990000">.</span>referencedEntity<span style="color: #990000">[</span>i<span style="color: #990000">].</span>referees<span style="color: #990000">;</span>
P<span style="color: #990000">.</span>Logger<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">info</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"referees.length: "</span> <span style="color: #990000">+</span> referees<span style="color: #990000">.</span>length<span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>where <span class="monospaced">referencedEntity</span> is an entity, which contains the external key reference,
<span class="monospaced">i</span> is an index of the array element within the <span class="monospaced">0...length - 1</span>, range
referees is a name of collection property name configured earlier in datamodel designer in reference link properties dialog.</p></div>
<div class="paragraph"><p>Change for a foregn key link scalar and collection properties if
required via reference link properties dialog in datamodel designer.</p></div>
</div>
<div class="sect3">
<h4 id="_cursor_api">Cursor API</h4>
<div class="paragraph" id="cursor-api"><p>To get access to the entity&#8217;s "current" data array element use
the <span class="monospaced">model.entity1.cursor</span> property, for example:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> currentValue <span style="color: #990000">=</span> model<span style="color: #990000">.</span>entity1<span style="color: #990000">.</span>cursor<span style="color: #990000">.</span>price<span style="color: #990000">;</span></tt></pre></div></div>
<div class="paragraph"><p>where <span class="monospaced">entity1</span> is a corresponding entity, <span class="monospaced">price</span> is a property of interest.</p></div>
<div class="paragraph"><p>The cursor points to some object, or it can be null.</p></div>
<div class="paragraph"><p>After loading data array the cursor point on the first
entity&#8217;s data array element.</p></div>
</div>
<div class="sect3">
<h4 id="_saving_data">Saving data</h4>
<div class="paragraph" id="saving-data"><p>Data model provides automatic tracking of data changes. Data
changes can be saved only as a part of entire model.</p></div>
<div class="paragraph"><p>To edit, insert, or delete data, perform the following actions:</p></div>
<div class="ulist"><ul>
<li>
<p>
Edit, insert, or delete an object from the entity data.
</p>
</li>
<li>
<p>
Call the save method of the model.
</p>
</li>
</ul></div>
<div class="paragraph"><p>To obtain access to the entity arbitrary objects, use the syntax of
referring to an array element:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>model<span style="color: #990000">.</span>entity1<span style="color: #990000">[</span>i<span style="color: #990000">].</span>propName <span style="color: #990000">=</span> <span style="color: #993399">56</span><span style="color: #990000">;</span></tt></pre></div></div>
<div class="paragraph"><p>where <span class="monospaced">entity1</span> is an entity, entityName[i].propName is an object property
with the specified index in the entity data and <span class="monospaced">56</span> is an expression for the new value.</p></div>
<div class="paragraph"><p>To change the appropriate property of the entity&#8217;s cursor, use the
following way:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>model<span style="color: #990000">.</span>entity1<span style="color: #990000">.</span>cursor<span style="color: #990000">.</span>propName <span style="color: #990000">=</span> <span style="color: #993399">56</span><span style="color: #990000">;</span></tt></pre></div></div>
<div class="paragraph"><p>where <span class="monospaced">entity1</span> is an entity, <span class="monospaced">propName</span> is a property in the current cursor position in the entity
data array, <span class="monospaced">56</span> is an expression for the new value.</p></div>
<div class="paragraph"><p>To save changes the data model changes, use its save method:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>model<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">save</span></span><span style="color: #990000">(</span>onSuccess<span style="color: #990000">,</span> onFailure<span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>where onSuccess is the handler function for an event of successfull saving of data (optional)
and onFailure is the handler function for a save data on failure event (optional).</p></div>
<div class="paragraph"><p>To insert a new object to a data array and save it to datasource:</p></div>
<div class="ulist"><ul>
<li>
<p>
Add a new object to entity data array by standard JavaScript array methods (push, unshift, splice).
</p>
</li>
<li>
<p>
Call the save method of the data model.
</p>
</li>
</ul></div>
<div class="paragraph"><p>If necessary, pass the JavaScript object, the property names of which
match the names of properties in the entity objects, as a parameter to
the function. Their values will be set as values of the new object
properties:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>model<span style="color: #990000">.</span>entity1<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">push</span></span><span style="color: #990000">(</span> <span style="color: #FF0000">{</span>
  propName<span style="color: #990000">:</span> <span style="color: #FF0000">'disks'</span><span style="color: #990000">,</span>
  price<span style="color: #990000">:</span> <span style="color: #993399">89</span><span style="color: #FF0000">}</span><span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>When using the push/unshift/splice function,
the cursor will point to a new object.</p></div>
<div class="paragraph"><p>After inserting, the new object will have the following properties:</p></div>
<div class="ulist"><ul>
<li>
<p>
An identifying property gets the generated value, if a value was not
explicitly assigned to this property when inserting.
</p>
</li>
<li>
<p>
Properties belonging to the "key-value" get the transferred values.
</p>
</li>
<li>
<p>
Other properties will be set to <span class="monospaced">null</span>.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Example of code for inserting a new object into the <span class="monospaced">documents</span> entity:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
model<span style="color: #990000">.</span>documens<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">push</span></span><span style="color: #990000">(</span><span style="color: #FF0000">{</span>id<span style="color: #990000">:</span> <span style="color: #993399">101</span><span style="color: #990000">,</span> name<span style="color: #990000">:</span> <span style="color: #FF0000">'New document name'</span><span style="color: #FF0000">}</span><span style="color: #990000">);</span>
model<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">save</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">function</span></span><span style="color: #990000">()</span><span style="color: #FF0000">{}</span><span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>Use <span class="monospaced">elementClass</span> entity property to specify JavaScript constructor of entity&#8217;s data array items.</p></div>
<div class="paragraph"><p>Example of code that uses <span class="monospaced">elementClass</span> property of <span class="monospaced">documents</span> entity:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>model<span style="color: #990000">.</span>documens<span style="color: #990000">.</span>elementClass <span style="color: #990000">=</span> Document<span style="color: #990000">;</span><span style="font-style: italic"><span style="color: #9A1900">// assume, that cinstructor function Document is accessible in global scope</span></span>
model<span style="color: #990000">.</span>documens<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">requery</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">function</span></span><span style="color: #990000">()</span><span style="color: #FF0000">{</span>
    model<span style="color: #990000">.</span>documens<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">forEach</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">function</span></span><span style="color: #990000">(</span>aDoc<span style="color: #990000">)</span><span style="color: #FF0000">{</span>
        P<span style="color: #990000">.</span>Logger<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">info</span></span><span style="color: #990000">(</span><span style="color: #FF0000">'aDoc instanceof Document : '</span> <span style="color: #990000">+</span> <span style="color: #990000">(</span>aDoc <span style="font-weight: bold"><span style="color: #0000FF">instanceof</span></span> Document<span style="color: #990000">));</span>
    <span style="color: #FF0000">}</span><span style="color: #990000">);</span>
<span style="color: #FF0000">}</span><span style="color: #990000">,</span> <span style="font-weight: bold"><span style="color: #0000FF">function</span></span><span style="color: #990000">()</span><span style="color: #FF0000">{}</span><span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>Use <span class="monospaced">remove</span> function and pass the object to be deleted or pass an array of objects to be deleted
as the parameter to avoid unnecessary iterations:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>model<span style="color: #990000">.</span>entity1<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">remove</span></span><span style="color: #990000">(</span>toBeDeleted<span style="color: #990000">);</span>
model<span style="color: #990000">.</span>entity1<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">remove</span></span><span style="color: #990000">([</span>toBeDeleted1<span style="color: #990000">,</span> toBeDeleted2<span style="color: #990000">,</span> toBeDeleted3<span style="color: #990000">]);</span></tt></pre></div></div>
<div class="paragraph"><p>where <span class="monospaced">toBeDeleted</span> is the one of the data array elements.</p></div>
<div class="paragraph"><p>Use the splice function to delete an object from the entity data by
passing an index and a number of elements to be deleted as arguments:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>model<span style="color: #990000">.</span>entity1<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">splice</span></span><span style="color: #990000">(</span>index<span style="color: #990000">,</span> length<span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>where <span class="monospaced">entity1</span> is an entity, <span class="monospaced">index</span> is an index of the entity data array
element. <span class="monospaced">index</span> can take on a value within the <span class="monospaced">0...length-1</span> range and
<span class="monospaced">length</span> is a number of elements to be deleted.</p></div>
<div class="paragraph"><p>Example of deleting the current object from the <span class="monospaced">documents</span> entity and
from the database:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-style: italic"><span style="color: #9A1900">// Removes first element</span></span>
model<span style="color: #990000">.</span>documents<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">splice</span></span><span style="color: #990000">(</span><span style="color: #993399">0</span><span style="color: #990000">,</span> <span style="color: #993399">1</span><span style="color: #990000">);</span>
model<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">save</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">function</span></span><span style="color: #990000">()</span><span style="color: #FF0000">{}</span><span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>To remove all objects from the entity data, use the deleteAll entity
function:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>model<span style="color: #990000">.</span>documents<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">splice</span></span><span style="color: #990000">(</span><span style="color: #993399">0</span><span style="color: #990000">,</span> model<span style="color: #990000">.</span>documents<span style="color: #990000">.</span>length<span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>Example of deleting all objects from the <span class="monospaced">documents</span> entity and from the
database:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-style: italic"><span style="color: #9A1900">// Removes all elements</span></span>
model<span style="color: #990000">.</span>documents<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">splice</span></span><span style="color: #990000">(</span><span style="color: #993399">0</span><span style="color: #990000">,</span> model<span style="color: #990000">.</span>documents<span style="color: #990000">.</span>length<span style="color: #990000">);</span>
model<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">save</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">function</span></span><span style="color: #990000">()</span><span style="color: #FF0000">{}</span><span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>Calling <span class="monospaced">save</span> function results in saving changes and commiting the
transaction.</p></div>
<div class="paragraph"><p>Calling save function may lead to an exception, for example, if saved
data are inconsistent with the database schema. In this case data are
not saved to the database. To handle this exception, use failure callback:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>  model<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">save</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">function</span></span><span style="color: #990000">()</span><span style="color: #FF0000">{}</span><span style="color: #990000">,</span> <span style="font-weight: bold"><span style="color: #0000FF">function</span></span><span style="color: #990000">()</span><span style="color: #FF0000">{</span>
      model<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">revert</span></span><span style="color: #990000">();</span>
      P<span style="color: #990000">.</span>Logger<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">severe</span></span><span style="color: #990000">(</span><span style="color: #FF0000">'Data are not saved, due to an error: '</span> <span style="color: #990000">+</span> e<span style="color: #990000">);</span>
  <span style="color: #FF0000">}</span><span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>After handling the error, you can try to correct the cause of the
problem and re-call the save function.</p></div>
<div class="paragraph"><p>Use model&#8217;s <span class="monospaced">revert</span> method to revert model data changes. After this
method call, no data changes are avaliable for <span class="monospaced">save()</span> method, but the
model still attempts to commit. Calling <span class="monospaced">save()</span> on unchanged model
nevertheless leads to a commit even transaction will be empty.</p></div>
</div>
<div class="sect3">
<h4 id="_find_api">Find API</h4>
<div class="paragraph" id="find-api"><p>Find operations can be performed after the data model loads its
entities' data.</p></div>
<div class="paragraph"><p>Search is performed in the model and doesn&#8217;t send new requests to the
database neither changes the data.</p></div>
<div class="paragraph"><p>To find an object by its primary key, use the findByKey entity method by
passing a key value to it:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> item <span style="color: #990000">=</span> model<span style="color: #990000">.</span>entity1<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">findByKey</span></span><span style="color: #990000">(</span>aKey<span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>where <span class="monospaced">entity1</span> is an entity, <span class="monospaced">aKey</span> is an expression for the search key.</p></div>
<div class="paragraph"><p>If nothing is found, the findByKey function returns the <span class="monospaced">null</span> value.</p></div>
<div class="paragraph"><p>Example of code for searching for a document by its identifier and
displaying its name in the log:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> documentId <span style="color: #990000">=</span> <span style="color: #993399">101</span><span style="color: #990000">;</span>
<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> document <span style="color: #990000">=</span> model<span style="color: #990000">.</span>documents<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">findByKey</span></span><span style="color: #990000">(</span>documentId<span style="color: #990000">);</span>
<span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(</span>document<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
  P<span style="color: #990000">.</span>Logger<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">info</span></span><span style="color: #990000">(</span><span style="color: #FF0000">'Document name is '</span> <span style="color: #990000">+</span> document<span style="color: #990000">.</span>name<span style="color: #990000">);</span>
<span style="color: #FF0000">}</span></tt></pre></div></div>
<div class="paragraph"><p>To perform search by arbitrary properties, use the find
entity&#8217;s function. Pass the "key-value" pairs corresponding to the
property and search value as a JavaScript object to the find function. The search
is performed by checking the equality of the entity object property
values and values to search for.</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> items <span style="color: #990000">=</span> model<span style="color: #990000">.</span>entity1<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">find</span></span><span style="color: #990000">(</span><span style="color: #FF0000">{</span>
  prop1<span style="color: #990000">:</span> propValue1<span style="color: #990000">,</span>
  prop2<span style="color: #990000">:</span> propValue2<span style="font-style: italic"><span style="color: #9A1900">//,</span></span>
  <span style="font-style: italic"><span style="color: #9A1900">//...</span></span>
  <span style="font-style: italic"><span style="color: #9A1900">//propN: propValueN</span></span>
<span style="color: #FF0000">}</span><span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>where <span class="monospaced">entity1</span> is an entity, <span class="monospaced">prop1</span> and <span class="monospaced">prop2</span> are an entity properties`
and <span class="monospaced">propValue1</span> and <span class="monospaced">propValue2</span> are search keys values</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre>*Note*

findByKey and find functions search for objects using prepared hash
table by corresponding properties and don't enumerate the entity's data array each time.
Therefore, it is recommended to logically separate the code for
searching and changing data, as after any change of data prepared hashes
are marked as obsolete, and are rebuilded when you attempt to perform
the search next time.</pre>
</div></div>
<div class="paragraph"><p>This code snippet illustrates search documents by their names and by the
set flag:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> documentName <span style="color: #990000">=</span> <span style="color: #FF0000">'Document 1'</span><span style="color: #990000">;</span>
<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> isChecked <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">true</span></span><span style="color: #990000">;</span>
<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> documents <span style="color: #990000">=</span> model<span style="color: #990000">.</span>documents<span style="color: #990000">;</span>
<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> foundDocuments <span style="color: #990000">=</span> documents<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">find</span></span><span style="color: #990000">(</span><span style="color: #FF0000">{</span>
  name<span style="color: #990000">:</span> documentName<span style="color: #990000">,</span>
  checked<span style="color: #990000">:</span> isChecked
<span style="color: #FF0000">}</span><span style="color: #990000">);</span>
foundDocuments<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">forEach</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">function</span></span><span style="color: #990000">(</span>aFoundDocument<span style="color: #990000">)</span><span style="color: #FF0000">{</span>
  P<span style="color: #990000">.</span>Logger<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">info</span></span><span style="color: #990000">(</span>foundDocument<span style="color: #990000">.</span>desc<span style="color: #990000">);</span>
<span style="color: #FF0000">}</span><span style="color: #990000">);</span></tt></pre></div></div>
</div>
<div class="sect3">
<h4 id="_sort_api">Sort API</h4>
<div class="paragraph" id="sort-api"><p>To sort entities' data arrays use standard JavaScript array <span class="monospaced">sort</span> function.</p></div>
</div>
<div class="sect3">
<h4 id="_entity_events">Entity events</h4>
<div class="paragraph" id="entity-events"><p>To implement some logic to react to the data events specify entity
events handlers functions. To create these handler functions assign
functions to entities' properties.</p></div>
<div class="paragraph"><p>Entity data events list is given in the table below:</p></div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<col style="width:33%;">
<col style="width:33%;">
<col style="width:33%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" >Event </th>
<th class="tableblock halign-left valign-top" >Event type </th>
<th class="tableblock halign-left valign-top" >Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">onRequeried</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">EntityEvent</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Is called after re-requesting the entitiy&#8217;s data
array.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">onDeleted</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">DeleteEvent</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Is called after removing an object from the
entitiy&#8217;s data array.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">onInserted</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">InsertEvent</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Is called after inserting a new object
into the entitiy&#8217;s data array.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">onScrolled</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">ChangeEvent</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Is called after changing the cursor
in the entity&#8217;s data array</p></td>
</tr>
</tbody>
</table>
<div class="paragraph"><p><span class="monospaced">EntityEvent</span> is a generic entity object and contains the following
property:</p></div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<col style="width:50%;">
<col style="width:50%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" >Property </th>
<th class="tableblock halign-left valign-top" >Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">source</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Event source object.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph"><p>Other entity events contain <span class="monospaced">source</span> property as in <span class="monospaced">EntityEvent</span>, as
well as their own specific properties.</p></div>
<div class="paragraph"><p><span class="monospaced">ChangeEvent</span> object specific propetries are listed in the following
table:</p></div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<col style="width:50%;">
<col style="width:50%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" >Property </th>
<th class="tableblock halign-left valign-top" >Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">propertyName</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Changed property name.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">oldValue</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">The value before change.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">newValue</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">The value after change.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph"><p><span class="monospaced">DeleteEvent</span> object specific propetries are listed in the following
table:</p></div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<col style="width:50%;">
<col style="width:50%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" >Property </th>
<th class="tableblock halign-left valign-top" >Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">deleted</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">The deleted objects.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph"><p><span class="monospaced">InsertEvent</span> object specific propetries are listed in the following
table:</p></div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<col style="width:50%;">
<col style="width:50%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" >Property </th>
<th class="tableblock halign-left valign-top" >Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">inserted</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">The inserted objects.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_data_schema">Data schema</h4>
<div class="paragraph" id="data-schema"><p>JavaScript code has access to an entity&#8217;s fields metadata. It is
possible to read types, names, descriptions of entity properties and
parameters, and etc.</p></div>
<div class="paragraph"><p>To read an entity&#8217;s schema, use its <span class="monospaced">schema</span> property:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> entityMetadata <span style="color: #990000">=</span> model<span style="color: #990000">.</span>entity1<span style="color: #990000">.</span>schema<span style="color: #990000">;</span></tt></pre></div></div>
<div class="paragraph"><p>where <span class="monospaced">entity1</span> is an entity, which schema you are interested in.</p></div>
<div class="paragraph"><p>To get access to the an entitiy&#8217;s property metadata:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> propMetadata <span style="color: #990000">=</span> model<span style="color: #990000">.</span>entity1<span style="color: #990000">.</span>schema<span style="color: #990000">.</span>prop1<span style="color: #990000">;</span></tt></pre></div></div>
<div class="paragraph"><p>where <span class="monospaced">entity1</span> is an entity, <span class="monospaced">prop1</span> is the name of the corresponding property.</p></div>
<div class="paragraph"><p>Example of code, which checks if the <span class="monospaced">id</span> property of the documents
entity is an object&#8217;s key property.</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
<span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(</span>model<span style="color: #990000">.</span>documents<span style="color: #990000">.</span>schema<span style="color: #990000">.</span>id<span style="color: #990000">.</span>pk<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
  P<span style="color: #990000">.</span>Logger<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">info</span></span><span style="color: #990000">(</span><span style="color: #FF0000">'id is key attribute of decuments entity.'</span><span style="color: #990000">);</span>
<span style="color: #FF0000">}</span></tt></pre></div></div>
<div class="paragraph"><p>The schema composed of the following properties:</p></div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<col style="width:33%;">
<col style="width:33%;">
<col style="width:33%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" >Property </th>
<th class="tableblock halign-left valign-top" >Type </th>
<th class="tableblock halign-left valign-top" >Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">pk</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">true</span>, if the property is an ID key</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">name</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Property name</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">description</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Property description</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">readonly</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">true</span>, if the property is read-only</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">size</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Number</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Size of the property value</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">nullable</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">true</span>, if the property can take on the <span class="monospaced">NULL</span>
value</p></td>
</tr>
</tbody>
</table>
<div class="paragraph"><p>To get the number of properties in the entity, use the <span class="monospaced">length</span> property
in the entity schema object:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>model<span style="color: #990000">.</span>entity<span style="color: #990000">.</span>schema<span style="color: #990000">.</span>length</tt></pre></div></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">If some field will have name as <span class="monospaced">length</span>, than its name will have a priority
and it will be impossible to determine length of .schema as in above example.</td>
</tr></table>
</div>
<div class="paragraph"><p>You can read the property&#8217;s metadata by index as an array element:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>model<span style="color: #990000">.</span>entity1<span style="color: #990000">.</span>schema<span style="color: #990000">[</span>i<span style="color: #990000">]</span></tt></pre></div></div>
<div class="paragraph"><p>where <span class="monospaced">entity1</span> is an entity, and <span class="monospaced">i</span> is within the range from <span class="monospaced">0</span> to <span class="monospaced">entityMetadata.length - 1</span>.</p></div>
<div class="paragraph"><p>Below you can find an example of output all properties of the documents
entity into the log:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
<span style="font-weight: bold"><span style="color: #0000FF">for</span></span> <span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> i <span style="color: #990000">=</span> <span style="color: #993399">0</span><span style="color: #990000">;</span> i <span style="color: #990000">&lt;</span> model<span style="color: #990000">.</span>documents<span style="color: #990000">.</span>schema<span style="color: #990000">.</span>length<span style="color: #990000">;</span> i<span style="color: #990000">++)</span> <span style="color: #FF0000">{</span>
  P<span style="color: #990000">.</span>Logger<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">info</span></span><span style="color: #990000">(</span>documents<span style="color: #990000">.</span>md<span style="color: #990000">[</span>i<span style="color: #990000">]);</span>
<span style="color: #FF0000">}</span></tt></pre></div></div>
<div class="paragraph"><p>To read the entity parameter metadata, use the <span class="monospaced">schema</span> property of the
<span class="monospaced">params</span> object of an entity:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> paramsMetadata <span style="color: #990000">=</span> model<span style="color: #990000">.</span>entity1<span style="color: #990000">.</span>params<span style="color: #990000">.</span>schema<span style="color: #990000">;</span></tt></pre></div></div>
<div class="paragraph"><p>You can read metadata composed of the following for the parameter:</p></div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<col style="width:33%;">
<col style="width:33%;">
<col style="width:33%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" >Property </th>
<th class="tableblock halign-left valign-top" >Type </th>
<th class="tableblock halign-left valign-top" >Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">modified</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">true</span>, if the parameter was changed and <span class="monospaced">false</span>
otherwise</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">pk</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">true</span>, if the parameter is a primary key and <span class="monospaced">false</span>
otherwise</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">name</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Name of the parameter</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">description</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Description of the parameter</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">readonly</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">true</span>, if the parameter is read-only and <span class="monospaced">false</span>
otherwise</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">size</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Number</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Size of the property value</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">nullable</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">true</span>, if the parameter is not mandatory and
<span class="monospaced">false</span> otherwise</p></td>
</tr>
</tbody>
</table>
<div class="paragraph"><p>To get the number of the entity parameters:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>model<span style="color: #990000">.</span>entity1<span style="color: #990000">.</span>params<span style="color: #990000">.</span>schema<span style="color: #990000">.</span>length</tt></pre></div></div>
<div class="paragraph"><p>where <span class="monospaced">entity1</span> is an entity.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">If some parameter will have name as <span class="monospaced">length</span>, than its name will have a priority
and it will be impossible to determine length of .schema as in above example.</td>
</tr></table>
</div>
</div>
<div class="sect3">
<h4 id="_dynamic_entities">Dynamic entities</h4>
<div class="paragraph" id="dynamic-entities"><p>Use model&#8217;s loadEntity(queryName) method, where queryName is the name of
the query to dynamically create an entity in the data model. The
generated entity can be used to read, insert or modify objects:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> docEntity <span style="color: #990000">=</span> model<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">loadEntity</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Documents"</span><span style="color: #990000">);</span>
docEntity<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">requery</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">function</span></span><span style="color: #990000">()</span><span style="color: #FF0000">{}</span><span style="color: #990000">,</span> <span style="font-weight: bold"><span style="color: #0000FF">function</span></span><span style="color: #990000">()</span><span style="color: #FF0000">{}</span><span style="color: #990000">);</span>

<span style="font-style: italic"><span style="color: #9A1900">//Print all documents names</span></span>
docEntity<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">forEach</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">function</span></span><span style="color: #990000">(</span>doc<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
  P<span style="color: #990000">.</span>Logger<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">info</span></span><span style="color: #990000">(</span>doc<span style="color: #990000">.</span>NAME<span style="color: #990000">);</span>
<span style="color: #FF0000">}</span><span style="color: #990000">);</span>

<span style="font-style: italic"><span style="color: #9A1900">//Change first document's name</span></span>
docEntity<span style="color: #990000">[</span><span style="color: #993399">0</span><span style="color: #990000">]</span> <span style="color: #990000">&amp;&amp;</span> docEntity<span style="color: #990000">[</span><span style="color: #993399">0</span><span style="color: #990000">].</span>NAME <span style="color: #990000">=</span> <span style="color: #FF0000">"New document"</span><span style="color: #990000">;</span>
model<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">save</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">function</span></span><span style="color: #990000">()</span><span style="color: #FF0000">{}</span><span style="color: #990000">,</span> <span style="font-weight: bold"><span style="color: #0000FF">function</span></span><span style="color: #990000">()</span><span style="color: #FF0000">{}</span><span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>Use model&#8217;s createEntity(sqlText, datasourceName) method, where sqlText is arbitrary sql text
and is datasourceName the name of datasource accessible in your current environment
The generated entity can be used to read, insert or modify objects:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> docEntity <span style="color: #990000">=</span> model<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">createEntity</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"select * from tr_documents"</span><span style="color: #990000">,</span> <span style="color: #FF0000">"testdb"</span><span style="color: #990000">);</span>
docEntity<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">requery</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">function</span></span><span style="color: #990000">()</span><span style="color: #FF0000">{}</span><span style="color: #990000">,</span> <span style="font-weight: bold"><span style="color: #0000FF">function</span></span><span style="color: #990000">()</span><span style="color: #FF0000">{}</span><span style="color: #990000">);</span>

<span style="font-style: italic"><span style="color: #9A1900">//Print all documents names</span></span>
docEntity<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">forEach</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">function</span></span><span style="color: #990000">(</span>doc<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
  P<span style="color: #990000">.</span>Logger<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">info</span></span><span style="color: #990000">(</span>doc<span style="color: #990000">.</span>NAME<span style="color: #990000">);</span>
<span style="color: #FF0000">}</span><span style="color: #990000">);</span>

<span style="font-style: italic"><span style="color: #9A1900">//Change first document's name</span></span>
docEntity<span style="color: #990000">[</span><span style="color: #993399">0</span><span style="color: #990000">]</span> <span style="color: #990000">&amp;&amp;</span> docEntity<span style="color: #990000">[</span><span style="color: #993399">0</span><span style="color: #990000">].</span>NAME <span style="color: #990000">=</span> <span style="color: #FF0000">"New document"</span><span style="color: #990000">;</span>
model<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">save</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">function</span></span><span style="color: #990000">()</span><span style="color: #FF0000">{}</span><span style="color: #990000">,</span> <span style="font-weight: bold"><span style="color: #0000FF">function</span></span><span style="color: #990000">()</span><span style="color: #FF0000">{}</span><span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>Use executeUpdate entity method to execute the SQL code, which contains
the <span class="monospaced">INSERT</span>, <span class="monospaced">UPDATE</span>, <span class="monospaced">DELETE</span> or DDL commands:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> e <span style="color: #990000">=</span> model<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">createEntity</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"DELETE * FROM Document d WHERE d.DOC_TYPE = 1"</span><span style="color: #990000">);</span>
e<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">executeUpdate</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">function</span></span><span style="color: #990000">()</span><span style="color: #FF0000">{}</span><span style="color: #990000">,</span> <span style="font-weight: bold"><span style="color: #0000FF">function</span></span><span style="color: #990000">()</span><span style="color: #FF0000">{}</span><span style="color: #990000">);</span></tt></pre></div></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">createEntity method may be used only is two-tier environment. E.g. in Java EE
server, J2SE client or in Platypus TSA server.</td>
</tr></table>
</div>
</div>
<div class="sect3">
<h4 id="_executing_arbitary_sql">Executing arbitary SQL</h4>
<div class="paragraph" id="executing-arbitary-sql"><p>In addition to using entities based on a query, data model allows to
execute arbitrary SQL code. Using entities based on a query instance
have a number of advantages, such as security management or ability to
work with the client code. However, if necessary, you can execute
arbitrary SQL.</p></div>
<div class="paragraph"><p>SQL execution is available on a server or on a desktop client wich has a
direct connection to a database.</p></div>
<div class="paragraph"><p>Use executeSql(sqlClause, datasourceName, onSuccess, onFailure) model&#8217;s method to execute the SQL code, which
contains the <span class="monospaced">INSERT</span>, <span class="monospaced">UPDATE</span>, <span class="monospaced">DELETE</span> commands, where <span class="monospaced">sqlClause</span> is the query text:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>model<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">executeSql</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"DROP TABLE Document"</span><span style="color: #990000">,</span> <span style="color: #FF0000">"testdb"</span><span style="color: #990000">,</span> <span style="font-weight: bold"><span style="color: #0000FF">function</span></span><span style="color: #990000">()</span><span style="color: #FF0000">{}</span><span style="color: #990000">,</span> <span style="font-weight: bold"><span style="color: #0000FF">function</span></span><span style="color: #990000">()</span><span style="color: #FF0000">{}</span><span style="color: #990000">);</span></tt></pre></div></div>
</div>
</div>
<div class="sect2">
<h3 id="_data_source_module">Data source module</h3>
<div class="paragraph" id="data-source-module"><p>A module can be used as a data source in other modules' data models just
like a query.</p></div>
<div class="paragraph"><p>To create a data source module implement the following instance
properties and methods:</p></div>
<div class="ulist"><ul>
<li>
<p>
<span class="monospaced">schema</span> property to represent the data source metadata information.
The schema information is repesented as an array of fields elements. For
each array element contains the following: <span class="monospaced">name</span> is the name of the
field, <span class="monospaced">entity</span> is the entity name to be used as a reference (optional),
<span class="monospaced">description</span> is the field&#8217;s description, type is the field&#8217;s type
(optional), <span class="monospaced">key</span> is true if the field is a primary key, <span class="monospaced">ref</span> is the
reference to the other entity&#8217;s field and <span class="monospaced">required</span> is true if property value is mandatory.
</p>
</li>
<li>
<p>
<span class="monospaced">fetch(params, onSuccess, onFailure)</span> method to query data, where params is an object, with
properties as defined in this module&#8217;s model&#8217;s parameters, onSuccess is a success callback and onFailure is failure callback.
</p>
</li>
<li>
<p>
<span class="monospaced">apply(log, onSuccess, onFailure)</span> method to save the data, where log is an array represents
the log of changes made by clients or server side data driven code to be
applied, onSuccess is a success callback and onFailure is failure callback.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Example of an datasource module usage is as the follows:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
<span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * </span></span><span style="color: #009900">@constructor</span>
<span style="font-style: italic"><span style="color: #9A1900"> */</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">function</span></span> <span style="font-weight: bold"><span style="color: #000000">DataSourceModule</span></span><span style="color: #990000">()</span><span style="color: #FF0000">{</span>
    <span style="font-weight: bold"><span style="color: #0000FF">var</span></span> self <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">;</span>

    <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">.</span>schema <span style="color: #990000">=</span> <span style="color: #990000">[</span>
        <span style="color: #FF0000">{</span>name<span style="color: #990000">:</span> <span style="color: #FF0000">"p1"</span><span style="color: #990000">,</span>
         entity<span style="color: #990000">:</span> <span style="color: #FF0000">"entity"</span><span style="color: #990000">,</span>
         description<span style="color: #990000">:</span> <span style="color: #FF0000">"p1 desc"</span><span style="color: #990000">,</span>
         type<span style="color: #990000">:</span> String<span style="color: #990000">,</span>
         key<span style="color: #990000">:</span> <span style="font-weight: bold"><span style="color: #0000FF">true</span></span><span style="color: #FF0000">}</span><span style="color: #990000">,</span>
        <span style="color: #FF0000">{</span>name<span style="color: #990000">:</span> <span style="color: #FF0000">"p2"</span><span style="color: #990000">,</span>
         entity<span style="color: #990000">:</span> <span style="color: #FF0000">"entity"</span><span style="color: #990000">,</span>
         description<span style="color: #990000">:</span> <span style="color: #FF0000">"p2 desc"</span><span style="color: #990000">,</span>
         type<span style="color: #990000">:</span> String<span style="color: #990000">,</span>
         ref<span style="color: #990000">:</span> <span style="color: #FF0000">{</span>property<span style="color: #990000">:</span> <span style="color: #FF0000">"referencedPropertyName"</span><span style="color: #990000">,</span>
               entity<span style="color: #990000">:</span> <span style="color: #FF0000">"referencedEntityName"</span><span style="color: #FF0000">}}</span><span style="color: #990000">,</span>
        <span style="color: #FF0000">{</span>name<span style="color: #990000">:</span> <span style="color: #FF0000">"property3Name"</span><span style="color: #990000">,</span>
         entity<span style="color: #990000">:</span> <span style="color: #FF0000">"optionalEntityName"</span><span style="color: #990000">,</span>
         description<span style="color: #990000">:</span> <span style="color: #FF0000">"p3 desc"</span><span style="color: #990000">,</span>
         type<span style="color: #990000">:</span> Number<span style="color: #990000">,</span>
         required<span style="color: #990000">:</span> <span style="font-weight: bold"><span style="color: #0000FF">true</span></span><span style="color: #FF0000">}</span><span style="color: #990000">,</span>
    <span style="color: #990000">];</span>

    <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">.</span>params <span style="color: #990000">=</span> <span style="color: #990000">[</span>
         <span style="color: #FF0000">{</span>name<span style="color: #990000">:</span> <span style="color: #FF0000">"param1Name"</span><span style="color: #990000">,</span> type<span style="color: #990000">:</span> String<span style="color: #FF0000">}</span>
         <span style="color: #FF0000">{</span>name<span style="color: #990000">:</span> <span style="color: #FF0000">"param2Name"</span><span style="color: #990000">,</span> type<span style="color: #990000">:</span> Date<span style="color: #FF0000">}</span>
    <span style="color: #990000">];</span>

    <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">.</span>fetch <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">function</span></span><span style="color: #990000">(</span>aParams<span style="color: #990000">,</span> aOnSuccess<span style="color: #990000">,</span> aOnFailure<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
        <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> <span style="color: #990000">[</span>
            <span style="color: #FF0000">{</span>p1<span style="color: #990000">:</span> <span style="color: #FF0000">"nameA"</span><span style="color: #990000">,</span>
             p2<span style="color: #990000">:</span> <span style="color: #FF0000">"descriptionA"</span><span style="color: #990000">,</span>
             p3<span style="color: #990000">:</span> <span style="color: #993399">2</span><span style="color: #FF0000">}</span><span style="color: #990000">,</span>
            <span style="color: #FF0000">{</span>p1<span style="color: #990000">:</span> <span style="color: #FF0000">"nameB"</span><span style="color: #990000">,</span>
             p2<span style="color: #990000">:</span> <span style="color: #FF0000">"descriptionB"</span><span style="color: #990000">,</span>
             p3<span style="color: #990000">:</span> <span style="color: #993399">20</span><span style="color: #FF0000">}</span>
        <span style="color: #990000">];</span>
    <span style="color: #FF0000">}</span><span style="color: #990000">;</span>

    <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">.</span>apply <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">function</span></span><span style="color: #990000">(</span>aLog<span style="color: #990000">,</span> aOnSuccess<span style="color: #990000">,</span> aOnFailure<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
        P<span style="color: #990000">.</span>Logger<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">info</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Log length: "</span> <span style="color: #990000">+</span> aLog<span style="color: #990000">.</span>length<span style="color: #990000">);</span>
        <span style="font-weight: bold"><span style="color: #0000FF">for</span></span> <span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> i <span style="color: #990000">=</span> <span style="color: #993399">0</span><span style="color: #990000">;</span> i <span style="color: #990000">&lt;</span> aLog<span style="color: #990000">.</span>length<span style="color: #990000">;</span> i<span style="color: #990000">++)</span> <span style="color: #FF0000">{</span>
            <span style="font-weight: bold"><span style="color: #0000FF">var</span></span> change <span style="color: #990000">=</span> aLog<span style="color: #990000">[</span>i<span style="color: #990000">];</span>
            <span style="font-style: italic"><span style="color: #9A1900">// some work on applying a change</span></span>
        <span style="color: #FF0000">}</span>
        <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(</span>aOnSuccess<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
            <span style="font-style: italic"><span style="color: #9A1900">// TODO : place here your asynchronous data storing code.</span></span>
            <span style="font-style: italic"><span style="color: #9A1900">// aOnSuccess(/*number of changed objects in backend*/);</span></span>
        <span style="color: #FF0000">}</span> <span style="font-weight: bold"><span style="color: #0000FF">else</span></span> <span style="color: #FF0000">{</span>
            <span style="font-style: italic"><span style="color: #9A1900">// TODO : place here your synchronous data storing code.</span></span>
            <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> <span style="font-style: italic"><span style="color: #9A1900">/*number of changed objects in backend*/</span></span><span style="color: #990000">;</span>
        <span style="color: #FF0000">}</span>
    <span style="color: #FF0000">}</span><span style="color: #990000">;</span></tt></pre></div></div>
</div>
<div class="sect2">
<h3 id="_server_modules">Server modules</h3>
<div class="paragraph" id="server-modules"><p>This section provides information how to use special features of
JavaScript modules running on an application server.</p></div>
<div class="sect3">
<h4 id="_statefull_and_stateless_session_modules">Statefull and stateless session modules</h4>
<div class="paragraph" id="statefull-and-stateless-session-modules"><p>A module being created on server is stateful by default. Such module
exists in the context of the current user session.</p></div>
<div class="paragraph"><p>Mark a module with <span class="monospaced">@stateless</span> annotation if you want to make the
module stateless. A new instance of stateless module is created every
time the module is called via a RPC or via LPC.</p></div>
</div>
<div class="sect3">
<h4 id="_resident_module">Resident module</h4>
<div class="paragraph" id="resident-module"><p>Use <span class="monospaced">@resident</span> annotation to make a server module resident. A resident
modules are loaded and instantiated during server startup. Resident
modules reside in the system session. They are can&#8217;t be stateless.</p></div>
</div>
<div class="sect3">
<h4 id="_data_validators">Data validators</h4>
<div class="paragraph" id="data-validators"><p>Use annotation <span class="monospaced">@validator data_source_name,  ...</span>, where data_source_name is a data source
name to enable server side validation. Implement validation logic in the
instance metheod <span class="monospaced">validate(log, datasource, onSuccess, onFailure)</span>, where log is an array of changes
representing the log of changes made by clients or server side data
driven code to be applied, <span class="monospaced">datasource</span> is a datasource name mentioned in <span class="monospaced">@validator</span> annotation
(relational datasource or script datasource module name), onSuccess is
a success cakkback and onFailure is failure callback. The method returns <span class="monospaced">false</span> to stop
validating process (e.g. break validators chain), nothing or true
otherwise or calls a onFailure if validation fails.</p></div>
<div class="paragraph"><p>A module with no data sources in <span class="monospaced">@validatior</span> annotation is invoked for
default application datasource.</p></div>
<div class="paragraph"><p>Server-side validator example is as follows:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
<span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * </span></span><span style="color: #009900">@constructor</span>
<span style="font-style: italic"><span style="color: #9A1900"> * </span></span><span style="color: #009900">@validator</span><span style="font-style: italic"><span style="color: #9A1900"> DataSource1</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> */</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">function</span></span> <span style="font-weight: bold"><span style="color: #000000">ValidatorA</span></span><span style="color: #990000">()</span><span style="color: #FF0000">{</span>
    <span style="font-weight: bold"><span style="color: #0000FF">var</span></span> self <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">.</span>validate <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">function</span></span><span style="color: #990000">(</span>log<span style="color: #990000">,</span> datasource<span style="color: #990000">,</span> onSuccess<span style="color: #990000">,</span> onFailure<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
        <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> <span style="font-weight: bold"><span style="color: #0000FF">false</span></span><span style="color: #990000">;</span>
    <span style="color: #FF0000">}</span><span style="color: #990000">;</span>
<span style="color: #FF0000">}</span></tt></pre></div></div>
</div>
</div>
<div class="sect2">
<h3 id="_scripting_java">Scripting Java</h3>
<div class="paragraph" id="scripting-java"><p>Calling Java classes from JavaScript code is possible for applications,
which are executed in the Platypus J2SE or on the application server
in any configuration.</p></div>
<div class="paragraph"><p>To access the Java packages and classes, use the Java global object as described
in articles about integrating Nashorn and Java.</p></div>
</div>
<div class="sect2">
<h3 id="_local_procedure_calls">Local procedure calls</h3>
<div class="paragraph" id="lpc"><p>Use local procedure calls (LPC) in JavaScript for tasks, which have to be executed in parallel manner.
The LPC mechanism might is available only in application server (both Platypus TSA server or J2EE server).</p></div>
<div class="paragraph"><p>To run a JavaScript code in parallel, create server module containing some logic processing one task.
Than use it multiple times in other module through LPC.</p></div>
<div class="paragraph"><p>Imagine, that we have task to compute tangent 100 time for different angles. Let&#8217;s create worker module,
which will be executed multiple times in parallel:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * </span></span><span style="color: #009900">@constructor</span>
<span style="font-style: italic"><span style="color: #9A1900"> * </span></span><span style="color: #009900">@stateless</span>
<span style="font-style: italic"><span style="color: #9A1900"> */</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">function</span></span> <span style="font-weight: bold"><span style="color: #000000">Worker</span></span><span style="color: #990000">()</span><span style="color: #FF0000">{</span>
    <span style="font-weight: bold"><span style="color: #0000FF">var</span></span> self <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">;</span>

    <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">.</span>calc <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">function</span></span> <span style="color: #990000">(</span>aAngle<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
      <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> Math<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">tan</span></span><span style="color: #990000">(</span>aAngle<span style="color: #990000">);</span><span style="font-style: italic"><span style="color: #9A1900">// one of parallel operations here</span></span>
    <span style="color: #FF0000">}</span>
<span style="color: #FF0000">}</span></tt></pre></div></div>
<div class="paragraph"><p>Now let&#8217;s create session statefull module, serving user&#8217;s request and performing all calculations:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * </span></span><span style="color: #009900">@constructor</span>
<span style="font-style: italic"><span style="color: #9A1900"> * </span></span><span style="color: #009900">@public</span>
<span style="font-style: italic"><span style="color: #9A1900"> */</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">function</span></span> <span style="font-weight: bold"><span style="color: #000000">Processor</span></span><span style="color: #990000">()</span><span style="color: #FF0000">{</span>
    <span style="font-weight: bold"><span style="color: #0000FF">var</span></span> self <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">.</span>process <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">function</span></span><span style="color: #990000">(</span>aAngles<span style="color: #990000">,</span> aOnSuccess<span style="color: #990000">)</span><span style="color: #FF0000">{</span>
        <span style="font-weight: bold"><span style="color: #0000FF">var</span></span> results <span style="color: #990000">=</span> <span style="color: #990000">[];</span>
        <span style="font-weight: bold"><span style="color: #0000FF">var</span></span> w <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> P<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">ServerModule</span></span><span style="color: #990000">(</span><span style="color: #FF0000">'Worker'</span><span style="color: #990000">);</span>
        <span style="font-weight: bold"><span style="color: #0000FF">var</span></span> calced <span style="color: #990000">=</span> <span style="color: #993399">0</span><span style="color: #990000">;</span>
        aAngles<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">forEach</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">function</span></span><span style="color: #990000">(</span>aAngle<span style="color: #990000">)</span><span style="color: #FF0000">{</span>
            w<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">calc</span></span><span style="color: #990000">(</span>aAngle<span style="color: #990000">,</span> <span style="font-weight: bold"><span style="color: #0000FF">function</span></span><span style="color: #990000">(</span>aTan<span style="color: #990000">)</span><span style="color: #FF0000">{</span><span style="font-style: italic"><span style="color: #9A1900">// Call to LPC stub. Actual calc function will be called by Platypus.js runtime probably in several concurrent threads.</span></span>
                results<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">push</span></span><span style="color: #990000">(</span>aTan<span style="color: #990000">);</span>
                <span style="font-weight: bold"><span style="color: #0000FF">if</span></span><span style="color: #990000">(</span>results<span style="color: #990000">.</span>length <span style="color: #990000">===</span> aAngles<span style="color: #990000">.</span>length<span style="color: #990000">)</span><span style="color: #FF0000">{</span>
                    <span style="font-weight: bold"><span style="color: #000000">aOnSuccess</span></span><span style="color: #990000">(</span>results<span style="color: #990000">);</span>
                <span style="color: #FF0000">}</span>
            <span style="color: #FF0000">}</span><span style="color: #990000">);</span>
        <span style="color: #FF0000">}</span><span style="color: #990000">);</span>
    <span style="color: #FF0000">}</span>
<span style="color: #FF0000">}</span></tt></pre></div></div>
<div class="paragraph"><p>Unlike HTML5 Workers, LPC mechanism in Platypus.js uses standard container&#8217;s thread pool
and so, maximum number of concurrent threads is less or equal to container&#8217;s thread pool
maxThreads configuration parameter. Platypus.js supports asynchronous IO model and so maxThreads parameter
should be configured as number of processors/core of the computer + 1.</p></div>
<div class="paragraph"><p>There are three levels of parallelism in Platypus.js server environment:
* Resident modules level.
* Session modules level.
* Stateless modules level.
Each level of parallelism considers its own script spaces (script context and global object) magaging policy.
Resident modules level owns a single script space and all calls to arbitrary resident modules are
added to the same queue. Session statefull modules level considers the following: Each user&#8217;s session has its own
script space and all calls to arbitrary session statefull modules are
added to the session&#8217;s queue. Stateless modules level considers the following: Each instance of stateless module
creates its own script space and a call to the module and all calls to its callbacks are added toits own queue.</p></div>
<div class="paragraph"><p>LPC allows to make calls one module from one level to another module from another level of parallelism and
pass some arguments to them and obtain results of such calls. To avoid concurrency in using JavaScript engine
Platypus.js runtime uses <a href="http://www.w3.org/TR/html5/infrastructure.html#safe-passing-of-structured-data">structured copy algorithm</a> while
passing arguments and while retrieving results.</p></div>
</div>
<div class="sect2">
<h3 id="_logging">Logging</h3>
<div class="paragraph" id="logging"><p>The logging subsystem is built on the base of the Java Logging
infrastructure.</p></div>
<div class="paragraph"><p>To write into the log, use the <span class="monospaced">Logger</span> object, which is a shell for the
java.util.logging.Logger class. The <span class="monospaced">Logger</span> object is also available in
the HTML5 web browser client.</p></div>
<div class="paragraph"><p>Example of using the <span class="monospaced">Logger</span> object:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>P<span style="color: #990000">.</span>Logger<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">info</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"info text"</span><span style="color: #990000">);</span>
P<span style="color: #990000">.</span>Logger<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">warning</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"warning text"</span><span style="color: #990000">);</span>
P<span style="color: #990000">.</span>Logger<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">severe</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"severe error"</span><span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>Check the Administration Guide and Java documentation for information
about configuring logging subsystem.</p></div>
</div>
<div class="sect2">
<h3 id="_filesystem_i_o">Filesystem I/O</h3>
<div class="paragraph" id="filesystem-io"><p>To read and write files, use Java API from the <span class="monospaced">java.io.*</span> and other
dedicated packages.</p></div>
<div class="paragraph"><p>To read and write strings, use <span class="monospaced">readString(path, encoding)</span>, and <span class="monospaced">writeString(path, text, encoding)</span>
global functions, where <span class="monospaced">path</span> is a path to the file, <span class="monospaced">text</span> is a
string, <span class="monospaced">encoding</span> is the name of encoding. The <span class="monospaced">encoding</span> parameter in
both functions is optional and by default is set for the utf-8 encoding.</p></div>
<div class="paragraph"><p>Example of using functions for reading and writing strings to a file:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
<span style="font-style: italic"><span style="color: #9A1900">//Read from one text file and write to another</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> str <span style="color: #990000">=</span> P<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">readString</span></span><span style="color: #990000">(</span><span style="color: #FF0000">'/home/user1/Documents/doc1.txt'</span><span style="color: #990000">);</span>
P<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">writeString</span></span><span style="color: #990000">(</span><span style="color: #FF0000">'/home/user1/Documents/doc2.txt'</span><span style="color: #990000">,</span> str<span style="color: #990000">);</span></tt></pre></div></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_user_interface_guide">User interface guide</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="user-interface-guide">Form</h3>
<div class="paragraph" id="form"><p><span class="monospaced">Form</span> is a user interface building block wich can be represented as a
top-level window with a title and a decorations or can be build-in on a panel
or on another form.</p></div>
<div class="paragraph"><p>A form is a regular JavaScript module with visual widgets. Any form
can be displayed both in J2SE client as well in HTML5 web-browser.</p></div>
<div class="paragraph"><p><span class="monospaced">Form</span> by default includes a top-level container, which holds widgets and other
containers and usually has <span class="monospaced">view</span> name.</p></div>
<div class="paragraph"><p>A widget is a widget, which has a visual representation. A container
is a widget, which holds widgets and other containers.</p></div>
<div class="paragraph"><p>Each widget, as well as the form itself, has a set of properties,
which defines the widget appearance and behavior, and a set of events
(e.g. user actions, for which you can define handlers).</p></div>
<div class="paragraph"><p><span class="image">
<img src="images/form.png" alt="Form&#8217;s widgets layout">
</span></p></div>
<div class="paragraph"><p>In the J2SE client, forms are displayed in separate windows, can be
minimized or expanded to the full screen, displayed in other forms as
built-in elements (frames) and as internal windows in the DesktopPane
widget. In the HTML5 browser client, forms are displayed in the same
way, but within a browser page.</p></div>
</div>
<div class="sect2">
<h3 id="new-form-creation">New form creation</h3>
<div class="paragraph"><p>To create a new form layout and JavaScript code in the IDE, perform the
following actions:</p></div>
<div class="ulist"><ul>
<li>
<p>
Select New in the parent directory context menu, or select the parent
directory and click New File in the main menu, or click New File on the
main toolbar, or use a corresponding keyboard shortcut.
</p>
</li>
<li>
<p>
Select Form type of the Platypus application element in the context
menu, or select Choose file type Platypus application elements on the
wizard first step and click Next.
</p>
</li>
<li>
<p>
Enter the name for the new application element in the Name field and
click Finish to create it, or click Cancel to cancel.
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="_visual_ui_editor">Visual UI editor</h3>
<div class="paragraph" id="visual-ui-editor"><p>Edit form widgets layout using the visual form editor. To open the
editor double-click the application element in the project tree.</p></div>
<div class="paragraph"><p>To edit the form:</p></div>
<div class="ulist"><ul>
<li>
<p>
Open the Design tab of the module editor.
</p>
</li>
<li>
<p>
Drag a widget, a container or a menu from the widgets palette onto
the form surface.
</p>
</li>
<li>
<p>
Arrange the widgets on the form.
</p>
</li>
<li>
<p>
Set the general properties of the form and properties of each
widget on the Properties panel, e.g. text, font, foreground and
background colors.
</p>
</li>
<li>
<p>
Specify handlers functions of the form and widgets. To do that
write the event handlers code in the JavaScript editor.
</p>
</li>
<li>
<p>
Configure the form&#8217;s data model and write code responsible for data
manipulations.
</p>
</li>
<li>
<p>
Save the form by clicking Save All on the Platypus Application
Designer tool bar or by pressing Ctrl S shortcut.
</p>
</li>
</ul></div>
<div class="quoteblock">
<div class="content">
<div class="paragraph"><p><strong>Note</strong></p></div>
<div class="paragraph"><p>A form should contain JavaScript code, responsible for user interface.
Business logic should be implemented in server modules.</p></div>
</div>
<div class="attribution">
</div></div>
<div class="paragraph"><p>Form&#8217;s structure is presented as a tree in the form inspector panel. Use
the inspector to select a widget, a container or a menu, to move a
widget from one container to another, and to select the container
layout.</p></div>
<div class="paragraph"><p>Drag widgets up or down in the inspector tree or activate the Move
Up, Move Down, and Change Order context menu items to set the order
along the Z axis.</p></div>
<div class="paragraph"><p>To run a quick preview of the form, click Preview design on the visual
editor tool bar. The preview window opens, showing a visual
representation of the form, which is identical to its look in runtime.</p></div>
<div class="paragraph"><p>The anchors layout is enabled for all form&#8217;s containers by default. To
choose some other layout for the specific container, select the layout
menu item in the Set Layout submenu from the container&#8217;s context menu in
the inspector widget tree.</p></div>
<div class="paragraph"><p>Add a widget from the pallete using the visual editor, anchors are
attached for the nearest container&#8217;s sides and width and height values
are automatically set.</p></div>
<div class="paragraph"><p>Change dimensions of the widget and its location by using the mouse
or arrows keys. When you move a widget using arrows keys, the
position of the widget is tied to the grid. Hold down the Ctrl to
move the widget smoothly. Hold down the Shift key to expand the
widget.</p></div>
<div class="quoteblock">
<div class="content">
<div class="paragraph"><p><strong>Note</strong></p></div>
<div class="paragraph"><p>To define form&#8217;s editor settings, use the properties setting
dialog:Tools Options Miscellaneous GUI Builder.</p></div>
</div>
<div class="attribution">
</div></div>
<div class="paragraph"><p>To enable or disable an anchor, use anchors buttons on the form editor
toolbar.</p></div>
<div class="paragraph"><p>Specify values for anchors and dimensions explicitly, changing the
values of the widget&#8217;s properties panel in the Layout properties
group: Left, Top, Right, Bottom, Left, Width, and Height.</p></div>
<div class="paragraph"><p>Anchors properties values are specified as a strings together with the
indication of measurement units: pixels or percentages. If measurement
units are not specified, pixels are used. If a value is defined as a
percentage, this anchor and dimension will be changed while maintaining
the defined value when changing dimensions of the container, for example
: <span class="monospaced">60px</span>, <span class="monospaced">30%</span>, <span class="monospaced">40</span>.</p></div>
<div class="paragraph"><p>Use the widget alignment control buttons on the form editor tool bar
to align widgets in relation to each other. Alignment buttons become
active when you select multiple widgets. To select multiple widgets,
click them while holding down the Ctrl key.</p></div>
<div class="paragraph"><p>Specify a widget&#8217;s the properties and event handlers:</p></div>
<div class="ulist"><ul>
<li>
<p>
Click a form area, which is free from other widgets, or select a
form node in the widget inspector.
</p>
</li>
<li>
<p>
Change properties of the form on the Properties panel.
</p>
</li>
<li>
<p>
Write code of the handlers in the JavaScript editor.
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="_form_api">Form API</h3>
<div class="paragraph" id="form-api"><p>Create a module instance in client JavaScript as follows:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> form <span style="color: #990000">=</span> P<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">loadForm</span></span><span style="color: #990000">(</span><span style="color: #FF0000">'MainView'</span><span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>To make a form visible use the <span class="monospaced">show</span> method:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>form<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">show</span></span><span style="color: #990000">();</span></tt></pre></div></div>
<div class="paragraph"><p>An application supports a registry of its shown forms. For every form an
identifier can be specified to refer to the shown form in this registry,
to do this use form&#8217;s instance <span class="monospaced">formKey</span> property. By default a form&#8217;s
key set to its module&#8217;s name.</p></div>
<div class="paragraph"><p>Use the <span class="monospaced">Form.getShownForm()</span> method, where formKey is a form&#8217;s key to
get the shown form by its key.</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> formA <span style="color: #990000">=</span> P<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">loadForm</span></span><span style="color: #990000">(</span><span style="color: #FF0000">'FormA'</span><span style="color: #990000">);</span>
<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> formB <span style="color: #990000">=</span> P<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">loadForm</span></span><span style="color: #990000">(</span><span style="color: #FF0000">'FormB'</span><span style="color: #990000">);</span>
formA<span style="color: #990000">.</span>formKey <span style="color: #990000">=</span> <span style="color: #FF0000">'A1'</span><span style="color: #990000">;</span>
formB<span style="color: #990000">.</span>formKey <span style="color: #990000">=</span> <span style="color: #FF0000">'B1'</span><span style="color: #990000">;</span>
formA<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">show</span></span><span style="color: #990000">();</span>
formB<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">show</span></span><span style="color: #990000">();</span>
Form<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getShownForm</span></span><span style="color: #990000">(</span><span style="color: #FF0000">'A1'</span><span style="color: #990000">).</span>visible <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">false</span></span><span style="color: #990000">;</span></tt></pre></div></div>
<div class="paragraph"><p>Get the array of the application&#8217;s shown forms registry using <span class="monospaced">Form</span>
object <span class="monospaced">shown</span> property:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">for</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> i<span style="color: #990000">=</span><span style="color: #993399">0</span><span style="color: #990000">;</span>i <span style="color: #990000">&lt;</span> Form<span style="color: #990000">.</span>shown<span style="color: #990000">.</span>length<span style="color: #990000">;</span>i<span style="color: #990000">++)</span> <span style="color: #FF0000">{</span>
    Logger<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">info</span></span><span style="color: #990000">(</span>shownForms<span style="color: #990000">[</span>i<span style="color: #990000">].</span>title<span style="color: #990000">);</span>
<span style="color: #FF0000">}</span></tt></pre></div></div>
<div class="paragraph"><p>Explicitly provide form keys before using <span class="monospaced">Form.shown</span> because the shown
forms registry uses this keys as identifiers.</p></div>
<div class="paragraph"><p>Add a handler function to the shown form&#8217;s registry change event. Use
the <span class="monospaced">Form</span> object <span class="monospaced">onChange</span> property:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>Form<span style="color: #990000">.</span>onChange <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">function</span></span><span style="color: #990000">(</span>e<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
    Logger<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">info</span></span><span style="color: #990000">(</span>e<span style="color: #990000">.</span>source<span style="color: #990000">.</span>formKey<span style="color: #990000">);</span>
    Logger<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">info</span></span><span style="color: #990000">(</span>e<span style="color: #990000">.</span>source<span style="color: #990000">.</span>visible<span style="color: #990000">);</span>
<span style="color: #FF0000">}</span><span style="color: #990000">;</span></tt></pre></div></div>
<div class="paragraph"><p>The form properties are listed in the following table:</p></div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<col style="width:50%;">
<col style="width:50%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" >Property </th>
<th class="tableblock halign-left valign-top" >Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">title</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Form&#8217;s title text.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">top</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">The distance from the parent container top side.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">left</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">The distance from the parent container left side.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">width</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">The form&#8217;s width.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">height</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">The form&#8217;s height.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">formKey</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">The form&#8217;s identifier in the open forms registry.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">icon</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">The form&#8217;s <span class="monospaced">Icon</span>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">locationByPlatform</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">true</span> if form should appear at the default
location for the native windowing system or at the current location and
<span class="monospaced">false</span> otherwise.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">opacity</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Opacity of the form, Number in the range of 0..1: 0 when it
is completely transparent, 1 when form is completely opaque.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">resizable</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">true</span> if it is allowed changing of the form dimensions
and <span class="monospaced">false</span> otherwise.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">undecorated</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">true</span> to enable displaying of the system borders and
form buttons and <span class="monospaced">false</span> otherwise.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">minimizable</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">true</span> if the form is minimizable, and <span class="monospaced">false</span>
otherwise.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">maximizable</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">true</span> if the form is maximizable, and <span class="monospaced">false</span>
otherwise.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">minimized</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">true</span> if the form is minimized, and <span class="monospaced">false</span> otherwise
(read-only).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">maximized</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">true</span> if the form is maximized, and <span class="monospaced">false</span> otherwise
(read-only).</p></td>
</tr>
</tbody>
</table>
<div class="paragraph"><p>The form methods are listed in the following table:</p></div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<col style="width:50%;">
<col style="width:50%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" >Method </th>
<th class="tableblock halign-left valign-top" >Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">show()</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Displays the form.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">showInternalFrame(desktopPane)</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Displays the form within the
<span class="monospaced">DesktopPane</span> container provided as a <span class="monospaced">desktopPane</span> parameter.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">showModal(callback)</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Displays the form as a confirmation dialog. If
<span class="monospaced">form.close(param)</span> method is used to close the dialog form, then
<span class="monospaced">callback</span> function is invoked with a <span class="monospaced">param</span> passed as an argument.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">close(selected)</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Closes the form. This method may be used to return a
value, selected using the dialog. If the <span class="monospaced">selected</span> parameter is
specified, it will be passed as the <span class="monospaced">callback</span> argument of the function,
which is passed in turn as a parameter to the <span class="monospaced">showModal()</span> method of
the parent form. If the <span class="monospaced">selected</span> parameter has the <span class="monospaced">null</span> value, the
<span class="monospaced">callback</span> function will still be called. If the <span class="monospaced">selected</span> parameter is
not passed at all, the <span class="monospaced">callback</span> function won&#8217;t be called.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">minimize()</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Minimizes the form.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">maximize()</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Maximizes the form.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">restore()</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Restores the previous state of the form.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">toFront()</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Brings the form to the forefront.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph"><p><span class="monospaced">Form</span> events are listed in the following table:</p></div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<col style="width:33%;">
<col style="width:33%;">
<col style="width:33%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" >Event </th>
<th class="tableblock halign-left valign-top" >Event type </th>
<th class="tableblock halign-left valign-top" >Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">onWindowActivated</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">WindowEvent</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Is called after the window
activation.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">onWindowDeactivated</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">WindowEvent</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Is called after another window
activation.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">onWindowClosed</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">WindowEvent</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Is called after closing the form
window.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">onWindowClosing</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">WindowEvent</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Is called before closing the form
window.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">onWindowRestored</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">WindowEvent</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Is called after
deactivating the form window.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">onWindowMinimized</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">WindowEvent</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Is called after minimizing the
form.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">onWindowMaximized</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">WindowEvent</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Is called after maximizing the
form.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">onWindowOpened</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">WindowEvent</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Is called after opening the form
window.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph"><p>The <span class="monospaced">windowClosing</span> event is cancelable. This event is useful for
invoking a dialog to confirm the window closing. If the handler returns
<span class="monospaced">false</span>, the form won&#8217;t be closed:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-style: italic"><span style="color: #9A1900">//Handles windowClosing event</span></span>
form<span style="color: #990000">.</span>onWindowClosing <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">function</span></span><span style="color: #990000">(</span>evt<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
  <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> <span style="font-weight: bold"><span style="color: #000000">confirm</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Close the window?"</span><span style="color: #990000">);</span>
<span style="color: #FF0000">}</span></tt></pre></div></div>
<div class="paragraph"><p>To get access to the properties and events of the form from JavaScript
code, use the corresponding property:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-style: italic"><span style="color: #9A1900">//Sets form's title</span></span>
form<span style="color: #990000">.</span>title <span style="color: #990000">=</span> <span style="color: #FF0000">"Document form"</span><span style="color: #990000">;</span>

<span style="font-style: italic"><span style="color: #9A1900">//Handles onWindowClosing event</span></span>
form<span style="color: #990000">.</span>onWindowClosing <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">function</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span>
  <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> <span style="font-weight: bold"><span style="color: #000000">confirm</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Close the window?"</span><span style="color: #990000">);</span>
<span style="color: #FF0000">}</span></tt></pre></div></div>
<div class="paragraph"><p>Typically the top-level container has the <span class="monospaced">view</span> name and form has same property:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-style: italic"><span style="color: #9A1900">//Sets the veiw's background</span></span>
form<span style="color: #990000">.</span>view<span style="color: #990000">.</span>background <span style="color: #990000">=</span> P<span style="color: #990000">.</span>Color<span style="color: #990000">.</span>BLACK<span style="color: #990000">;</span></tt></pre></div></div>
</div>
<div class="sect2">
<h3 id="_widgets_events">Widgets events</h3>
<div class="admonitionblock" id="widgets-events">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">Widget events are not propagated to the its parent in J2SE client.</td>
</tr></table>
</div>
<div class="paragraph"><p>The base <span class="monospaced">ComponentEvent</span> object contains <span class="monospaced">source</span> property that
contains the event&#8217;s source widget.</p></div>
<div class="paragraph"><p>Use an event handler function as follows:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>form<span style="color: #990000">.</span>btnConnect<span style="color: #990000">.</span>onEventHandler <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">function</span></span><span style="color: #990000">(</span>evt<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
   evt<span style="color: #990000">.</span>source<span style="color: #990000">.</span>background <span style="color: #990000">=</span> Color<span style="color: #990000">.</span>WHITE<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span></tt></pre></div></div>
<div class="paragraph"><p>The specific event objects also contain <span class="monospaced">source</span> property, as well as
their own specific properties. The following types of specific events
are defined: <span class="monospaced">ContainerEvent</span>, <span class="monospaced">KeyboardEvent</span> and <span class="monospaced">MouseEvent</span>.</p></div>
<div class="paragraph"><p><span class="monospaced">ContainerEvent</span> event object represents an event that is called when
something happens with the container, e.g. a widget added or
removed, its specific propetries are listed in the following table:</p></div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<col style="width:50%;">
<col style="width:50%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" >Property </th>
<th class="tableblock halign-left valign-top" >Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">child</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Child widget container operation is performed on.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph"><p><span class="monospaced">KeyEvent</span> event object contains information about a keyboard event,
e.g. a key pressed or released, its specific propetries are listed in
the following table:</p></div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<col style="width:50%;">
<col style="width:50%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" >Property </th>
<th class="tableblock halign-left valign-top" >Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">key</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Key code associated with this event.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">altDown</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">true</span> if Alt key is down on this event and <span class="monospaced">false</span>
otherwise.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">controlDown</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">true</span> if Ctrl key is down on this event and <span class="monospaced">false</span>
otherwise.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">shiftDown</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">true</span> if Shift key is down on this event and <span class="monospaced">false</span>
otherwise.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">metaDown</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">true</span> if Meta key is down on this event and <span class="monospaced">false</span>
otherwise.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph"><p><span class="monospaced">MouseEvent</span> event object contains information about a mouse event, e.g.
a mouse moved or a mouse key is clicked, its specific propetries are
listed in the following table:</p></div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<col style="width:50%;">
<col style="width:50%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" >Property </th>
<th class="tableblock halign-left valign-top" >Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">x</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">The x coordinate of mouse pointer in evt.source space.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">y</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">The y coordinate of mouse pointer in evt.source space.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">button</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">true</span> if Ctrl key is down on this event and <span class="monospaced">false</span>
otherwise.One of the following <span class="monospaced">Number</span> values: 0 for no button, 1 for
the button 1, 2 for the button 2 and 3 for the button 3.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">clickCount</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">The number of mouse clicks associated with this event.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">altDown</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">true</span> if Alt key is down on this event and <span class="monospaced">false</span>
otherwise.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">controlDown</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">true</span> if Ctrl key is down on this event and <span class="monospaced">false</span>
otherwise.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">shiftDown</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">true</span> if Shift key is down on this event and <span class="monospaced">false</span>
otherwise.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">metaDown</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">true</span> if Meta key is down on this event and <span class="monospaced">false</span>
otherwise.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_standard_widgets">Standard widgets</h3>
<div class="paragraph" id="standard-widgets"><p>Standard widgets are simple widgets intended to organize
application&#8217;s user interface.</p></div>
<div class="paragraph"><p>To specify visual presentation of the widget, set its properties and
event handlers in the visual editor or in JavaScript code.</p></div>
<div class="paragraph"><p>Standard widgets have a set of common properties and events as well as
specific properties and events.</p></div>
<div class="paragraph"><p>The common properties for all widgets are listed in the following
table:</p></div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<col style="width:50%;">
<col style="width:50%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" >Property </th>
<th class="tableblock halign-left valign-top" >Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">visible</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">true</span> if the widget is visible and <span class="monospaced">false</span> otherwise</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">background</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Background color</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">font</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Font</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">componentPopupMenu</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Popup menu</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">foreground</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Color</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">toolTipText</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Text, which is shown when hovering a cursor over the
widget</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">cursor</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Cursor above the widget</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">enabled</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">true</span> if the widget is enabled and <span class="monospaced">false</span> otherwise</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">focusable</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">true</span> if it is allowed for the widget to get keyboard
focus and <span class="monospaced">false</span> otherwise</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">opaque</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">true</span> if the widget&#8217;s background is opaque and <span class="monospaced">false</span>
otherwise</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">error</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Error message of this widget. Validation procedure may set
this property and subsequent focus lost event will clear it.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph"><p>Common events for all widgets are listed in the following table:</p></div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<col style="width:33%;">
<col style="width:33%;">
<col style="width:33%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" >Event </th>
<th class="tableblock halign-left valign-top" >Handler parameters </th>
<th class="tableblock halign-left valign-top" >Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">onActionPerformed</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">ComponentEvent</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Is called when main action
performed</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">onComponentAdded</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">ComponentEvent</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Is called after adding the
widget</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">onComponentHidden</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">ComponentEvent</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Is called after hiding the
widget</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">onComponentMoved</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">ComponentEvent</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Is called after moving the
widget</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">onComponentRemoved</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">ComponentEvent</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Is called after removing the
widget from its container</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">onComponentResized</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">ComponentEvent</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Is called after changing the
widget size</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">onComponentShown</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">ComponentEvent</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Is called after displaying the
widget</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">onFocusGained</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">FocusEvent</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Is called after getting the keyboard
focus</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">onFocusLost</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">FocusEvent</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Is called after losing the keyboard focus</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">onKeyPressed</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">KeyEvent</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Is called after pressing the keyboard key</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">onKeyReleased</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">KeyEvent</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Is called after releasing the keyboard key</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">onKeyTyped</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">KeyEvent</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Is called after pressing the keyboard key</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">onMouseClicked</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">MouseEvent</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Mouse key is pressed and released</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">onMouseDragged</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">MouseEvent</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Widget is dragged by the mouse</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">onMouseEntered</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">MouseEvent</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Mouse cursor has entered the widget
rectangle</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">onMouseExited</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">MouseEvent</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Mouse cursor has left the widget
rectangle</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">onMouseMoved</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">MouseEvent</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Mouse cursor has changed its position</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">onMousePressed</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">MouseEvent</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Mouse key is pressed</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">onMouseReleased</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">MouseEvent</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Mouse key is released</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">onMouseWheelMoved</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">MouseWheelEvent</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Mouse wheel is rotated</p></td>
</tr>
</tbody>
</table>
<div class="sect3">
<h4 id="_label">Label</h4>
<div class="paragraph" id="label"><p><span class="monospaced">Label</span> is a widget with a short piece of text, image or text with an
image. The label does not respond to keyboard input events and can&#8217;t get
the keyboard focus.</p></div>
<div class="paragraph"><p>The specific properties of this widget are listed in the following
table:</p></div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<col style="width:50%;">
<col style="width:50%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" >Property </th>
<th class="tableblock halign-left valign-top" >Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">text</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Text</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">icon</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Icon</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">iconTextGap</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Gap between the text and the icon, in pixels</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">horizontalTextPositon</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Horizontal position of the text in relation to
the icon, one of the following: <span class="monospaced">HorizontalPosition.RIGHT</span>,
<span class="monospaced">HorizontalPosition.LEFT</span>, <span class="monospaced">HorizontalPosition.CENTER</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">horizontalAlignment</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Horizontal position of the text with the icon
relative to the widget&#8217;s size, one of the following:
<span class="monospaced">HorizontalPosition.RIGHT</span>, <span class="monospaced">HorizontalPosition.LEFT</span>,
<span class="monospaced">HorizontalPosition.CENTER</span>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">verticalTextPositon</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Vertical position of the text relative to the
icon, one of the following: <span class="monospaced">VerticalPosition.TOP</span>,
<span class="monospaced">VerticalPosition.BOTTOM</span>, <span class="monospaced">VerticalPosition.CENTER</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">verticalAlignment</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Vertical position of the text with the icon
relative to the widget&#8217;s size, one of the following:
<span class="monospaced">VerticalPosition.TOP</span>, <span class="monospaced">VerticalPosition.BOTTOM</span>,
<span class="monospaced">VerticalPosition.CENTER</span>.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph"><p>To create a widget of this type by program means, use the Label
constructor, which can be called with a different number of parameters:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> label <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> P<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">Label</span></span><span style="color: #990000">(</span>text<span style="color: #990000">,</span> icon<span style="color: #990000">,</span> iconTextGap<span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>where text is the text (optional), icon is an icon (optional),
iconTextGap is a gap between the icon and text (optional).</p></div>
<div class="paragraph"><p>After creating, if necessary, set the properties and widget event
handlers and add the widget to the container:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>label<span style="color: #990000">.</span>text <span style="color: #990000">=</span> <span style="color: #FF0000">"Message text"</span><span style="color: #990000">;</span>
view<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>label<span style="color: #990000">,</span> <span style="color: #990000">...);</span></tt></pre></div></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">It is useful, to manipulate with property <span class="monospaced">opaque</span> of Label widget.
If <span class="monospaced">opaque</span> property is set to true, than background of the widget
is filled and it is not filled otherwise. So you may use the <span class="monospaced">opaque</span>
property as a switcher of label&#8217;s background.</td>
</tr></table>
</div>
</div>
<div class="sect3">
<h4 id="_button">Button</h4>
<div class="paragraph" id="button"><p><span class="monospaced">Button</span> is a simple button, which responds to the click action.</p></div>
<div class="paragraph"><p>The properties of this widget are listed in the following table:</p></div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<col style="width:50%;">
<col style="width:50%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" >Property </th>
<th class="tableblock halign-left valign-top" >Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">icon</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">Icon</span> attached to <span class="monospaced">Button</span>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">text</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Widget&#8217;s text.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">iconTextGap</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Gap between the text and the icon, in pixels.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">horizontalTextPositon</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Horizontal position of the text in relation to
the icon: <span class="monospaced">HorizontalPosition.RIGHT</span>, <span class="monospaced">HorizontalPosition.LEFT</span>,
<span class="monospaced">HorizontalPosition.CENTER</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">verticalTextPosition</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Vertical position of the text in relation to
the icon: <span class="monospaced">VerticalPosition.BOTTOM</span>, <span class="monospaced">VerticalPosition.TOP</span>,
<span class="monospaced">VerticalPosition.CENTER</span></p></td>
</tr>
</tbody>
</table>
<div class="paragraph"><p>The specific widget events are listed in the following table:</p></div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<col style="width:33%;">
<col style="width:33%;">
<col style="width:33%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" >Event </th>
<th class="tableblock halign-left valign-top" >Handler parameters </th>
<th class="tableblock halign-left valign-top" >Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">onActionPerformed</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">ActionEvent</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Button click event</p></td>
</tr>
</tbody>
</table>
<div class="paragraph"><p>To create a widget of this type by program means, use the Button,
which can be called with a different number of parameters:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> btn5 <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">Button</span></span><span style="color: #990000">(</span>text<span style="color: #990000">,</span> icon<span style="color: #990000">,</span> iconTextGap<span style="color: #990000">,</span> actionPerformed<span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>where text is text (optional), icon is an icon (optional), iconTextGap
is a gap between the icon and text (optional), actionPerformed is a
handler of the button clicking event (optional).</p></div>
<div class="paragraph"><p>After creating, if necessary, set the properties and widget event
handlers and add the widget to the container:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>btn5<span style="color: #990000">.</span>text <span style="color: #990000">=</span> <span style="color: #FF0000">"Click me"</span><span style="color: #990000">;</span>
btn5<span style="color: #990000">.</span>onActionPerformed <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">function</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span>
  <span style="font-weight: bold"><span style="color: #000000">alert</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Clicked!"</span><span style="color: #990000">);</span>
<span style="color: #FF0000">}</span>
form<span style="color: #990000">.</span>view<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>btn1<span style="color: #990000">,</span> <span style="color: #990000">...);</span></tt></pre></div></div>
</div>
<div class="sect3">
<h4 id="_togglebutton">ToggleButton</h4>
<div class="paragraph" id="togglebutton"><p><span class="monospaced">ToggleButton</span> is a button with two states: selected and not selected.</p></div>
<div class="paragraph"><p>This widget looks like a standard button, but after a click action it
and it will stay in a toggled state. You can use this widget, for
example, when it is necessary to choose from the two options, but flags
or switches are not suitable.</p></div>
<div class="paragraph"><p>The list of <span class="monospaced">ToggleButton</span> widget properties is identical to the
<span class="monospaced">Button</span> widget properties, with the the following specific properties:</p></div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<col style="width:50%;">
<col style="width:50%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" >Property </th>
<th class="tableblock halign-left valign-top" >Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">buttonGroup</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">The button group this button belongs</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">selected</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">true</span> if the button is selected and <span class="monospaced">false</span> otherwise</p></td>
</tr>
</tbody>
</table>
<div class="paragraph"><p>The specific widget events:</p></div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<col style="width:33%;">
<col style="width:33%;">
<col style="width:33%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" >Event </th>
<th class="tableblock halign-left valign-top" >Handler parameters </th>
<th class="tableblock halign-left valign-top" >Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">onActionPerformed</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">ActionEvent</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">The widget user interaction event</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">onValueChange</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">ValueChangeEvent</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">ToggleButton value change event</p></td>
</tr>
</tbody>
</table>
<div class="paragraph"><p>To create a widget of this type by program means, use the
ToggleButton constructor, which can be called with a different number of
parameters:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> btn1 <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> P<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">ToggleButton</span></span><span style="color: #990000">(</span>text<span style="color: #990000">,</span> icon<span style="color: #990000">,</span> selected<span style="color: #990000">,</span> iconTextGap<span style="color: #990000">,</span> actionPerformed<span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>where text is text, icon is an icon (optional), selected is set to <span class="monospaced">true</span> if the button is
selected and <span class="monospaced">false</span> otherwise (optional), iconTextGap is a gap between the icon and text,
actionPerformed is a handler function of the button clicking event (optional).</p></div>
<div class="paragraph"><p>After creating, if necessary, set the properties and widget event
handlers and add the widget to the container:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>btn1<span style="color: #990000">.</span>text <span style="color: #990000">=</span> <span style="color: #FF0000">"Turn me on!"</span><span style="color: #990000">;</span>
btn1<span style="color: #990000">.</span>onActionPerformed <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">function</span></span><span style="color: #990000">(</span>evt<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
    <span style="font-weight: bold"><span style="color: #0000FF">if</span></span><span style="color: #990000">(</span>btn<span style="color: #990000">.</span>selected<span style="color: #990000">)</span>
        btn1<span style="color: #990000">.</span>text <span style="color: #990000">=</span> <span style="color: #FF0000">"Turn me off."</span><span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">else</span></span>
        btn1<span style="color: #990000">.</span>text <span style="color: #990000">=</span> <span style="color: #FF0000">"Turn me on!"</span><span style="color: #990000">;</span>
<span style="color: #FF0000">}</span>
form<span style="color: #990000">.</span>view<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>btn1<span style="color: #990000">,</span> <span style="color: #990000">...);</span></tt></pre></div></div>
</div>
<div class="sect3">
<h4 id="_checkbox">CheckBox</h4>
<div class="paragraph" id="checkbox"><p><span class="monospaced">CheckBox</span> is a widget with two states: selected/not selected.</p></div>
<div class="paragraph"><p>The specific widget events are listed in the following table:</p></div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<col style="width:33%;">
<col style="width:33%;">
<col style="width:33%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" >Event </th>
<th class="tableblock halign-left valign-top" >Handler parameters </th>
<th class="tableblock halign-left valign-top" >Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">onActionPerformed</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">ActionEvent</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">The widget user interaction event</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">onValueChange</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">ValueChangeEvent</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">CheckBox value change event</p></td>
</tr>
</tbody>
</table>
<div class="paragraph"><p>To create a widget of this type by program means, use the CheckBox
constructor, which can be called with a different number of parameters:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> cb <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> P<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">CheckBox</span></span><span style="color: #990000">(</span>text<span style="color: #990000">,</span> selected<span style="color: #990000">,</span> actionPerformed<span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>where text is text (optional), selected is set to <span class="monospaced">true</span>, when the
check box is selected and <span class="monospaced">false</span> otherwise (optional),
actionPerformed is a handler function of the check box switching
event (optional).</p></div>
<div class="paragraph"><p>After creating, if necessary, set the properties and widget event
handlers and add the widget to the container:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
cb1<span style="color: #990000">.</span>text <span style="color: #990000">=</span> <span style="color: #FF0000">"Check box 1"</span><span style="color: #990000">;</span>
cb1<span style="color: #990000">.</span>selected <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">true</span></span><span style="color: #990000">;</span>
cb1<span style="color: #990000">.</span>onValueChange <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">function</span></span><span style="color: #990000">(</span>evt<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
  <span style="font-weight: bold"><span style="color: #000000">alert</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Value of check box 1 changed!"</span><span style="color: #990000">);</span>
<span style="color: #FF0000">}</span>
form<span style="color: #990000">.</span>view<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>cb1<span style="color: #990000">,</span> <span style="color: #990000">...);</span></tt></pre></div></div>
</div>
<div class="sect3">
<h4 id="_radiobutton">RadioButton</h4>
<div class="paragraph" id="radiobutton"><p><span class="monospaced">RadioButton</span> is a widget with two states: selected/not selected.
Widgets of this type can be joined into groups. Only one widget of this
type can be selected in one group.</p></div>
<div class="paragraph"><p>The list of <span class="monospaced">RadioButton</span> widget properties is identical to the <span class="monospaced">Button</span>
widget properties, but it includes the following specific properties:</p></div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<col style="width:50%;">
<col style="width:50%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" >Property </th>
<th class="tableblock halign-left valign-top" >Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">buttonGroup</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">The button group this button belongs</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">icon</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">The <span class="monospaced">Icon</span> for the widget</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">selected</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">true</span> if the button is selected and <span class="monospaced">false</span> otherwise</p></td>
</tr>
</tbody>
</table>
<div class="paragraph"><p>See the description of the <span class="monospaced">Button</span> widget for the list of <span class="monospaced">RadioButton</span>
widget properties.</p></div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<col style="width:33%;">
<col style="width:33%;">
<col style="width:33%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" >Event </th>
<th class="tableblock halign-left valign-top" >Handler parameters </th>
<th class="tableblock halign-left valign-top" >Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">onActionPerformed</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">ActionEvent</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">The widget user interaction event</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">onValueChange</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">ValueChangeEvent</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Radio button value change event</p></td>
</tr>
</tbody>
</table>
<div class="paragraph"><p>To create a widget of this type by program means, use the RadioButton
constructor, which can be called with a different number of parameters:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> rb1 <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> P<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">RadioButton</span></span><span style="color: #990000">(</span>text<span style="color: #990000">,</span> selected<span style="color: #990000">,</span> actionPerformed<span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>where <span class="monospaced">text</span> is text (optional), <span class="monospaced">selected</span> is set to <span class="monospaced">true</span> when the
radio button is selected and <span class="monospaced">false</span> otherwise (optional),
<span class="monospaced">actionPerformed</span> is the user interaction handler function (optional).</p></div>
<div class="paragraph"><p>After creating, if necessary, set the properties and widget event
handlers and add the widget to the container:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
rb1<span style="color: #990000">.</span>text <span style="color: #990000">=</span> <span style="color: #FF0000">"Radio button 1"</span><span style="color: #990000">;</span>
rb1<span style="color: #990000">.</span>selected <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">true</span></span><span style="color: #990000">;</span>
rb1<span style="color: #990000">.</span>onActionPerformed <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">function</span></span><span style="color: #990000">(</span>evt<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
    rb1<span style="color: #990000">.</span>selected <span style="color: #990000">&amp;&amp;</span> <span style="font-weight: bold"><span style="color: #000000">alert</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Radio button 1 selected!"</span><span style="color: #990000">);</span>
<span style="color: #FF0000">}</span>
view<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>rb1<span style="color: #990000">,</span> <span style="color: #990000">...);</span></tt></pre></div></div>
</div>
<div class="sect3">
<h4 id="_buttongroup">ButtonGroup</h4>
<div class="paragraph" id="buttongroup"><p><span class="monospaced">ButtonGroup</span> is a special kind of a widget without its own visual
representation. After adding to the form, the button group widget
will be added to the Other widgets tree node on the inspector panel.</p></div>
<div class="paragraph"><p>The group of buttons enables the simultaneous selection of only one of
widgets of <span class="monospaced">ToggleButton</span>, <span class="monospaced">RadioButton</span>, and
<span class="monospaced">RadioMenuItem</span> types, for which the same button group is assigned. When
you select one of the widgets in the group, the other widgets will be
reset.</p></div>
<div class="paragraph"><p>Widget&#8217;s specific events:</p></div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<col style="width:33%;">
<col style="width:33%;">
<col style="width:33%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" >Event </th>
<th class="tableblock halign-left valign-top" >Event type </th>
<th class="tableblock halign-left valign-top" >Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">onItemSelected</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">ItemEvent</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Item switching event</p></td>
</tr>
</tbody>
</table>
<div class="paragraph"><p>Set the <span class="monospaced">buttonGroup</span> property for the supported widgets types. To do
this, select the appropriate button group from the property field list
on the properties panel.</p></div>
<div class="paragraph"><p>Use ButtonGroup constructor in your program:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> buttonGroup <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> P<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">ButtonGroup</span></span><span style="color: #990000">();</span></tt></pre></div></div>
<div class="paragraph"><p>To specify a <span class="monospaced">ButtonGroup</span> for a exclusive buttons, use widget&#8217;s
buttonGroup property:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>radioButton<span style="color: #990000">.</span>buttonGroup <span style="color: #990000">=</span> buttonGroup<span style="color: #990000">;</span></tt></pre></div></div>
<div class="paragraph"><p>As an alternative method to add child buttons to the <span class="monospaced">ButtonGroup</span>, use
the add method:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>buttonGroup<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>widget<span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>where widget is a button widget to add.</p></div>
<div class="paragraph"><p>After creating, add button widgets to the group:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> rbA <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> P<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">RadioButton</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"A"</span><span style="color: #990000">,</span> <span style="font-weight: bold"><span style="color: #0000FF">true</span></span><span style="color: #990000">);</span>
<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> rbB <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> P<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">RadioButton</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"B"</span><span style="color: #990000">,</span> <span style="font-weight: bold"><span style="color: #0000FF">false</span></span><span style="color: #990000">);</span>
rbA<span style="color: #990000">.</span>buttonGroup <span style="color: #990000">=</span> buttonGroup<span style="color: #990000">;</span>
rbB<span style="color: #990000">.</span>buttonGroup <span style="color: #990000">=</span> buttonGroup<span style="color: #990000">;</span></tt></pre></div></div>
</div>
<div class="sect3">
<h4 id="_textfield">TextField</h4>
<div class="paragraph" id="textfield"><p><span class="monospaced">TextField</span> is a simple widget, which allows you to edit single line
of text.</p></div>
<div class="paragraph"><p>The properties of this widget are listed in the following table:</p></div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<col style="width:50%;">
<col style="width:50%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" >Property </th>
<th class="tableblock halign-left valign-top" >Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">text</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">The text for the widget.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">emptyText</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">The text displayed when the actual value is absent.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph"><p>The specific widget events are listed in the following table:</p></div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<col style="width:33%;">
<col style="width:33%;">
<col style="width:33%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" >Event </th>
<th class="tableblock halign-left valign-top" >Handler parameters </th>
<th class="tableblock halign-left valign-top" >Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">onActionPerformed</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">ActionEvent</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">User interaction event firing when user changes the text</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">onValueChange</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">ValueChangeEvent</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Text field value change event</p></td>
</tr>
</tbody>
</table>
<div class="paragraph"><p>To create a widget of this type by program means, use the TextField
constructor, which can be called with a different number of parameters:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> tf1 <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> P<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">TextField</span></span><span style="color: #990000">(</span>text<span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>where <span class="monospaced">text</span> is the field text (optional).</p></div>
<div class="paragraph"><p>After creating, if necessary, set the properties and event handlers and
add the widget to the container:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>tf1<span style="color: #990000">.</span>emptyText <span style="color: #990000">=</span> <span style="color: #FF0000">"Enter your name..."</span><span style="color: #990000">;</span>
view<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>tf1<span style="color: #990000">,</span> <span style="color: #990000">...);</span></tt></pre></div></div>
</div>
<div class="sect3">
<h4 id="_slider">Slider</h4>
<div class="paragraph" id="slider"><p><span class="monospaced">Slider</span> is a widget, which allows you to visually select a value by
moving the slider lever within the specified interval.</p></div>
<div class="paragraph"><p>The properties of this widget are listed in the following table:</p></div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<col style="width:50%;">
<col style="width:50%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" >Property </th>
<th class="tableblock halign-left valign-top" >Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">maximum</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Maximum value</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">minimum</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Minimum value</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">value</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Value</p></td>
</tr>
</tbody>
</table>
<div class="paragraph"><p>The specific widget events are listed in the following table:</p></div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<col style="width:33%;">
<col style="width:33%;">
<col style="width:33%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" >Event </th>
<th class="tableblock halign-left valign-top" >Handler parameters </th>
<th class="tableblock halign-left valign-top" >Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">onActionPerformed</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">ComponentEvent</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Slider movement termination event</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">onValueChange</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">ValueChangeEvent</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Slider value change event</p></td>
</tr>
</tbody>
</table>
<div class="paragraph"><p>To create a widget of this type by program means, use the Slider
constructor, which can be called with a different number of parameters:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> sl <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> P<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">Slider</span></span><span style="color: #990000">(</span>min<span style="color: #990000">,</span> max<span style="color: #990000">,</span> value<span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>where <span class="monospaced">min</span> is a minimum value (optional), <span class="monospaced">max</span> is a maximum value
(optional), <span class="monospaced">value</span> is the current value (optional).</p></div>
<div class="paragraph"><p>After creating, if necessary, set the properties and widget event
handlers and add the widget to the container:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> sl1 <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> P<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">Slider</span></span><span style="color: #990000">();</span>
sl1<span style="color: #990000">.</span>minimum <span style="color: #990000">=</span> <span style="color: #993399">0</span><span style="color: #990000">;</span>
sl1<span style="color: #990000">.</span>maximum <span style="color: #990000">=</span> <span style="color: #993399">100</span><span style="color: #990000">;</span>
sl1<span style="color: #990000">.</span>value <span style="color: #990000">=</span> <span style="color: #993399">50</span><span style="color: #990000">;</span>
s1l<span style="color: #990000">.</span>onActionPerformed <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">function</span></span><span style="color: #990000">(</span>evt<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
  Logger<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">info</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Slider moved."</span><span style="color: #990000">);</span>
<span style="color: #FF0000">}</span>
view<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>sl1<span style="color: #990000">,</span> <span style="color: #990000">...);</span></tt></pre></div></div>
</div>
<div class="sect3">
<h4 id="_progressbar">ProgressBar</h4>
<div class="paragraph" id="progressbar"><p><span class="monospaced">ProgressBar</span> is a widget, which visually shows the progress of some
task.</p></div>
<div class="paragraph"><p>For example, during the execution of a task the percentage of its
completion may be displayed. In this case, set the minimum property
value to 0, maximum set the maximum property value to 100 and specify
the value when receiving new data on the progress of this task.</p></div>
<div class="paragraph"><p>If you have no information about the current task progress or such data
can&#8217;t be obtained, use the uncertainty mode, in which the indicator will
show that the task was started but is not completed yet instead of its
progress.</p></div>
<div class="paragraph"><p>The specific properties of this widget are listed in the following
table:</p></div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<col style="width:50%;">
<col style="width:50%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" >Property </th>
<th class="tableblock halign-left valign-top" >Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">maximum</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Maximum value</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">minimum</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Minimum value</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">value</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Value of progress</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">text</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Text displayed inside a progress bar</p></td>
</tr>
</tbody>
</table>
<div class="paragraph"><p>To create a widget of this type, use the ProgressBar constructor,
which can be called with a different number of parameters:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> pb <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> P<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">ProgressBar</span></span><span style="color: #990000">(</span>min<span style="color: #990000">,</span> max<span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>where <span class="monospaced">min</span> is a minimum value (optional), <span class="monospaced">max</span> is a maximum value (optional).</p></div>
<div class="paragraph"><p>After creating, if necessary, set the properties and widget event
handlers and add the widget to the container:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> pb1 <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> P<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">ProgressBar</span></span><span style="color: #990000">();</span>
pb1<span style="color: #990000">.</span>minimum <span style="color: #990000">=</span> <span style="color: #993399">0</span><span style="color: #990000">;</span>
pb1<span style="color: #990000">.</span>maximum <span style="color: #990000">=</span> <span style="color: #993399">100</span><span style="color: #990000">;</span>
view<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>pb1<span style="color: #990000">,</span> <span style="color: #990000">...);</span></tt></pre></div></div>
</div>
<div class="sect3">
<h4 id="_formattedfield">FormattedField</h4>
<div class="paragraph" id="formattedfield"><p><span class="monospaced">FormattedField</span> is a widget, which allows you to edit value of some
specific type as the text. So, a user sees just text and a program sees
a value of specific type e.g. date, number, boolean, string and etc.
Specify the valur type which will be managed by this field.
Provide the value&#8217;s format according to value type and the widget&#8217;s value.
The value is converted into the text of the required format before displaying.</p></div>
<div class="paragraph"><p>You can configure the widget to enter some date in some
predefined formats, and also set the custom format to enter strings.</p></div>
<div class="paragraph"><p>The <span class="monospaced">FormattedField</span> properties is identical to the <span class="monospaced">TextField</span> widget
properties, but it includes the following specific properties:</p></div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<col style="width:50%;">
<col style="width:50%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" >Property </th>
<th class="tableblock halign-left valign-top" >Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">valueType</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Type of value, managed by this field.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">format</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Format string, specific for each value type.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph"><p>The formatted field is intended to display and enter values of a
particular type. The format of displaying and editing can vary only
within a given type. Therefore, when you programmatically create this
widget, you should specify a value type before defining the format.
After determining the value type, the format can be changed if the
new format will be suitable for displaying and editing the values of this type.</p></div>
<div class="paragraph"><p>Use the format setting dialog to specify the format string in the visual
editor. Click the button in the format property field. Select a category
from the following: number, date, time, percentage, currency, and mask.
Select a predefined format for the selected category or specify the
custom one in the Format field.</p></div>
<div class="paragraph"><p>The specific widget events are listed in the following table:</p></div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<col style="width:33%;">
<col style="width:33%;">
<col style="width:33%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" >Event </th>
<th class="tableblock halign-left valign-top" >Handler parameters </th>
<th class="tableblock halign-left valign-top" >Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">onActionPerformed</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">ComponentEvent</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">User interaction event: pressing the Enter key.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">onValueChange</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">ValueChangeEvent</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Formatted field value change event: value property assignment from script, focus loose or pressing the Enter key</p></td>
</tr>
</tbody>
</table>
<div class="paragraph"><p>To create a widget of this type by program means, use the
FormattedField constructor, which can be called with a different number
of parameters:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> ff <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> P<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">FormattedField</span></span><span style="color: #990000">();</span></tt></pre></div></div>
<div class="paragraph"><p>After creating, if necessary, set the properties and widget event
handlers and add the widget to the container:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> ff <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> P<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">FormattedField</span></span><span style="color: #990000">();</span>
ff<span style="color: #990000">.</span>valueType <span style="color: #990000">=</span> Date<span style="color: #990000">;</span>
ff<span style="color: #990000">.</span>format <span style="color: #990000">=</span> <span style="color: #FF0000">"dd.MM.yyyy HH:mm:ss"</span><span style="color: #990000">;</span>
ff<span style="color: #990000">.</span>value <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">Date</span></span><span style="color: #990000">();</span></tt></pre></div></div>
</div>
<div class="sect3">
<h4 id="_passwordfield">PasswordField</h4>
<div class="paragraph" id="passwordfield"><p><span class="monospaced">PasswordField</span> is a simple input widget, which allows you to edit
single line of text. It displays placeholders instead of actual
characters.</p></div>
<div class="paragraph"><p>The properties and events of <span class="monospaced">PasswordField</span> are identical to the
<span class="monospaced">TextField</span> widget.</p></div>
<div class="paragraph"><p>To create a widget of this type in JavaScript code, use PasswordField
constructor, which can be called with a different number of parameters:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> pf <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> P<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">PasswordField</span></span><span style="color: #990000">(</span>text<span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>where <span class="monospaced">text</span> is text (optional).</p></div>
<div class="paragraph"><p>After creating, if necessary, set the properties and widget event
handlers and add the widget to the container:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> pf <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> P<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">PasswordField</span></span><span style="color: #990000">();</span>
view<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>pf<span style="color: #990000">,</span> <span style="color: #990000">...);</span></tt></pre></div></div>
</div>
<div class="sect3">
<h4 id="_textarea">TextArea</h4>
<div class="paragraph" id="textarea"><p><span class="monospaced">TextArea</span> is the text widget for editing and displaying multiline
text.</p></div>
<div class="paragraph"><p>The properties and events of <span class="monospaced">TextArea</span> are identical to the <span class="monospaced">TextField</span>
widget.</p></div>
<div class="paragraph"><p>To create a widget of this type in JavaScript code, use TextArea
constructor, which can be called with a different number of parameters:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> textArea <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> P<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">TextArea</span></span><span style="color: #990000">(</span>text<span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>where <span class="monospaced">text</span> is text (optional).</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> textArea <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> P<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">TextArea</span></span><span style="color: #990000">();</span>
view<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>textArea<span style="color: #990000">,</span> <span style="color: #990000">...);</span></tt></pre></div></div>
</div>
<div class="sect3">
<h4 id="_htmlarea">HtmlArea</h4>
<div class="paragraph" id="htmlarea"><p><span class="monospaced">HtmlArea</span> is a widget for editing and displaying HTML documents.
It is a WYSIWYG html editor.</p></div>
<div class="paragraph"><p>When showing a form in web-browser, the editor area is displayed as HTML
WYSIWYG editor.</p></div>
<div class="paragraph"><p>The properties and events of <span class="monospaced">HtmlArea</span> are identical to the <span class="monospaced">TextField</span>
widget.</p></div>
<div class="paragraph"><p>To create a widget of this type in JavaScript code, use HtmlArea
constructor, which can be called with a different number of parameters:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> textArea <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> P<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">HtmlArea</span></span><span style="color: #990000">(</span>text<span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>where <span class="monospaced">text</span> is text (optional).</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> htmlArea <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> P<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">HtmlArea</span></span><span style="color: #990000">();</span>
htmlArea<span style="color: #990000">.</span>text <span style="color: #990000">=</span> <span style="color: #FF0000">"&lt;p&gt;Sample text&lt;/p&gt;"</span><span style="color: #990000">;</span>
view<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>htmlArea<span style="color: #990000">,</span> <span style="color: #990000">...);</span></tt></pre></div></div>
</div>
</div>
<div class="sect2">
<h3 id="_model_widgets">Model widgets</h3>
<div class="paragraph" id="model-widgets"><p>Model widgets are widgets, which can be binded with JavaScript objects.</p></div>
<div class="paragraph"><p>You can bind a model widgets to any JavaScript object. This object will change in response to the user
actions on the widgets and its changes will lead to automatic update of
data displayed on all bound widgets.</p></div>
<div class="paragraph"><p>Configure specific properties for binding to JavaScript object, using
properties in the Model binding category.</p></div>
<div class="paragraph"><p>Scalar model widgets represent a single JavaScript object and its specific
field. <span class="monospaced">field</span> here means some data accessible by some property path begining with
bound object. Property path is a string like a <span class="monospaced">cursor.customer.name</span>.
Only dot separated property paths are supported.
Other more complex model widget - <span class="monospaced">ModelGrid</span> can represent a JavaScript array.</p></div>
<div class="paragraph"><p>Scalar model widgets have the following common properties:</p></div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<col style="width:50%;">
<col style="width:50%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" >Property </th>
<th class="tableblock halign-left valign-top" >Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">data</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Bound JavaScript object.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">field</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Bound property path within a <span class="monospaced">data</span> object.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">value</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">The current value for the widget.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">nullable</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Nullable flag indicating, that clear button will be shonw to the right of the widget.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph"><p>Scalar model widgets common events are listed in the following table:</p></div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<col style="width:33%;">
<col style="width:33%;">
<col style="width:33%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" >Event </th>
<th class="tableblock halign-left valign-top" >Handler parameter </th>
<th class="tableblock halign-left valign-top" >Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">onSelect</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">The <span class="monospaced">aEditor</span> object is the source widget, is passed to
the event handler as a parameter, specify the value of the widget by
setting its properties.</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Occurs when the select button, located next to
the widget, is clicked. The select button is displayed only if the
handler is defined.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">onRender</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">RenderEvent</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Occurs when preparing the widget for
displaying (both when it is used independently or as a <span class="monospaced">ModelGrid</span>
widget cell).</p></td>
</tr>
</tbody>
</table>
<div class="paragraph"><p>Any model widget can be presented as an independent widget and as a
<span class="monospaced">ModelGrid</span> cell&#8217;s widget. There is an "abstract" cell in each model
widget. It is available in the <span class="monospaced">onRender</span> event handlers.</p></div>
<div class="paragraph"><p><span class="monospaced">RenderEvent</span> object specific propetries are listed in the following
table:</p></div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<col style="width:50%;">
<col style="width:50%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" >Property </th>
<th class="tableblock halign-left valign-top" >Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">object</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">The data object being rendered.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">cell</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">The "abstract" cell.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">column</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">The grid&#8217;s column node.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph"><p>For such a <span class="monospaced">cell</span>, the following properties are defined:</p></div>
<div class="ulist"><ul>
<li>
<p>
<span class="monospaced">display</span> is the displayed text.
</p>
</li>
<li>
<p>
<span class="monospaced">data</span> is the value of the cell.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Model widgets also have the same basic properties and events as standard
widgets. It is not recommended to specify handlers of low-level events
(keyboard, mouse movement events, etc.) for model widgets.</p></div>
<div class="paragraph"><p>The following example illustrates how to use <span class="monospaced">onSelect</span> event:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * Shows custom selector dialog and sets</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * the cell's editor's value.</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> *</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> */</span></span>
form<span style="color: #990000">.</span>button<span style="color: #990000">.</span>onSelect <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">function</span></span><span style="color: #990000">(</span>aEditor<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
  <span style="font-weight: bold"><span style="color: #0000FF">var</span></span> selector <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">PetSelector</span></span><span style="color: #990000">();</span>
  selector<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">showModal</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">function</span></span><span style="color: #990000">()</span><span style="color: #FF0000">{</span>
    aEditor<span style="color: #990000">.</span>value <span style="color: #990000">=</span> selector<span style="color: #990000">.</span>pet<span style="color: #990000">;</span>
  <span style="color: #FF0000">}</span><span style="color: #990000">);</span>
<span style="color: #FF0000">}</span></tt></pre></div></div>
<div class="paragraph"><p><span class="monospaced">onRender</span> event usage example is as follows:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
<span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * Renders a cell with complex data</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> */</span></span>
form<span style="color: #990000">.</span>cbCategory<span style="color: #990000">.</span>onRender <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">function</span></span><span style="color: #990000">(</span>evt<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
    <span style="font-weight: bold"><span style="color: #0000FF">var</span></span> txt <span style="color: #990000">=</span> <span style="color: #FF0000">''</span><span style="color: #990000">;</span>
    categories<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">find</span></span><span style="color: #990000">(</span>categories<span style="color: #990000">.</span>schema<span style="color: #990000">.</span>CAT_ID<span style="color: #990000">,</span> evt<span style="color: #990000">.</span>id<span style="color: #990000">)</span>
        <span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">forEach</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">function</span></span><span style="color: #990000">(</span>aDoc<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
             <span style="font-weight: bold"><span style="color: #0000FF">if</span></span><span style="color: #990000">(</span>txt<span style="color: #990000">.</span>length <span style="color: #990000">&gt;</span> <span style="color: #993399">0</span><span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
                 txt <span style="color: #990000">+=</span> <span style="color: #FF0000">' '</span><span style="color: #990000">;</span>
             <span style="color: #FF0000">}</span>
             txt <span style="color: #990000">+=</span> aCat<span style="color: #990000">.</span>NAME <span style="color: #990000">?</span> aDoc<span style="color: #990000">.</span>NAME <span style="color: #990000">:</span> <span style="color: #FF0000">''</span><span style="color: #990000">;</span>
        <span style="color: #FF0000">}</span><span style="color: #990000">);</span>
    evt<span style="color: #990000">.</span>cell<span style="color: #990000">.</span>display <span style="color: #990000">=</span> txt<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span></tt></pre></div></div>
<div class="sect3">
<h4 id="_modelcheck">ModelCheck</h4>
<div class="paragraph" id="modelcheck"><p><span class="monospaced">ModelCheck</span> is a scalar model widget representing a check box, the
state of which is linked to an entity&#8217;s field of a Boolean, Number, or
String type.</p></div>
<div class="paragraph"><p>The data of various types is displayed as boolean data by this widget.
Data types conversion rules are as follows:</p></div>
<div class="ulist"><ul>
<li>
<p>
Widget&#8217;s value is displayed as <span class="monospaced">true</span> when actual data is the
following values: Boolean type: <span class="monospaced">true</span>, Number type: any number other
than <span class="monospaced">0</span>, String type: any string other than empty.
</p>
</li>
<li>
<p>
Widget&#8217;s <span class="monospaced">true</span> value is converted to various types as follows:
Boolean: <span class="monospaced">true</span>, Number type: <span class="monospaced">1</span>, String type: <span class="monospaced">'true'</span>.
</p>
</li>
<li>
<p>
Widget&#8217;s <span class="monospaced">false</span> value is converted to various types as follows:
Boolean type: <span class="monospaced">false</span>, Number type: 0, String type: an empty string.
</p>
</li>
</ul></div>
<div class="paragraph"><p>To configure the widget binding specifiy the data and field properties for
the widget.</p></div>
<div class="paragraph"><p>To create a widget of this type by program means, use the
ModelCheckBox constructor:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> modelCheck <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> P<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">ModelCheckBox</span></span><span style="color: #990000">();</span></tt></pre></div></div>
<div class="paragraph"><p>After creating, if necessary, set the properties and widget event
handlers and add the widget to the container:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
modelCheck<span style="color: #990000">.</span>data <span style="color: #990000">=</span> model<span style="color: #990000">.</span>entityA<span style="color: #990000">.</span>cursor<span style="color: #990000">;</span>
modelCheck<span style="color: #990000">.</span>field <span style="color: #990000">=</span> <span style="color: #FF0000">'fieldA'</span><span style="color: #990000">;</span>
view<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>modelCheck<span style="color: #990000">,</span> <span style="color: #990000">...);</span></tt></pre></div></div>
</div>
<div class="sect3">
<h4 id="_modelcombo">ModelCombo</h4>
<div class="paragraph" id="modelcombo"><p><span class="monospaced">ModelCombo</span> is a scalar model widget representing a lookup box that is
bound to some data object and its property path. It holds and edits one
value and displays some other looked up value. It allows you to select a
value from a list or form a selection form. List items are also looked up
while displaying.</p></div>
<div class="paragraph"><p><span class="monospaced">ModelCombo</span> widget has the following specific properties:</p></div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<col style="width:50%;">
<col style="width:50%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" >Property </th>
<th class="tableblock halign-left valign-top" >Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">displayField</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Property path inside value or list items to be used to obtain data to be displayed.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">displayList</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Object to be used as lookup list.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">list</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">true</span> to allow selection from drop-down list and <span class="monospaced">false</span> otherwise.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph"><p>To configure the widget&#8217;s model binding:</p></div>
<div class="ulist"><ul>
<li>
<p>
Specify the data property for the widget.
</p>
</li>
<li>
<p>
Specify the field property for the widget.
</p>
</li>
<li>
<p>
Specify the displayList property.
</p>
</li>
<li>
<p>
Specify the displayField property.
</p>
</li>
<li>
<p>
To allow selection of value from the list, enable the list property
checkbox.
</p>
</li>
<li>
<p>
To allow a customized selection of the widget&#8217;s value, specify
<span class="monospaced">onSelect</span> event handler.
</p>
</li>
</ul></div>
<div class="paragraph"><p>To create a widget of this type by program means, use the ModelCombo
constructor:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> modelCombo <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> P<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">ModelCombo</span></span><span style="color: #990000">();</span></tt></pre></div></div>
<div class="paragraph"><p>After creating, if necessary, set the properties and widget event
handlers and add the widget to the container:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
<span style="font-style: italic"><span style="color: #9A1900">//Specify value field as a model parameter:</span></span>
modelCombo<span style="color: #990000">.</span>data <span style="color: #990000">=</span> model<span style="color: #990000">.</span>pets<span style="color: #990000">;</span>
modelCombo<span style="color: #990000">.</span>field <span style="color: #990000">=</span> <span style="color: #FF0000">'cursor.owner'</span><span style="color: #990000">;</span>

<span style="font-style: italic"><span style="color: #9A1900">//Lookup fields:</span></span>
modelCombo<span style="color: #990000">.</span>displayList <span style="color: #990000">=</span> model<span style="color: #990000">.</span>owners<span style="color: #990000">;</span>
modelCombo<span style="color: #990000">.</span>displayField <span style="color: #990000">=</span> <span style="color: #FF0000">'ownerName'</span><span style="color: #990000">;</span>

view<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>modelCombo<span style="color: #990000">,</span> <span style="color: #990000">...);</span></tt></pre></div></div>
</div>
<div class="sect3">
<h4 id="_modeldate">ModelDate</h4>
<div class="paragraph" id="modeldate"><p><span class="monospaced">ModelDate</span> is a scalar model widget representing a timestamp and bound to
some date or timestamp in some object.</p></div>
<div class="paragraph"><p><span class="monospaced">ModelDate</span> widget has the following specific properties:</p></div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<col style="width:50%;">
<col style="width:50%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" >Property </th>
<th class="tableblock halign-left valign-top" >Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">editable</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">true</span> if the date is editable and <span class="monospaced">false</span> otherwise.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">datePicker</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">true</span> if the date part is editable by popup window of date picker and <span class="monospaced">false</span> otherwise.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">timePicker</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">true</span> if the time part is editable by popup window of time picker and <span class="monospaced">false</span> otherwise.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph"><p>To configure the widget model binding:</p></div>
<div class="ulist"><ul>
<li>
<p>
Specify the data property for the widget.
</p>
</li>
<li>
<p>
Specify the field property for the widget.
</p>
</li>
<li>
<p>
Specify the date and time format. E.g.
</p>
</li>
<li>
<p>
Enable the datePicker flag to display the calendar button on the right side of the widget.
</p>
</li>
<li>
<p>
Enable the timePicker flag to display the clock button on the right side of the widget.
</p>
</li>
</ul></div>
<div class="paragraph"><p>To create a widget of this type by program means, use the ModelDate
constructor:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> modelDate <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> P<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">ModelDate</span></span><span style="color: #990000">();</span></tt></pre></div></div>
<div class="paragraph"><p>After creating, if necessary, set the properties and widget event
handlers and add the widget to the container:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
modelDate<span style="color: #990000">.</span>data <span style="color: #990000">=</span> model<span style="color: #990000">.</span>pets<span style="color: #990000">;</span>
modelDate<span style="color: #990000">.</span>field <span style="color: #990000">=</span> <span style="color: #FF0000">'cursor.dateOfBirth'</span><span style="color: #990000">;</span>
modelDate<span style="color: #990000">.</span>format <span style="color: #990000">=</span> <span style="color: #FF0000">'dd.MM.yyyy'</span><span style="color: #990000">;</span>
modelDate<span style="color: #990000">.</span>datePicker <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">true</span></span><span style="color: #990000">;</span>
modelDate<span style="color: #990000">.</span>timePicker <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">false</span></span><span style="color: #990000">;</span>
modelDate<span style="color: #990000">.</span>editable <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">true</span></span><span style="color: #990000">;</span>
view<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>modelDate<span style="color: #990000">,</span> <span style="color: #990000">...);</span></tt></pre></div></div>
</div>
<div class="sect3">
<h4 id="_modelgrid">ModelGrid</h4>
<div class="paragraph" id="modelgrid"><p><span class="monospaced">ModelGrid</span> model widget is a powerful widget to display and enter data,
which is presented in a tabular form and as a tree.</p></div>
<div class="paragraph"><p><span class="monospaced">ModelGrid</span> widget has the following features:</p></div>
<div class="ulist"><ul>
<li>
<p>
Array&#8217;s data presentation as a cell view.
</p>
</li>
<li>
<p>
Data cells editing, inserting new and deleting rows.
</p>
</li>
<li>
<p>
Frozen non-scrollable rows and/or columns.
</p>
</li>
<li>
<p>
Service columns with the cursor pointer, checkboxes and radiobuttons.
</p>
</li>
<li>
<p>
Multiple service column at a time.
</p>
</li>
<li>
<p>
Governing of data object cursor property while scrolling and user selection actions.
</p>
</li>
<li>
<p>
Tree view of rows with multiple columns as well.
</p>
</li>
</ul></div>
<div class="paragraph"><p><span class="monospaced">ModelGrid</span> widget has the following specific properties:</p></div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<col style="width:25%;">
<col style="width:25%;">
<col style="width:25%;">
<col style="width:25%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" >Property </th>
<th class="tableblock halign-left valign-top" >Description</th>
<th class="tableblock halign-left valign-top" ><span class="monospaced">frozenColumns</span> </th>
<th class="tableblock halign-left valign-top" >The number of the non-scrollable grid columns.</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">frozenRows</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">The number of the non-scrollable grid rows.</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">gridColor</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">The <span class="monospaced">Color</span> of the grid.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">oddRowsColor</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">The <span class="monospaced">Color</span> of the grid&#8217;s odd rows.</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">rowsHeight</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">The height of the grid&#8217;s rows.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">showHorizontalLines</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">true</span> to show horizontal lines and <span class="monospaced">false</span> otherwise.</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">showVerticalLines</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">true</span> to show vertical lines and <span class="monospaced">false</span> otherwise.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">showOddRowsInOtherColor</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">true</span> to show odd rows in the different color and <span class="monospaced">false</span> otherwise.</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">deletable</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">true</span> to enable rows delete operation for the grid and <span class="monospaced">false</span> otherwise.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">editable</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">true</span> to enable cells edit operation for the grid and <span class="monospaced">false</span> otherwise.</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">insertable</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">true</span> to enable rows insert operation for the grid and <span class="monospaced">false</span> otherwise.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">data</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">The bounded object/array for the grid rows.</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">field</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Property path within data object to object/array for the grid rows.
It might be omitted if data property points to actual grid&#8217;s rows array.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">childrenField</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">See tree option.</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">parentField</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">See tree option.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph"><p><span class="monospaced">ModelGrid</span> widget has the following specific methods:</p></div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<col style="width:25%;">
<col style="width:25%;">
<col style="width:25%;">
<col style="width:25%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" >Method </th>
<th class="tableblock halign-left valign-top" >Parameters </th>
<th class="tableblock halign-left valign-top" >Description</th>
<th class="tableblock halign-left valign-top" ><span class="monospaced">select</span> </th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">(aObject)</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Selects the specified grid&#8217;s data array element.</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">unselect</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">(aObject)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Deselects the specified grid&#8217;s data array element.</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">clearSelection</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Deselects all selected grid&#8217;s data array elements. E.g. clears the slection.</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">find</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Opens find dialog</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">makeVisible</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">(aObject, needToSelect)</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Scrolls a ModelGrid&#8217;s view to show gird&#8217;s row of the specified element in visible area.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">unsort</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">()</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Cancels all sorting in the ModelGrid.</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">redraw</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Redraws in J2SE client and regenerates all inner ModelGrid&#8217;s markup  in browser client.</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">removeColumnNode</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">(aColumn)</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Removes the specified column from ModelGrid&#8217;s header and columns collection.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">addColumnNode</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">(aColumn)</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Adds the specified column to ModelGrid&#8217;s header and columns collection at the end.</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">`insertColumnNode</p></td>
</tr>
</tbody>
</table>
<div class="paragraph"><p><span class="monospaced">ModelGrid</span> widget has the following specific events:</p></div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<col style="width:25%;">
<col style="width:25%;">
<col style="width:25%;">
<col style="width:25%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" >Event </th>
<th class="tableblock halign-left valign-top" >Handler parameter </th>
<th class="tableblock halign-left valign-top" >Description</th>
<th class="tableblock halign-left valign-top" ><span class="monospaced">onItemSelected</span> </th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">ItemEvent</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Selection lead of the grid change event.</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">onCollapse</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">ItemEvent</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Event handler, which will be called when user collapses a grid&#8217;s row.</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">onExpand</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">ItemEvent</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Event handler, which will be called when user expands a grid&#8217;s row.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph"><p>To configure <span class="monospaced">ModelGrid</span> properties:</p></div>
<div class="ulist"><ul>
<li>
<p>
Use the frozenColumns and frozenRows properties in the Apperance
properties group to freeze the required number of columns on the left
and/or rows on the top of the grid.
</p>
</li>
<li>
<p>
Use service columns from designer&#8217;s palette. There are service columns
of the following types:
</p>
<div class="ulist"><ul>
<li>
<p>
Ordinary service column is displayed with the cursor icon.
</p>
</li>
<li>
<p>
Service column with check boxes allows you to select multiple
rows
</p>
</li>
<li>
<p>
Service column with radio buttons allows you to select only one row of the grid.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Use the <span class="monospaced">onRender</span> event handler, which will be called for each data
grid cell, if a similar handler was not defined for theirs columns.
</p>
</li>
<li>
<p>
If you whant to make a hierarchical view of rows, then you need to configure
parentField and childrenField properties. They will be used to discover children rows of
a particular row and to determine what is the parent row of the row.
</p>
</li>
</ul></div>
<div class="paragraph"><p><span class="monospaced">ModelGridColumn</span> has the following properties:</p></div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<col style="width:25%;">
<col style="width:25%;">
<col style="width:25%;">
<col style="width:25%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" >Property </th>
<th class="tableblock halign-left valign-top" >Description</th>
<th class="tableblock halign-left valign-top" ><span class="monospaced">title</span> </th>
<th class="tableblock halign-left valign-top" >The column&#8217;s title string.</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">visible</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">true</span> the column is visible and <span class="monospaced">false</span> otherwise.</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">background</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">The header style background
color.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">foreground</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">The header style foreground
color.</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">font</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">The header font.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">maxWidth</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">The maximum width of the column.</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">minWidth</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">The minimum width of the column.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">preferredWidth</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">The preferred width of the column.</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">width</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Readonly property, calculated by the grid according to columns widths automatic distribution algorithm.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">movable</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Flag indicating thst column can be moved by user.</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">resizable</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">true</span> if the column can be resized by user and <span class="monospaced">false</span>
otherwise.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">field</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Property path of rendered and edited value of the cell. Property path is accounted against data object of grid&#8217;s row.</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">sortable</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">true</span> if the grid&#8217;s rows can be sorted by the column cells vales and <span class="monospaced">false</span> otherwise.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">sortField</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Property path within data object of grid&#8217;s row to be used as sorting keys source while sorting by the column.</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">readonly</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">true</span> if the column&#8217;s cells is in a read-only mode and <span class="monospaced">false</span>
otherwise.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">onRender</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Event handler, which will be called for each data
grid cell within the column.</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">onSelect</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Value selection handler, which will be called while user clicks on select button on the right side of edited cell.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph"><p>&#8216;ModelGrid` has ability to change it&#8217;s cells&#8217; display style and to
select values using custom editors while editing cells. In order to use
these features, define <span class="monospaced">onRender</span> and <span class="monospaced">onSelect</span> event handlers in
particular columns. If <span class="monospaced">onRender</span> event handler is defined on a column,
it will be ivoked rather than similar event handler, defined on
<span class="monospaced">ModelGrid</span>. Refer to <a href="#mwidgets">Model Widgets</a> section to read
about how to deal with <span class="monospaced">onRender</span> and <span class="monospaced">onSelect</span> event handlers.</p></div>
<div class="paragraph"><p>Use the form inspector: the inspector displays the grid&#8217;s columns node
as children of <span class="monospaced">ModelGrid</span> widget node and allows you to edit them.</p></div>
<div class="paragraph"><p>To add, remove and configure grid columns:</p></div>
<div class="ulist"><ul>
<li>
<p>
To fill all &#8216;ModelGrid` columns corresponding to the fields of the
linked data model entity, select Fill columns. In this case, columns&#8217;
binding will be performed automatically.
</p>
</li>
<li>
<p>
To manually add a column to <span class="monospaced">ModelGrid</span> drag it from the widgets
palette or add it using Add from palette context menu in form inspector.
</p>
</li>
<li>
<p>
To add a column as a child to another column use parent column&#8217;s node
Add from palette of from context menu in form inspector.
</p>
</li>
<li>
<p>
Move the selected columns up and down using the Move up, Move down or
Change Order context menu items or by draggining it by mouse.
</p>
</li>
</ul></div>
<div class="paragraph"><p>To configure bind a column to data:</p></div>
<div class="ulist"><ul>
<li>
<p>
Specify the field property, to which the column should be
bound. To do this, use the field property and select a field from the
bound entity.
</p>
</li>
<li>
<p>
Define a widget, which will be used for displaying in the column
cells. Select its type from the view context menu of the column&#8217;s node
in the inpector. The choices will be compatible with the type of the
linked entity field. Set the properties of the corresponding widget (see
the corresponding sections for the description of the model widget
setting procedure).
</p>
</li>
</ul></div>
<div class="paragraph"><p>ModelGrid widget can be configured to display a tree structure in the first
column on the left (next to the service column). Other columns in this
grid are displayed as usual.</p></div>
<div class="paragraph"><p>To show a tree we need an entity, which contains a field referring to
some other field, thus forming a hierarchical data structure.</p></div>
<div class="paragraph"><p><span class="image">
<img src="images/gridTree.png" alt="Hierarchical data dataset">
</span></p></div>
<div class="paragraph"><p>Create and use ModelGrid within your JavaScript progams as follows:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>    <span style="font-weight: bold"><span style="color: #0000FF">var</span></span> g <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> P<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">ModelGrid</span></span><span style="color: #990000">();</span>
    g<span style="color: #990000">.</span>data <span style="color: #990000">=</span> model<span style="color: #990000">.</span>allcustomers<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">var</span></span> colService <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> P<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">ServiceGridColumn</span></span><span style="color: #990000">();</span>
    g<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">addColumnNode</span></span><span style="color: #990000">(</span>colService<span style="color: #990000">);</span>
    <span style="font-weight: bold"><span style="color: #0000FF">var</span></span> colName <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> P<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">ModelGridColumn</span></span><span style="color: #990000">();</span>
    colName<span style="color: #990000">.</span>field <span style="color: #990000">=</span> <span style="color: #FF0000">'name'</span><span style="color: #990000">;</span>
    colName<span style="color: #990000">.</span>title <span style="color: #990000">=</span> <span style="color: #FF0000">'just added name column'</span>
    g<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">addColumnNode</span></span><span style="color: #990000">(</span>colName<span style="color: #990000">);</span>
    form<span style="color: #990000">.</span>view<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>g<span style="color: #990000">,</span> <span style="color: #FF0000">{</span>left<span style="color: #990000">:</span> <span style="color: #FF0000">'300px'</span><span style="color: #990000">,</span> top<span style="color: #990000">:</span> <span style="color: #FF0000">'10px'</span><span style="color: #990000">,</span> right<span style="color: #990000">:</span> <span style="color: #FF0000">'9px'</span><span style="color: #990000">,</span> bottom<span style="color: #990000">:</span> <span style="color: #FF0000">'48px'</span><span style="color: #FF0000">}</span><span style="color: #990000">);</span></tt></pre></div></div>
</div>
<div class="sect3">
<h4 id="_modelformattedfield">ModelFormattedField</h4>
<div class="paragraph" id="modelformattedfield"><p><span class="monospaced">ModelFormattedField</span> is the same widget as <span class="monospaced">FormattedField</span> widget with ability of binding.
<a href="#formattedfield">See <span class="monospaced">FormattedField</span> widget</a></p></div>
<div class="paragraph"><p>To create a widget of this type by program means, use the
ModelFormattedField constructor:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> mff <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> P<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">ModelFormattedField</span></span><span style="color: #990000">();</span></tt></pre></div></div>
<div class="paragraph"><p>After creating, if necessary, set the properties and widget event
handlers and add the widget to a container:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
mff<span style="color: #990000">.</span>data <span style="color: #990000">=</span> model<span style="color: #990000">.</span>entityA<span style="color: #990000">;</span>
mff<span style="color: #990000">.</span>field <span style="color: #990000">=</span> <span style="color: #FF0000">'cursor.timeOfDeath'</span><span style="color: #990000">;</span>
mff<span style="color: #990000">.</span>format <span style="color: #990000">=</span> <span style="color: #FF0000">"dd.MM.yyyy HH:mm:ss"</span><span style="color: #990000">;</span>
view<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>mff<span style="color: #990000">);</span></tt></pre></div></div>
</div>
<div class="sect3">
<h4 id="_modeltextarea">ModelTextArea</h4>
<div class="paragraph" id="modeltextarea"><p><span class="monospaced">ModelTextArea</span> is a scalar model widget, the state of which is linked
to a field of the data model of string or number type. The widget can be
used to display and enter text.</p></div>
<div class="paragraph"><p><span class="monospaced">ModelTextArea</span> widget has the following specific properties:</p></div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<col style="width:50%;">
<col style="width:50%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" >Property </th>
<th class="tableblock halign-left valign-top" >Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">editable</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">true</span> if the text is editable and <span class="monospaced">false</span> otherwise.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph"><p>To configure the widget:</p></div>
<div class="ulist"><ul>
<li>
<p>
Set the entity property for the widget, using the field property on
the properties panel; select the data model parameter or data model
entity property in the dialog.
</p>
</li>
<li>
<p>
If necessary, set handlers for selection and data changing events.
</p>
</li>
</ul></div>
<div class="paragraph"><p>To create a widget of this type by program means, use the
ModelTextArea constructor:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> mta <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">ModelTextArea</span></span><span style="color: #990000">();</span></tt></pre></div></div>
<div class="paragraph"><p>After creating, if necessary, set the properties and widget event
handlers and add the widget to the container:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
mta<span style="color: #990000">.</span>field <span style="color: #990000">=</span> model<span style="color: #990000">.</span>entityB<span style="color: #990000">.</span>schema<span style="color: #990000">.</span>textField<span style="color: #990000">;</span>
view<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>mta<span style="color: #990000">);</span></tt></pre></div></div>
</div>
<div class="sect3">
<h4 id="_modelspin">ModelSpin</h4>
<div class="paragraph" id="modelspin"><p><span class="monospaced">ModelSpin</span> is a scalar model widget, the state of which is linked to a
value of number type. One can input numbers either from the keyboard or
using buttons to increase/decrease values.</p></div>
<div class="paragraph"><p><span class="monospaced">ModelSpin</span> widget has the following specific properties:</p></div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<col style="width:50%;">
<col style="width:50%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" >Property </th>
<th class="tableblock halign-left valign-top" >Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">editable</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">true</span> if the widget is editable and <span class="monospaced">false</span> otherwise.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">min</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Determines the lower bound of spinner&#8217;s value. If it&#8217;s <span class="monospaced">null</span>,
valus is unlimited at lower bound.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">max</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">The upper bound of spinner&#8217;s value. If it&#8217;s <span class="monospaced">null</span>, valus is
unlimited at upper bound.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">step</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">The spinner&#8217;s value change step. Can&#8217;t be <span class="monospaced">null</span>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">emptyText</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">The text displayed when the actual value is absent.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph"><p>To create a widget of this type by program means, use the ModelSpin
constructor:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> modelSpin <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> P<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">ModelSpin</span></span><span style="color: #990000">();</span></tt></pre></div></div>
<div class="paragraph"><p>After creating, if necessary, set the properties and widget event
handlers and add the widget to the container:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
modelSpin<span style="color: #990000">.</span>data <span style="color: #990000">=</span> model<span style="color: #990000">.</span>entityC<span style="color: #990000">;</span>
modelSpin<span style="color: #990000">.</span>field <span style="color: #990000">=</span> <span style="color: #FF0000">'cursor.count'</span><span style="color: #990000">;</span>
view<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>modelSpin<span style="color: #990000">,</span> <span style="color: #990000">...);</span></tt></pre></div></div>
</div>
</div>
<div class="sect2">
<h3 id="_containers">Containers</h3>
<div class="paragraph" id="containers"><p>Containers are widgets, which can contain other widgets e.g.
widgets or other containers and control their child widgets size and
location.</p></div>
<div class="paragraph"><p>In the visual editor Containers are represented as panel widget with specific layout.</p></div>
<div class="paragraph"><p>The layout of a panel can be changed using the editor. At runtime, panel
with particular layout will be replaced by the corresponding container.</p></div>
<div class="paragraph"><p>Containers have a set of properties and events common for all widgets
as well as their own specific properties and events.</p></div>
<div class="paragraph"><p>The common methods for all containers:</p></div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<col style="width:50%;">
<col style="width:50%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" >Method </th>
<th class="tableblock halign-left valign-top" >Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">remove(widget)</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Removes a child widget</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">child(index)</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Returns a child widget by its numeric index</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">clear()</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Removes all child widgets</p></td>
</tr>
</tbody>
</table>
<div class="paragraph"><p>The common property of all containers:</p></div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<col style="width:50%;">
<col style="width:50%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" >Property </th>
<th class="tableblock halign-left valign-top" >Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">count</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">The number of child widgets (read-only)</p></td>
</tr>
</tbody>
</table>
<div class="sect3">
<h4 id="_anchorspane">AnchorsPane</h4>
<div class="paragraph" id="anchorspane"><p><span class="monospaced">AnchorsPane</span> is a lightweight container with the anchors layout.</p></div>
<div class="paragraph"><p>Anchors layout provides a simple, flexible yet powerful layout
algorithm, which allows you to build complex user interfaces.</p></div>
<div class="paragraph"><p><span class="image">
<img src="images/anchorLayout.png" alt="Anchor layout: anchors and widget&#8217;s width and height dimensions">
</span></p></div>
<div class="paragraph"><p>Configure the position and behavior of a widget in the container by
defining Left, Top, Right, Bottom anchors and Width and Height settings
of the widget. You can specify two of the three properties by the
horizontal and vertical axis.</p></div>
<div class="paragraph"><p>At the same time can be set two anchors or one anchor and one dimension
values. The set properties are fixed and maintained when changing
dimensions of the container. If the property is not defined, it is
stretched along with the dimensions of the container.</p></div>
<div class="paragraph"><p>Use AnchorsPane constructor in form&#8217;s JavaScript code:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> pane <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> P<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">AnchorsPane</span></span><span style="color: #990000">();</span></tt></pre></div></div>
<div class="paragraph"><p>To add child widgets to the container, use the add method and pass a
child widget and object of the Anchors type as parameters to this
method.</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>pane<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>widget<span style="color: #990000">,</span> anchors<span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>where widget is a widget to add, anchors is an object of the
Anchors type.</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> pane <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> P<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">AnchorsPane</span></span><span style="color: #990000">();</span>
<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> comp <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> P<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">Button</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Sample"</span><span style="color: #990000">);</span>
pane<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>comp<span style="color: #990000">,</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> P<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">Anchors</span></span><span style="color: #990000">(</span><span style="color: #993399">12</span><span style="color: #990000">,</span> <span style="font-weight: bold"><span style="color: #0000FF">null</span></span><span style="color: #990000">,</span> <span style="color: #993399">14</span><span style="color: #990000">,</span> <span style="color: #993399">22</span><span style="color: #990000">,</span> <span style="font-weight: bold"><span style="color: #0000FF">null</span></span><span style="color: #990000">,</span> <span style="color: #993399">24</span><span style="color: #990000">));</span></tt></pre></div></div>
<div class="paragraph"><p>In the above example a button with the specified Left, Right, Top, and
Bottom anchors is added to the anchor pane.</p></div>
<div class="paragraph"><p><span class="monospaced">Anchors</span> object defines widget&#8217;s binding anchors in a container with
anchors layout.</p></div>
<div class="paragraph"><p>To create an <span class="monospaced">Anchors</span> object, use its constructor by passing values for
the corresponding anchor as parameters:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> anchors <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">Anchors</span></span><span style="color: #990000">(</span>left<span style="color: #990000">,</span> width<span style="color: #990000">,</span> right<span style="color: #990000">,</span> top<span style="color: #990000">,</span> height<span style="color: #990000">,</span> bottom<span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>where left is a left anchor, width is width, right is a right anchor,
top is a top anchor, height is height, bottom is a bottom anchor.</p></div>
<div class="paragraph"><p>Each anchor can be specified in pixels. To do this, define an anchor
using a number or string with the " <span class="monospaced">px</span>" symbols added. For example:
<span class="monospaced">100</span>, "<span class="monospaced">100px</span>" mean the same anchor. To specify an anchor in percents,
define an anchor using a string with the "<span class="monospaced">%</span>" symbol added, for example: "<span class="monospaced">30%</span>".</p></div>
<div class="paragraph"><p>According to the rules of anchor layout, you can define two anchor
values per coordinate.</p></div>
<div class="paragraph"><p>If the anchor value is not set, pass the <span class="monospaced">null</span> value to the
corresponding parameter, for example:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> anchors <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> P<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">Anchors</span></span><span style="color: #990000">(</span><span style="color: #993399">100</span><span style="color: #990000">,</span> <span style="color: #993399">200</span><span style="color: #990000">,</span> <span style="font-weight: bold"><span style="color: #0000FF">null</span></span><span style="color: #990000">,</span>
            <span style="color: #993399">100</span><span style="color: #990000">,</span> <span style="color: #993399">100</span><span style="color: #990000">,</span> <span style="font-weight: bold"><span style="color: #0000FF">null</span></span><span style="color: #990000">);</span>
<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> panel <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> P<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">AnchorsPane</span></span><span style="color: #990000">();</span>
panel<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">new</span></span> P<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">Label</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Test"</span><span style="color: #990000">),</span> anchors<span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>There&#8217;s also alternative syntax for adding a child widget: pass the
JavaScript object with the left, width, right, top, height, bottom
properties as a second parameter to the add method. An example of code
with the same execution results:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> pane <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> P<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">AnchorsPane</span></span><span style="color: #990000">();</span>
<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> comp <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> P<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">Button</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Sample"</span><span style="color: #990000">);</span>
pane<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>comp<span style="color: #990000">,</span>
  <span style="color: #FF0000">{</span>
    left <span style="color: #990000">:</span> <span style="color: #993399">12</span><span style="color: #990000">,</span>
    right <span style="color: #990000">:</span> <span style="color: #993399">14</span><span style="color: #990000">,</span>
    top <span style="color: #990000">:</span> <span style="color: #993399">22</span><span style="color: #990000">,</span>
    bottom <span style="color: #990000">:</span> <span style="color: #993399">24</span>
<span style="color: #FF0000">}</span><span style="color: #990000">);</span></tt></pre></div></div>
</div>
<div class="sect3">
<h4 id="_borderpane">BorderPane</h4>
<div class="paragraph" id="borderpane"><p><span class="monospaced">BorderPane</span> is a lightweight container with the border layout.</p></div>
<div class="paragraph"><p>Border layout is a simple way of arranging widgets, when a container
changes the position and dimensions of its widgets to the fit five
regions: northern, southern, western, eastern and center. Each area can
contain only one widget, which is determined by one of the following
constants: North, South, East, West, Center.</p></div>
<div class="paragraph"><p><span class="image">
<img src="images/borderLayout.png" alt="Border layout">
</span></p></div>
<div class="paragraph"><p>Explicitly set the value of the property, which controls the position of
the widget in the container. To do this, change widget Direction
property fields at the Layout property group, by selecting one of the
values from the drop-down list.</p></div>
<div class="paragraph"><p>Use BorderPane constructor to create this container in JavaScript code:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> pane <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> P<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">BorderPane</span></span><span style="color: #990000">(</span>hgap<span style="color: #990000">,</span> vgap<span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>where <span class="monospaced">hgap</span> is the horizontal gap (optional) and <span class="monospaced">vgap</span> is the vertical
gap (optional).</p></div>
<div class="paragraph"><p>To add child widgets to the container, use add instance method:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>pane<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>widget<span style="color: #990000">,</span> place<span style="color: #990000">,</span> size<span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>where widget is a widget to add, place is an instance of a
<span class="monospaced">HorizontalPosition</span> or <span class="monospaced">VerticalPosition</span> constants, determining the
region (optional) and size is the size of the widget by the provided
place direction (optional).</p></div>
<div class="paragraph"><p>The following example shows how to create a <span class="monospaced">BorderPane</span> container and
add to this container two child widgets:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> pane <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> P<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">BorderPane</span></span><span style="color: #990000">();</span>
<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> topComp <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> P<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">Button</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Top"</span><span style="color: #990000">);</span>
pane<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>topComp<span style="color: #990000">,</span> P<span style="color: #990000">.</span>VerticalPosition<span style="color: #990000">.</span>TOP<span style="color: #990000">);</span>
<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> bottomComp <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> P<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">Button</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Bottom"</span><span style="color: #990000">);</span>
pane<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>bottomComp<span style="color: #990000">,</span> P<span style="color: #990000">.</span>VerticalalPosition<span style="color: #990000">.</span>BOTTOM<span style="color: #990000">);</span></tt></pre></div></div>
</div>
<div class="sect3">
<h4 id="_gridpane">GridPane</h4>
<div class="paragraph" id="gridpane"><p><span class="monospaced">GridPane</span> is a lightweight container with the grid layout. It is
intended for static UI designs.</p></div>
<div class="paragraph"><p><span class="monospaced">GridPane</span> lays widgets out by the grid, all columns must have the
same width and all rows must have the same height.</p></div>
<div class="paragraph"><p><span class="image">
<img src="images/gridLayout.png" alt="Grid Layout arranging widgets by a grid">
</span></p></div>
<div class="paragraph"><p>To set the number of columns and rows and the vertical and horizontal
interval between cells, select the GridLayout node in the widget tree
of the inspector and change the corresponding values on the properties
panel.</p></div>
<div class="paragraph"><p>If you set a value other than zero for the number of columns and rows,
column number setting is ignored. Instead of this, the number of columns
is determined by the number of rows and the total number of widgets
in the container.</p></div>
<div class="paragraph"><p>Use GridPane constructor to create this container in JavaScript code:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> pane <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">GridPane</span></span><span style="color: #990000">(</span>rows<span style="color: #990000">,</span> cols<span style="color: #990000">,</span> hgap<span style="color: #990000">,</span> vgap<span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>Where rows is the number of grid rows, cols is the number of grid
columns, hgap is the horizontal gap (optional) and vgap is the
vertical gap (optional).</p></div>
<div class="paragraph"><p>To add child widgets to the container, use add instance method, which
adds a widget to the next avaliable position:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>pane<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>widget<span style="color: #990000">,</span> row<span style="color: #990000">,</span> column<span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>where widget is a widget to add, row is the vertical position, the widget to added to and column is the horizontal position.</p></div>
<div class="paragraph"><p>Use <span class="monospaced">child</span> method to get an child widget at the specified row and
column, if the target position is empty the method will return <span class="monospaced">null</span>:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> comp <span style="color: #990000">=</span> pane<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">child</span></span><span style="color: #990000">(</span>row<span style="color: #990000">,</span> column<span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>where row is the row of the widget and column is the column of the
grid position.</p></div>
<div class="paragraph"><p>The following example shows how to create an <span class="monospaced">GridPane</span> container by program means:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> pane <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> P<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">GridPane</span></span><span style="color: #990000">(</span><span style="color: #993399">3</span><span style="color: #990000">,</span> <span style="color: #993399">1</span><span style="color: #990000">);</span>
<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> comp1 <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> P<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">Button</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"1"</span><span style="color: #990000">);</span>
<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> comp2 <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> P<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">Button</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"2"</span><span style="color: #990000">);</span>
<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> comp3 <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> P<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">Button</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"3"</span><span style="color: #990000">);</span>
pane<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>comp1<span style="color: #990000">,</span> <span style="color: #993399">0</span><span style="color: #990000">,</span> <span style="color: #993399">0</span><span style="color: #990000">);</span>
pane<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>comp2<span style="color: #990000">,</span> <span style="color: #993399">1</span><span style="color: #990000">,</span> <span style="color: #993399">0</span><span style="color: #990000">);</span>
pane<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>comp3<span style="color: #990000">,</span> <span style="color: #993399">2</span><span style="color: #990000">,</span> <span style="color: #993399">0</span><span style="color: #990000">);</span></tt></pre></div></div>
</div>
<div class="sect3">
<h4 id="_flowpane">FlowPane</h4>
<div class="paragraph" id="flowpane"><p><span class="monospaced">FlowPane</span> is a lightweight container with the flow layout.</p></div>
<div class="paragraph"><p>Flow layout aligns widgets into a row/line. Dimensions of the
widgets are calculated according to their content (widget
preferences). If the widget doesn&#8217;t fit into a row, it is transferred
to the next line.</p></div>
<div class="paragraph"><p><span class="image">
<img src="images/flowLayout.png" alt="Flow Layout arranging into a line">
</span></p></div>
<div class="paragraph"><p>Use FlowPane constructor to create this container in JavaScript code:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> pane <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> P<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">FlowPane</span></span><span style="color: #990000">(</span>hgap<span style="color: #990000">,</span> vgap<span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>Where hgap is the horizontal gap (optional) and vgap vgap the vertical
gap (optional).</p></div>
<div class="paragraph"><p>To add child widgets to the container, use add instance method:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>pane<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>widget<span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>where widget is a widget to add.</p></div>
<div class="paragraph"><p>The following example shows how to create an <span class="monospaced">FlowPane</span> container and
add this container to its parent container:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> pane <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> P<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">FlowPane</span></span><span style="color: #990000">();</span>
<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> comp <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> P<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">Button</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Sample"</span><span style="color: #990000">);</span>
pane<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>comp<span style="color: #990000">);</span></tt></pre></div></div>
</div>
<div class="sect3">
<h4 id="_cardpane">CardPane</h4>
<div class="paragraph" id="cardpane"><p><span class="monospaced">CardPane</span> is a lightweight container with the card layout.</p></div>
<div class="paragraph"><p>Card layout allows you to arrange widgets as a stack of cards, one
above the other. Only the top widget is visible. This layout manager
is usually used to create a step-by-step wizards.</p></div>
<div class="paragraph"><p>Each widget has an assigned card name, which can be set on the
widget properties panel in the Card Name field of the Layout
properties group. This name can be used later to select a visible
widget.</p></div>
<div class="paragraph"><p>To select a visible widget, use show(cardName) method, where cardName is the card name.</p></div>
<div class="paragraph"><p>Use CardPane constructor to create this container in JavaScript code:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> pane <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> P<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">CardPane</span></span><span style="color: #990000">(</span>hgap<span style="color: #990000">,</span> vgap<span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>Where hgap is the horizontal gap (optional) and vgap vgap the vertical
gap (optional).</p></div>
<div class="paragraph"><p>To add child widgets to the container, use add instance method:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>pane<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>widget<span style="color: #990000">,</span> cardName<span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>where widget is a widget to add and cardName is the name of the
card.</p></div>
<div class="paragraph"><p>The following example shows how to create an <span class="monospaced">FlowPane</span> container and
add this container to the widgets tree:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> pane <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> P<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">CardPane</span></span><span style="color: #990000">();</span>
<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> compA <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> P<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">Button</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"SampleA"</span><span style="color: #990000">);</span>
pane<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>comp<span style="color: #990000">,</span> <span style="color: #FF0000">"A"</span><span style="color: #990000">);</span>
<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> compB <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> P<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">Button</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"SampleB"</span><span style="color: #990000">);</span>
pane<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>comp<span style="color: #990000">,</span> <span style="color: #FF0000">"B"</span><span style="color: #990000">);</span>
<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> compC <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> P<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">Button</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"SampleC"</span><span style="color: #990000">);</span>
pane<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>comp<span style="color: #990000">,</span> <span style="color: #FF0000">"C"</span><span style="color: #990000">);</span>

pane<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">show</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"B"</span><span style="color: #990000">);</span><span style="font-style: italic"><span style="color: #9A1900">//Shows the SampleB button</span></span></tt></pre></div></div>
</div>
<div class="sect3">
<h4 id="_boxpane">BoxPane</h4>
<div class="paragraph" id="boxpane"><p><span class="monospaced">BoxPane</span> is a lightweight container with the vertical or horizontal box layout.</p></div>
<div class="paragraph"><p>The box layout arranges widgets in the order, in which they were
added to the container, one after the other, back to back.</p></div>
<div class="paragraph"><p>Specify an axis, along which the Box layout manager will arrange
widgets. For this select the BoxLayout node in the inspector
widget tree and select the Axis property value from the list on the
properties panel:</p></div>
<div class="ulist"><ul>
<li>
<p>
HORIZONTAL for widgets are laid out horizontally from left to
right.
</p>
</li>
<li>
<p>
VERTICAL for widgets are laid out vertically from top to bottom.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Use BoxPane constructor to create this container in JavaScript code:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> pane <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> P<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">BoxPane</span></span><span style="color: #990000">(</span>orientation<span style="color: #990000">,</span> hgap<span style="color: #990000">,</span> vgap<span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>Where orientation is a value of <span class="monospaced">P.Orientation.HORIZONTAL</span> or
<span class="monospaced">P.Orientation.VERTICAL</span> constants (optional). By default
<span class="monospaced">P.Orientation.HORIZONTAL</span> orientation is specified.
If orientation is specified as P.Orientation.HORIZONTAL hgap is horizontal
gap between child widgets and it is ignored otherwise.
If orientation is specified as P.Orientation.VERTICAL vgap is vertical
gap between child widgets and it is ignored otherwise.</p></div>
<div class="paragraph"><p>To add child widgets to the container, use add instance method:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>pane<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>widget<span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>where widget is a widget to add.</p></div>
<div class="paragraph"><p>The following example shows how to create a <span class="monospaced">BoxPane</span> instance and add
a widget to this container:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> pane <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> P<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">BoxPane</span></span><span style="color: #990000">(</span>P<span style="color: #990000">.</span>Orientation<span style="color: #990000">.</span>VERTICAL<span style="color: #990000">,</span> <span style="color: #993399">0</span><span style="color: #990000">,</span> <span style="color: #993399">20</span><span style="color: #990000">);</span><span style="font-style: italic"><span style="color: #9A1900">// vertical box with 20 pixels vertical gap</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> comp <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> P<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">Button</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Sample"</span><span style="color: #990000">);</span>
pane<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>comp<span style="color: #990000">);</span></tt></pre></div></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">Take into accout, that changing of orientation in box pane will rearrange child widgets,
but theirs widths and heights will remain unchanged if it will be allowed by thne container. E.g.
if you&#8217;ve got a horizontal box with defferent widths of child widgets and then you will change
orientation to P.Orientation.VERTICAL, then all child widgets heights will remain equal to height
if the cintainer and widths will be changed to fit container&#8217;s width. Of course you may reassign
heights of child widgets is such case and layout will become pretty again.</td>
</tr></table>
</div>
</div>
<div class="sect3">
<h4 id="_tabbedpane">TabbedPane</h4>
<div class="paragraph" id="tabbedpane"><p><span class="monospaced">TabbedPane</span> container allows the user to switch between a group of
widgets by clicking tabs with titles and icons.</p></div>
<div class="paragraph"><p>Widget&#8217;s specific properties:</p></div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<col style="width:50%;">
<col style="width:50%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" >Property </th>
<th class="tableblock halign-left valign-top" >Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">selectedComponent</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Active tab&#8217;s widget</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">selectedIndex</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Active tab index</p></td>
</tr>
</tbody>
</table>
<div class="paragraph"><p>Widget&#8217;s specific events:</p></div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<col style="width:33%;">
<col style="width:33%;">
<col style="width:33%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" >Event </th>
<th class="tableblock halign-left valign-top" >Event type </th>
<th class="tableblock halign-left valign-top" >Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">onItemSelected</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">ItemEvent</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Tab switching event</p></td>
</tr>
</tbody>
</table>
<div class="paragraph"><p>To create a widget of this type by program means, use the TabbedPane
constructor:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> pane <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> P<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">TabbedPane</span></span><span style="color: #990000">();</span></tt></pre></div></div>
<div class="paragraph"><p>To add child widgets to the container, use the add method and pass a
child widget as well as a tab title and an optional icon as
parameters to this method:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>pane<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>widget<span style="color: #990000">,</span> text<span style="color: #990000">,</span> icon<span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>where widget is a widget to add, text is the tab&#8217;s label text,
icon is the tab&#8217;s label icon (optional).</p></div>
<div class="paragraph"><p>An example of code using the <span class="monospaced">TabbedPane</span> container:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> pane <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> P<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">TabbedPane</span></span><span style="color: #990000">();</span>
<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> tab1 <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> P<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">AnchorsPane</span></span><span style="color: #990000">();</span>
<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> tab2 <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> P<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">AnchorsPane</span></span><span style="color: #990000">();</span>
pane<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>tab1<span style="color: #990000">,</span> <span style="color: #FF0000">"Tab 1"</span><span style="color: #990000">);</span>
pane<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>tab2<span style="color: #990000">,</span> <span style="color: #FF0000">"Tab 2"</span><span style="color: #990000">);</span></tt></pre></div></div>
</div>
<div class="sect3">
<h4 id="_splitpane">SplitPane</h4>
<div class="paragraph" id="splitpane"><p><span class="monospaced">SplitPane</span> container is used to display two (and only two) splitted
widgets. The user can change their size by moving the separator.</p></div>
<div class="paragraph"><p>Split pane setup in form editor:</p></div>
<div class="ulist"><ul>
<li>
<p>
Drag-and-drop a container of the type from the palette.
</p>
</li>
<li>
<p>
Drag one widget to be displayed as the first widget of SplitPane.
</p>
</li>
<li>
<p>
Drag another widget to be displayed as the second widget of SplitPane.
</p>
</li>
</ul></div>
<div class="paragraph"><p>The specific properties of the <span class="monospaced">SplitPane</span>:</p></div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<col style="width:50%;">
<col style="width:50%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" >Property </th>
<th class="tableblock halign-left valign-top" >Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">orientation</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">The separator&#8217;s orientation: <span class="monospaced">Orientation.VERTICAL</span> or
<span class="monospaced">Orientation.HORIZONTAL</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">dividerLocation</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">The split pane divider&#8217;s location in pixels</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">oneTouchExpandable</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">true</span> if the pane is one touch expandable and
<span class="monospaced">false</span> otherwise.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">firstComponent</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">The first widget of the container.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">secondComponent</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">The second widget of the container.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph"><p>To create a widgets of this type by program means, use the SplitPane
constructor with an optional parameter for specifying orientation:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> pane <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> P<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">SplitPane</span></span><span style="color: #990000">(</span>orientation<span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>where orientation is an object of the Orientation type, which defines
orientation of the panel separator (optional). The container uses the
horizontal orientation by default.</p></div>
<div class="paragraph"><p>As an alternative to the <span class="monospaced">firstComponent</span> and
`secondComponent`properties use add method:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>pane<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>firstWidget<span style="color: #990000">);</span>
pane<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>secondWidget<span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>where firstWidget and secondWidget are the first and then the second widget to add.</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> pane <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> P<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">SplitPane</span></span><span style="color: #990000">(</span>P<span style="color: #990000">.</span>Orientation<span style="color: #990000">.</span>VERTICAL<span style="color: #990000">);</span>
<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> comp1 <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> P<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">AnchorsPane</span></span><span style="color: #990000">();</span>
<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> comp2 <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> P<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">AnchorsPane</span></span><span style="color: #990000">();</span>
pane<span style="color: #990000">.</span>firstComponent <span style="color: #990000">=</span> comp1<span style="color: #990000">;</span>
pane<span style="color: #990000">.</span>secondComponent <span style="color: #990000">=</span> comp2<span style="color: #990000">;</span></tt></pre></div></div>
</div>
<div class="sect3">
<h4 id="_scrollpane">ScrollPane</h4>
<div class="paragraph" id="scrollpane"><p><span class="monospaced">ScrollPane</span> is a container, which supports scrolling of its content.
Usually another container is added to this one, using <span class="monospaced">ScrollPane</span> as a
wrapper.</p></div>
<div class="paragraph"><p>The specific properties of the <span class="monospaced">ScrollPane</span>:</p></div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<col style="width:50%;">
<col style="width:50%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" >Property </th>
<th class="tableblock halign-left valign-top" >Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">view</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Single child widget - content of the ScrollPane.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">horizontalScrollBarPolicy</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Horizontal scroll bar policy of the container.
P.ScrollBarPolicy.AUTO or P.ScrollBarPolicy.NEVER or P.ScrollBarPolicy.ALLWAYS
can be assigned to this property to specify scroll bars appearance.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">verticalScrollBarPolicy</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Vertical scroll bar policy of the container.
P.ScrollBarPolicy.AUTO or P.ScrollBarPolicy.NEVER or P.ScrollBarPolicy.ALLWAYS
can be assigned to this property to specify scroll bars appearance.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph"><p>To create a widget of this type by program means, use the ScrollPane
constructor, which can be called with a different number of parameters:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> pane <span style="color: #990000">=</span> P<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">ScrollPane</span></span><span style="color: #990000">(</span>view<span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>where view is a widget, which is added inside the scroll panel
(optional).</p></div>
<div class="paragraph"><p>You can add one child widget to the container using the
add method, for example:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> scroll <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> P<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">ScrollPane</span></span><span style="color: #990000">();</span>
<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> view <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> P<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">AnchorsPane</span></span><span style="color: #990000">();</span>
scroll<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>view<span style="color: #990000">);</span></tt></pre></div></div>
</div>
<div class="sect3">
<h4 id="_toolbar">ToolBar</h4>
<div class="paragraph" id="toolbar"><p><span class="monospaced">ToolBar</span> is a container used to display widgets, which are
responsible for the most common user actions.</p></div>
<div class="paragraph"><p>Toolbars are intended to display a set of buttons (usually without
labels, but with tooltips and small, clearly visible icons) which
trigger the most frequently used application actions.</p></div>
<div class="paragraph"><p>Widgets in the toolbar are placed in horizontal box one-by-one.</p></div>
<div class="paragraph"><p>To create a widget of this type by program means, use the ToolBar
constructor:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> toolbar <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> P<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">ToolBar</span></span><span style="color: #990000">();</span></tt></pre></div></div>
<div class="paragraph"><p>To add child widgets to the container, use the add method and pass a
child widget:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>pane<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>widget<span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>where widget is the widget to add.</p></div>
<div class="paragraph"><p>For example:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> toolbar <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> P<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">ToolBar</span></span><span style="color: #990000">();</span>
<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> b1 <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> P<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">Button</span></span><span style="color: #990000">();</span>
pane<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>b1<span style="color: #990000">);</span>
P<span style="color: #990000">.</span>Icon<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">load</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"1.png"</span><span style="color: #990000">,</span> <span style="font-weight: bold"><span style="color: #0000FF">function</span></span><span style="color: #990000">(</span>aLoaded<span style="color: #990000">)</span><span style="color: #FF0000">{</span>
    b1<span style="color: #990000">.</span>icon <span style="color: #990000">=</span> aLoaded<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span><span style="color: #990000">);</span>
<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> b2 <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> P<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">Button</span></span><span style="color: #990000">();</span>
pane<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>b2<span style="color: #990000">);</span>
P<span style="color: #990000">.</span>Icon<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">load</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"2.png"</span><span style="color: #990000">,</span> <span style="font-weight: bold"><span style="color: #0000FF">function</span></span><span style="color: #990000">(</span>aLoaded<span style="color: #990000">)</span><span style="color: #FF0000">{</span>
    b2<span style="color: #990000">.</span>icon <span style="color: #990000">=</span> aLoaded<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span><span style="color: #990000">);</span></tt></pre></div></div>
</div>
<div class="sect3">
<h4 id="_desktoppane">DesktopPane</h4>
<div class="paragraph" id="desktoppane"><p><span class="monospaced">DesktopPane</span> is used to create a multi-document interface.</p></div>
<div class="paragraph"><p>Forms can be displayed inside this container. Such forms are named as <span class="monospaced">frames</span>
Add forms to the container in your program. After adding, these forms can be moved,
closed, minimized or expanded (maximized) to the full container&#8217;s size.</p></div>
<div class="paragraph"><p>To create a widget of this type by program means, use the DesktopPane
constructor:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> pane <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> P<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">DesktopPane</span></span><span style="color: #990000">();</span></tt></pre></div></div>
<div class="paragraph"><p>The list of specific methods of the widget:</p></div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<col style="width:50%;">
<col style="width:50%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" >Property </th>
<th class="tableblock halign-left valign-top" >Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">minimizeAll()</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Minimizes all frames on the pane.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">restoreAll()</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Restores frames original state and location.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">maximizeAll()</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Maximizes all frames on the pane.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">closeAll()</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Closes all frames on the pane.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph"><p>The specific property of the widget:</p></div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<col style="width:50%;">
<col style="width:50%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" >Property </th>
<th class="tableblock halign-left valign-top" >Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">forms</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">An array of all frames on the pane (read-only).</p></td>
</tr>
</tbody>
</table>
<div class="paragraph"><p>To add a form to a <span class="monospaced">DesktopPane</span>:</p></div>
<div class="ulist"><ul>
<li>
<p>
Create a new form instance.
</p>
</li>
<li>
<p>
Add this new form to the desktop by calling the
showInternalFrame(desktopPane) method where desktopPane is a
<span class="monospaced">DesktopPane</span> object instance.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Example:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">function</span></span> <span style="font-weight: bold"><span style="color: #000000">InnerForm</span></span><span style="color: #990000">()</span><span style="color: #FF0000">{</span>
    <span style="font-weight: bold"><span style="color: #0000FF">var</span></span> form <span style="color: #990000">=</span> P<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">loadForm</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">.</span>constructor<span style="color: #990000">.</span>name<span style="color: #990000">);</span>
    <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">.</span>onDesktop <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">function</span></span><span style="color: #990000">(</span>aDesktop<span style="color: #990000">)</span><span style="color: #FF0000">{</span>
        form<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">showInternalFrame</span></span><span style="color: #990000">(</span>aDesktop<span style="color: #990000">);</span>
    <span style="color: #FF0000">}</span><span style="color: #990000">;</span>
<span style="color: #FF0000">}</span></tt></pre></div></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> desktop <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> P<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">DesktopPane</span></span><span style="color: #990000">();</span>
<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> formModule <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">InnerForm</span></span><span style="color: #990000">();</span>
formModule<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">onDesktop</span></span><span style="color: #990000">(</span>desktop<span style="color: #990000">);</span></tt></pre></div></div>
</div>
</div>
<div class="sect2">
<h3 id="_menus">Menus</h3>
<div class="paragraph" id="menus"><p>Menus widgets provide a convinient way to let the user choose one of
several options.</p></div>
<div class="sect3">
<h4 id="_menubar">MenuBar</h4>
<div class="paragraph" id="menubar"><p><span class="monospaced">MenuBar</span> widget is a form&#8217;s main menu bar, into which individual
menus can be added. This compontent is a kind of a container and
inherits it common properties and methods.</p></div>
<div class="paragraph"><p>After adding this widget from the palette, the menu bar contains some
default menus, this menus can be changed, edited or deleted.</p></div>
<div class="paragraph"><p>To create a widget of this type by in your code, use the MenuBar
constructor:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> menuBar <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> P<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">MenuBar</span></span><span style="color: #990000">();</span>
view<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>menuBar<span style="color: #990000">,</span> <span style="color: #990000">...);</span><span style="font-style: italic"><span style="color: #9A1900">// add it to the root container</span></span></tt></pre></div></div>
<div class="paragraph"><p>The list of specific methods of the widget:</p></div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<col style="width:50%;">
<col style="width:50%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" >Method </th>
<th class="tableblock halign-left valign-top" >Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">add()</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Adds a new menu to the menu bar, where menu is a <span class="monospaced">Menu</span> to
add.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_menu">Menu</h4>
<div class="paragraph" id="menu"><p><span class="monospaced">Menu</span> is an individual menu, it can contain <span class="monospaced">MenuItem</span> and
<span class="monospaced">MenuSeparator</span> widgets. This compontent is a kind of a container and
inherits it&#8217;s common properties and methods.</p></div>
<div class="paragraph"><p>Add new <span class="monospaced">Menu</span> widgets on to the <span class="monospaced">MenuBar</span> from the widgets
pallete in the visual editor.</p></div>
<div class="paragraph"><p>Add the submenu into a <span class="monospaced">Menu</span> by selecting Add From Palette in the
context menu.</p></div>
<div class="paragraph"><p>To create a widget of this type by your code, use the Menu
constructor:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> menu <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> P<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">Menu</span></span><span style="color: #990000">(</span>text<span style="color: #990000">);</span>
menuBar<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>menu<span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>Where text is menu&#8217;s label, displayed in parent menu it this menu is used as a sub menu.</p></div>
<div class="paragraph"><p>The list of specific properties of the widget:</p></div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<col style="width:50%;">
<col style="width:50%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" >Property </th>
<th class="tableblock halign-left valign-top" >Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">text</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Menu&#8217;s text label.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">parent</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">The parent container (read-only).</p></td>
</tr>
</tbody>
</table>
<div class="paragraph"><p>The list of specific methods of the widget:</p></div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<col style="width:50%;">
<col style="width:50%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" >Property </th>
<th class="tableblock halign-left valign-top" >Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">add(widget)</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Adds an item to the menu, where widget is the <span class="monospaced">MenuItem</span> or
<span class="monospaced">MenuSeparator</span> widget to add.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_popupmenu">PopupMenu</h4>
<div class="paragraph" id="popupmenu"><p><span class="monospaced">PopupMenu</span> is an options selection window, which can be assigned to any
widget. This compontent is a kind of a container and inherits it&#8217;s
common properties and methods.</p></div>
<div class="paragraph"><p>Add the <span class="monospaced">PopupMenu</span> widget onto the form by dragging it from the
palette in visual editor. After adding, this widget will have no
visual representation in the form&#8217;s layout, it will be avaliable under
the Other widgets node in the inspector widget tree.</p></div>
<div class="paragraph"><p>Add items to the popup menu the same way as to the standard menu.</p></div>
<div class="paragraph"><p>To assign a popup menu for a widget in the visual editor, define a
widget&#8217;s <span class="monospaced">componentPopupMenu</span> property and select the required popup menu from
the list.</p></div>
<div class="paragraph"><p>To create a widget of this type by in your code, use the PopupMenu
constructor:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> popup <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> P<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">PopupMenu</span></span><span style="color: #990000">();</span>
<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> label <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> P<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">Label</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Sample"</span><span style="color: #990000">);</span>
label<span style="color: #990000">.</span>componentPopupMenu <span style="color: #990000">=</span> popup<span style="color: #990000">;</span></tt></pre></div></div>
<div class="paragraph"><p>The list of specific methods of the widget:</p></div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<col style="width:50%;">
<col style="width:50%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" >Method </th>
<th class="tableblock halign-left valign-top" >Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">add(item)</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Adds an item to the menu, where comp is the <span class="monospaced">MenuItem</span> or
<span class="monospaced">MenuSeparator</span> widget to add.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_menuitem">MenuItem</h4>
<div class="paragraph" id="menuitem"><p>The default <span class="monospaced">MenuItem</span> object contains a simple labeled menu item.</p></div>
<div class="paragraph"><p>To create a widget of this type by in your program, use the MenuItem
constructor:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> menuItem <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> P<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">MenuItem</span></span><span style="color: #990000">(</span>text<span style="color: #990000">,</span> icon<span style="color: #990000">,</span> actionPerformed<span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>where text is the text of the menu item (optional), icon is the icon of
the widget (optional), actionPerformed the function for the action
performed handler (optional).</p></div>
<div class="paragraph"><p>The list of specific properties of the widget:</p></div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<col style="width:50%;">
<col style="width:50%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" >Property </th>
<th class="tableblock halign-left valign-top" >Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">text</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Menu item&#8217;s text label.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">icon</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Menu item&#8217;s <span class="monospaced">Icon</span>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">parent</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">The parent container (read-only).</p></td>
</tr>
</tbody>
</table>
<div class="paragraph"><p>An example of code using <span class="monospaced">MenuItem</span> widget:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> item <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> P<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">MenuItem</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Sample"</span><span style="color: #990000">);</span>
item<span style="color: #990000">.</span>onActionPerformed <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">function</span></span><span style="color: #990000">(</span>evt<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
   <span style="font-weight: bold"><span style="color: #000000">alert</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Sample selected."</span><span style="color: #990000">)</span>
<span style="color: #FF0000">}</span>
menu<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>item<span style="color: #990000">);</span></tt></pre></div></div>
</div>
<div class="sect3">
<h4 id="_checkmenuitem">CheckMenuItem</h4>
<div class="paragraph" id="checkmenuitem"><p><span class="monospaced">CheckMenuItem</span> is a menu item combined with a checkbox.</p></div>
<div class="paragraph"><p>To create a widget of this type by in your program, use the
CheckMenuItem constructor:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> checkMenuItem <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">CheckMenuItem</span></span><span style="color: #990000">(</span>text<span style="color: #990000">,</span> selected<span style="color: #990000">,</span> actionPerformed<span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>where text is the text of the widget (optional), selected is <span class="monospaced">true</span>
when the check box is selected and <span class="monospaced">false</span> otherwise (optional),
actionPerformed the function for the action performed handler
(optional).</p></div>
<div class="paragraph"><p>The list of specific properties of the widget:</p></div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<col style="width:50%;">
<col style="width:50%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" >Property </th>
<th class="tableblock halign-left valign-top" >Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">text</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Menu item text.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">selected</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">true</span> if the menu item is selected and <span class="monospaced">false</span> otherwise.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">parent</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">The parent container (read-only).</p></td>
</tr>
</tbody>
</table>
<div class="paragraph"><p>A menu item of this type can be added to a <span class="monospaced">ButtonGroup</span> widget,
which is shared by other check boxes and radio buttons, including
elements which are not present in the menu.</p></div>
</div>
<div class="sect3">
<h4 id="_radiomenuitem">RadioMenuItem</h4>
<div class="paragraph" id="radiomenuitem"><p><span class="monospaced">RadioMenuItem</span> is a menu item combined with a radio button.</p></div>
<div class="paragraph"><p>To create a widget of this type by in your program, use the
RadioMenuItem constructor:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> radioMenuItem <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> P<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">RadioMenuItem</span></span><span style="color: #990000">(</span>text<span style="color: #990000">,</span> selected<span style="color: #990000">,</span> actionPerformed<span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>where text is the text of the widget (optional), selected is <span class="monospaced">true</span>
when the check box is selected and <span class="monospaced">false</span> otherwise (optional),
actionPerformed the function for the action performed handler
(optional).</p></div>
<div class="paragraph"><p>The list of specific properties of the widget:</p></div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<col style="width:50%;">
<col style="width:50%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" >Property </th>
<th class="tableblock halign-left valign-top" >Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">text</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Menu item text.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">selected</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">true</span> if the menu item is selected and <span class="monospaced">false</span> otherwise.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">buttonGroup</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">The button group this widget belongs</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">parent</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">The parent container (read-only).</p></td>
</tr>
</tbody>
</table>
<div class="paragraph"><p>A menu item of this type can be added to a <span class="monospaced">ButtonGroup</span> widget,
which is shared by other check boxes and radio buttons, including
elements which are not present in the menu.</p></div>
</div>
<div class="sect3">
<h4 id="_menuseparator">MenuSeparator</h4>
<div class="paragraph" id="menuseparator"><p><span class="monospaced">MenuSeparator</span> is a separator of menu items. Use this widget to
visually split the groups of menu items.</p></div>
<div class="paragraph"><p>To create a widget of this type by in your program, use the
MenuSeparator constructor:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> separator <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> P<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">MenuSeparator</span></span><span style="color: #990000">();</span></tt></pre></div></div>
<div class="paragraph"><p>The list of specific properties of the widget:</p></div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<col style="width:50%;">
<col style="width:50%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" >Property </th>
<th class="tableblock halign-left valign-top" >Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">parent</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">The parent container (read-only).</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_ui_utilities_api">UI utilities API</h3>
<div class="sect3">
<h4 id="ui-utilities-api">Icon</h4>
<div class="paragraph" id="icon"><p><span class="monospaced">Icon</span> is a small picture.</p></div>
<div class="paragraph"><p>To create an icon object, use the factory load method of the Icon
object:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> icon <span style="color: #990000">=</span> Icon<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">load</span></span><span style="color: #990000">(</span>path<span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>where path is the name of the icon file, relative path of an application
or http URL.</p></div>
<div class="paragraph"><p>The icon file name will be used for accessing the application project&#8217;s collection of
icons.</p></div>
<div class="paragraph"><p>An example of using an icon to create a button:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>P<span style="color: #990000">.</span>Icon<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">load</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"car.png"</span><span style="color: #990000">,</span> <span style="font-weight: bold"><span style="color: #000000">funtion</span></span><span style="color: #990000">(</span>aCarIcon<span style="color: #990000">)</span><span style="color: #FF0000">{</span>
    <span style="font-weight: bold"><span style="color: #0000FF">var</span></span> b <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> P<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">Button</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Car"</span><span style="color: #990000">,</span> aCarIcon<span style="color: #990000">);</span>
    view<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>b<span style="color: #990000">,</span> <span style="color: #990000">...);</span>
<span style="color: #FF0000">}</span><span style="color: #990000">);</span></tt></pre></div></div>
</div>
<div class="sect3">
<h4 id="_fontstyle">FontStyle</h4>
<div class="paragraph" id="fontstyle"><p><span class="monospaced">FontStyle</span> object contains constants, which can be used to set font
styles.</p></div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<col style="width:50%;">
<col style="width:50%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" >Property </th>
<th class="tableblock halign-left valign-top" >Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">NORMAL</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Standard font</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">BOLD</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Bold</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">ITALIC</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Italics</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">BOLD_ITALIC</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Bold italics</p></td>
</tr>
</tbody>
</table>
<div class="paragraph"><p>Example of usage:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> italicFontStyle <span style="color: #990000">=</span> P<span style="color: #990000">.</span>FontStyle<span style="color: #990000">.</span>ITALIC<span style="color: #990000">;</span></tt></pre></div></div>
</div>
<div class="sect3">
<h4 id="_font">Font</h4>
<div class="paragraph" id="font"><p><span class="monospaced">Font</span> object.</p></div>
<div class="paragraph"><p>Object properties:</p></div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<col style="width:50%;">
<col style="width:50%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" >Property </th>
<th class="tableblock halign-left valign-top" >Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">family</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Name of the font family</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">style</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Style, See <a href="#fontstyle">FontStyle</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">size</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Size</p></td>
</tr>
</tbody>
</table>
<div class="paragraph"><p>To create a font object, use the Font constructor:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> font <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">Font</span></span><span style="color: #990000">(</span>family<span style="color: #990000">,</span> style<span style="color: #990000">,</span> size<span style="color: #990000">)</span></tt></pre></div></div>
<div class="paragraph"><p>where family is a string of the font family name; style is a font
style of the <a href="#fontstyle">FontStyle</a> type, size is a font size in points.</p></div>
<div class="paragraph"><p>Example:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
button<span style="color: #990000">.</span>font <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> P<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">Font</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Verdana"</span><span style="color: #990000">,</span> P<span style="color: #990000">.</span>FontStyle<span style="color: #990000">.</span>BOLD<span style="color: #990000">,</span> <span style="color: #993399">14</span><span style="color: #990000">);</span></tt></pre></div></div>
</div>
<div class="sect3">
<h4 id="_color">Color</h4>
<div class="paragraph" id="color"><p><span class="monospaced">Color</span> represents color an the object.</p></div>
<div class="paragraph"><p>The color object contains constants of main colors:</p></div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<col style="width:50%;">
<col style="width:50%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" >Property </th>
<th class="tableblock halign-left valign-top" >Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">WHITE</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">White</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">LIGHT_GRAY</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Light gray</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">GRAY</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Gray</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">DARK_GRAY</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Dark gray</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">BLACK</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Black</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">RED</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Red</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">PINK</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Pink</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">ORANGE</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Orange</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">YELLOW</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Yellow</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">MAGENTA</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Magenta</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">CYAN</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Cyan</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">GREEN</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Green</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">BLUE</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Blue</p></td>
</tr>
</tbody>
</table>
<div class="paragraph"><p>To create an object of an arbitrary color, use the Color constructor by
passing it three RGB integers as parameters:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> color <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">PColor</span></span><span style="color: #990000">(</span>red<span style="color: #990000">,</span> green<span style="color: #990000">,</span> blue<span style="color: #990000">,</span> alpha<span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>where R, G, B are red, green, blue and alpha are integer constituents of the color.</p></div>
<div class="paragraph"><p>Example of usage:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
button<span style="color: #990000">.</span>foreground <span style="color: #990000">=</span> P<span style="color: #990000">.</span>Color<span style="color: #990000">.</span>BLUE<span style="color: #990000">;</span>

<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> ivory <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> P<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">Color</span></span><span style="color: #990000">(</span><span style="color: #993399">255</span><span style="color: #990000">,</span> <span style="color: #993399">255</span><span style="color: #990000">,</span> <span style="color: #993399">240</span><span style="color: #990000">);</span>
panel<span style="color: #990000">.</span>background <span style="color: #990000">=</span> ivory<span style="color: #990000">;</span></tt></pre></div></div>
</div>
<div class="sect3">
<h4 id="_horizontalposition">HorizontalPosition</h4>
<div class="paragraph" id="horizontalposition"><p><span class="monospaced">HorizontalPosition</span> is the horizontal position constants object.</p></div>
<div class="paragraph"><p>This object contains constants, which determine the horizontal position:</p></div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<col style="width:50%;">
<col style="width:50%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" >Property </th>
<th class="tableblock halign-left valign-top" >Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">LEFT</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">To the left</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">CENTER</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Center</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">RIGHT</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">To the right</p></td>
</tr>
</tbody>
</table>
<div class="paragraph"><p>Example of usage:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> horizontalPosition <span style="color: #990000">=</span> P<span style="color: #990000">.</span>HorizontalPosition<span style="color: #990000">.</span>CENTER<span style="color: #990000">;</span></tt></pre></div></div>
</div>
<div class="sect3">
<h4 id="_verticalposition">VerticalPosition</h4>
<div class="paragraph" id="verticalposition"><p><span class="monospaced">VerticalPosition</span> is the vertical position constants object.</p></div>
<div class="paragraph"><p>This object contains constants, which determine the vertical position:</p></div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<col style="width:50%;">
<col style="width:50%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" >Property </th>
<th class="tableblock halign-left valign-top" >Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">TOP</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">To the top</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">CENTER</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Center</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">BOTTOM</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">To the bottom</p></td>
</tr>
</tbody>
</table>
<div class="paragraph"><p>Example of usage:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> verticalPosition <span style="color: #990000">=</span> P<span style="color: #990000">.</span>VerticalPosition<span style="color: #990000">.</span>CENTER<span style="color: #990000">;</span></tt></pre></div></div>
</div>
<div class="sect3">
<h4 id="_orientation">Orientation</h4>
<div class="paragraph" id="orientation"><p><span class="monospaced">Orientation</span> is the orientation constants object.</p></div>
<div class="paragraph"><p>This object contains constants, which determine the orientation:</p></div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<col style="width:50%;">
<col style="width:50%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" >Property </th>
<th class="tableblock halign-left valign-top" >Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">HORIZONTAL</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Horizontally</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">VERTICAL</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Vertically</p></td>
</tr>
</tbody>
</table>
<div class="paragraph"><p>Example of usage:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> orientation <span style="color: #990000">=</span> P<span style="color: #990000">.</span>Orientation<span style="color: #990000">.</span>HORIZONTAL<span style="color: #990000">;</span></tt></pre></div></div>
</div>
<div class="sect3">
<h4 id="_scrollbarpolicy">ScrollBarPolicy</h4>
<div class="paragraph" id="scrollbarpolicy"><p><span class="monospaced">ScrollBarPolicy</span> is the scroll bar policy constants object.</p></div>
<div class="paragraph"><p>This object contains constants, which determine the scroll bar policy:</p></div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<col style="width:50%;">
<col style="width:50%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" >Property </th>
<th class="tableblock halign-left valign-top" >Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">AUTO</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Scroll bar appears automatically, when content of scroll pane becomes greater than scroll pane.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">NEVER</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Scroll bar is never shown.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">ALLWAYS</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Scroll bar is allways shown.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph"><p>Example of usage:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>scrooll<span style="color: #990000">.</span>scrollBarPolicy <span style="color: #990000">=</span> P<span style="color: #990000">.</span>ScrollBarPolicy<span style="color: #990000">.</span>NEVER<span style="color: #990000">;</span></tt></pre></div></div>
</div>
</div>
<div class="sect2">
<h3 id="_dialogs_api">Dialogs API</h3>
<div class="paragraph" id="dialogs-api"><p>Use this global functions to display custom dialogs:</p></div>
<table class="tableblock frame-all grid-all"
style="
width:98%;
">
<col style="width:17%;">
<col style="width:83%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" >Function </th>
<th class="tableblock halign-left valign-top" >Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">alert(message)</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Displays an info message, where <span class="monospaced">message</span> is the message text.
Platypus J2SE client accepts extra parameter, - <span class="monospaced">title</span> and uses it as title of the message window.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">prompt(message, default)</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Displays a prompt window, returns the response string,
where <span class="monospaced">message</span> is the message text, <span class="monospaced">default</span> is the default text.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">confirm(message)</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Displays a dialog with confirmation, where <span class="monospaced">message</span> is the message text.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">selectFile(callback, fileFilter)</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Displays a dialog, which allows the user to select a
file. Calls callback and passes a file object, where <span class="monospaced">curDir</span> is the current directory,
<span class="monospaced">fileFilter</span> is a files names filter. It has the following format: <span class="monospaced">.png,.txt,.xls</span>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">selectDirectory(callback, curDir)</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Displays a dialog, which allows the user to select a directory and callback is called
upon user&#8217;s selection. <span class="monospaced">curDir</span> is the directory the dialog will be opened with.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">selectColor(callback, oldColor)</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Displays a color selection dialog and calls callback upon user&#8217;s selection.
<span class="monospaced">oldColor</span> is the color to be preset in dialog for user&#8217;s convenience.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph"><p>Code examples:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
<span style="font-weight: bold"><span style="color: #000000">alert</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Message title"</span><span style="color: #990000">,</span> <span style="color: #FF0000">"Message"</span><span style="color: #990000">);</span>

<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> txt <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #000000">prompt</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Enter text here"</span><span style="color: #990000">,</span> <span style="color: #FF0000">"Some default text"</span><span style="color: #990000">);</span>

<span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #000000">confirm</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Are you sure?"</span><span style="color: #990000">))</span> <span style="color: #FF0000">{</span>
  <span style="font-style: italic"><span style="color: #9A1900">// Do something here...</span></span>
<span style="color: #FF0000">}</span></tt></pre></div></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_report">Report</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="report">Introduction to reports</h3>
<div class="paragraph" id="introduction-to-reports"><p>The reporting tools allows a developer to generate reports as a
Microsoft Excel files. You can open a generated report in a spreadsheet
application, print or save it to disk.</p></div>
<div class="paragraph"><p><span class="monospaced">ReportTemplate</span> is an Platypus.js API class representing a report template.
It is used in regular Platypus.js modules.</p></div>
<div class="paragraph"><p>The report application element includes the following:</p></div>
<div class="ulist"><ul>
<li>
<p>
a report template (a file in the Microsoft Excel format with the
<span class="monospaced">.xlsx</span> extension,
</p>
</li>
<li>
<p>
JavaScript code,
</p>
</li>
<li>
<p>
a data model.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Reports generator is based on the jXLS library, which in turn uses the Apache POI
library. Markup and formatting of the report are defined in the template
file. Binding to data is performed using jXLS library tags placed in
spreadsheet cells.</p></div>
<div class="paragraph"><p>In the process of report generation, template tags are linked to model
entity&#8217;s data arrays as well as to JavaScript objects.</p></div>
<div class="paragraph"><p><span class="image">
<img src="images/reportsFlow.png" alt="Data transformations while generating a report">
</span></p></div>
</div>
<div class="sect2">
<h3 id="_new_report_creation">New report creation</h3>
<div class="paragraph" id="new-report-creation"><p>To create a report, perform the following actions:</p></div>
<div class="ulist"><ul>
<li>
<p>
Select a New item in the parent directory context menu, or select the
parent directory and click New File in the main menu, or click New File
on the toolbar, or use a corresponding shortcut.
</p>
</li>
<li>
<p>
Select a Report type in the context menu, or select Choose file type
Platypus application elements Report on the wizard first step and click
Next.
</p>
</li>
<li>
<p>
Enter the name of a new application element in the Name field and
click Finish to create it, or click Cancel to cancel.
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="_reports_editor">Reports editor</h3>
<div class="paragraph" id="reports-editor"><p>To open reports editor, double-click the application element in the
project tree.</p></div>
<div class="paragraph"><p>Edit the report template in the spreadsheet application. The following
applications are used by default for different operating systems:</p></div>
<div class="ulist"><ul>
<li>
<p>
Windows: Microsoft Excel.
</p>
</li>
<li>
<p>
Linux: Open/Libre Office Calc.
</p>
</li>
<li>
<p>
Mac OS: Microsoft Excel.
</p>
</li>
</ul></div>
<div class="paragraph"><p>To edit a report:</p></div>
<div class="ulist"><ul>
<li>
<p>
Open the Layout tab of the report editor, run the template editor by
clicking Edit report template.
</p>
</li>
<li>
<p>
Specify the report formatting, add tags of linking to data to the
template, save the report template in the template editor application.
</p>
</li>
<li>
<p>
On the Datamodel and Source tabs configure the data model and write
the JavaScript code.
</p>
</li>
<li>
<p>
Implement report <span class="monospaced">onBeforeRender</span> event handler in the JavaScript
editor.
</p>
</li>
<li>
<p>
Save the application element by clicking Save All on the Platypus
Application Designer toolbar or by clicking the Ctrl S shortcut.
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="_template_tags">Template tags</h3>
<div class="paragraph" id="template-tags"><p>Edit the report template in a spreadsheet application.</p></div>
<div class="paragraph"><p>Place tags for linking to JavaScript objects and model entities'
data arrays in the template cells. To access data, use the following
syntax: ${propertyName}, where propertyName is the object&#8217;s property
of object accessible to report generator. Report generator has access
to object, that is passed to P.loadTemplate(modeulName, object) as second argument.</p></div>
<div class="paragraph"><p>Example of writing the name of a documents into cells:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>$<span style="color: #FF0000">{</span>documents<span style="color: #990000">.</span>name<span style="color: #FF0000">}</span></tt></pre></div></div>
<div class="paragraph"><p>Such a template will lead to insertion of multiple rows in a resulting
spreadsheet. Each row will represent documents collection item.</p></div>
<div class="paragraph"><p>Similarly, you can use a complex object:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>$<span style="color: #FF0000">{</span>library<span style="color: #990000">.</span>documents<span style="color: #990000">.</span>name<span style="color: #FF0000">}</span></tt></pre></div></div>
<div class="paragraph"><p>You can use multiple tags in a single cell, for example:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
Employee<span style="color: #990000">:</span> $<span style="color: #FF0000">{</span>employee<span style="color: #990000">.</span>name<span style="color: #FF0000">}</span> <span style="color: #990000">-</span> $<span style="color: #FF0000">{</span>employee<span style="color: #990000">.</span>age<span style="color: #FF0000">}</span> years</tt></pre></div></div>
<div class="paragraph"><p>In the JavaScript code, define objects, which will be available in the
template tags:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">function</span></span> reportA <span style="color: #FF0000">{</span>
    <span style="font-weight: bold"><span style="color: #0000FF">var</span></span> library <span style="color: #990000">=</span> <span style="color: #FF0000">{}</span><span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">var</span></span> template <span style="color: #990000">=</span> P<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">loadTemplate</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">.</span>constructor<span style="color: #990000">.</span>name<span style="color: #990000">,</span> library<span style="color: #990000">);</span>

    library<span style="color: #990000">.</span>docs <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">.</span>model<span style="color: #990000">.</span>documents<span style="color: #990000">;</span>
    library<span style="color: #990000">.</span>documents <span style="color: #990000">=</span> <span style="color: #990000">[</span>
        <span style="color: #FF0000">{</span>name<span style="color: #990000">:</span><span style="color: #FF0000">'foo'</span><span style="color: #FF0000">}</span><span style="color: #990000">,</span>
        <span style="color: #FF0000">{</span>name<span style="color: #990000">:</span><span style="color: #FF0000">'bar'</span><span style="color: #FF0000">}</span><span style="color: #990000">,</span>
        <span style="color: #FF0000">{</span>name<span style="color: #990000">:</span><span style="color: #FF0000">'baz'</span><span style="color: #FF0000">}</span>
    <span style="color: #990000">];</span>
<span style="color: #FF0000">}</span></tt></pre></div></div>
<div class="paragraph"><p>Add entities, which will be linked to the template, to the report module data
model.</p></div>
<div class="paragraph"><p>When outputting collections, a new row is added for each collection
element and the style of a cell, which contains tag, is set for the
cells of this row.</p></div>
<div class="paragraph"><p>If you know the size of the collection beforehand, you can use the
template rows instead of adding new rows for each element. To do this,
add name of the collection to fixed property of a temlate (variable <span class="monospaced">rt</span> in the above example).</p></div>
<div class="paragraph"><p>There is another way yo display collections using the <span class="monospaced">jx:forEach</span> tag:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
<span style="color: #990000">&lt;</span>jx<span style="color: #990000">:</span>forEach items<span style="color: #990000">=</span><span style="color: #FF0000">"${departments}"</span> <span style="font-weight: bold"><span style="color: #0000FF">var</span></span><span style="color: #990000">=</span><span style="color: #FF0000">"department"</span><span style="color: #990000">&gt;</span>
  $<span style="color: #FF0000">{</span>department<span style="color: #990000">.</span>name<span style="color: #FF0000">}</span> <span style="color: #990000">|</span> $<span style="color: #FF0000">{</span>department<span style="color: #990000">.</span>chief<span style="color: #FF0000">}</span>
<span style="color: #990000">&lt;/</span>jx<span style="color: #990000">:</span>forEach<span style="color: #990000">&gt;</span></tt></pre></div></div>
<div class="paragraph"><p>The <span class="monospaced">jx</span> tags may be embedded into each other. If you place opening and
closing tags on the same row, columns in this row will be duplicated.
Place the <span class="monospaced">jx:forEach</span> and <span class="monospaced">jx:forEach</span> tags on different rows to enable
duplication of rows between these tags. Other cells in rows, which
contain opening and closing tags, will be ignored.</p></div>
<div class="paragraph"><p>The <span class="monospaced">jx:forEach</span> tag allows grouping of collection data by one of the
properties. To arrange grouping, use the groupBy and groupOrder,
attributes, which determine the property to be used for grouping data
and the order of outputting groups, for example:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
<span style="color: #990000">&lt;</span>jx<span style="color: #990000">:</span>forEach items<span style="color: #990000">=</span><span style="color: #FF0000">"${employees}"</span> groupBy<span style="color: #990000">=</span><span style="color: #FF0000">"age"</span><span style="color: #990000">&gt;</span>
  Age<span style="color: #990000">:</span> $<span style="color: #FF0000">{</span>group<span style="color: #990000">.</span>item<span style="color: #990000">.</span>age<span style="color: #FF0000">}</span>
  <span style="color: #990000">&lt;</span>jx<span style="color: #990000">:</span>forEach items<span style="color: #990000">=</span><span style="color: #FF0000">"${group.items}"</span> <span style="font-weight: bold"><span style="color: #0000FF">var</span></span><span style="color: #990000">=</span><span style="color: #FF0000">"employee"</span><span style="color: #990000">&gt;</span>
    $<span style="color: #FF0000">{</span>employee<span style="color: #990000">.</span>name<span style="color: #FF0000">}</span> <span style="color: #990000">|</span>
    $<span style="color: #FF0000">{</span>employee<span style="color: #990000">.</span>payment<span style="color: #FF0000">}</span> <span style="color: #990000">|</span>
    $<span style="color: #FF0000">{</span>employee<span style="color: #990000">.</span>bonus<span style="color: #FF0000">}</span>
  <span style="color: #990000">&lt;/</span>jx<span style="color: #990000">:</span>forEach<span style="color: #990000">&gt;</span>
<span style="color: #990000">&lt;/</span>jx<span style="color: #990000">:</span>forEach<span style="color: #990000">&gt;</span></tt></pre></div></div>
<div class="paragraph"><p>In this example, we group employees by age. When grouping, a new group
object is created in the context of the cycle. This object contains two
properties: item, which is the current group, and items, which is the
collection of all objects in the group.</p></div>
<div class="paragraph"><p>By default, if the groupOrder attribute is not present when grouping,
the original order of items in the collection is maintained. Use the
groupOrder attribute and assign <span class="monospaced">asc</span> and <span class="monospaced">desc</span> values for forward and
reverse sorting to this attribute.</p></div>
<div class="paragraph"><p>If the groupBy attribute is used in the <span class="monospaced">jx:forEach</span> tag, the var
attribute is ignored.</p></div>
<div class="paragraph"><p>Use the select attribute to determine elements of the collection which
should be included into the report. In the example below, we include
only employees with salary greater than 2000 into the report:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
<span style="color: #990000">&lt;</span>jx<span style="color: #990000">:</span>forEach items<span style="color: #990000">=</span><span style="color: #FF0000">"${employees}"</span> <span style="font-weight: bold"><span style="color: #0000FF">var</span></span><span style="color: #990000">=</span><span style="color: #FF0000">"employee"</span> select<span style="color: #990000">=</span><span style="color: #FF0000">"${employee.payment &gt; 2000}"</span><span style="color: #990000">&gt;</span>
 $<span style="color: #FF0000">{</span>employee<span style="color: #990000">.</span>name<span style="color: #FF0000">}</span> <span style="color: #990000">|</span> $<span style="color: #FF0000">{</span>employee<span style="color: #990000">.</span>payment<span style="color: #FF0000">}</span> <span style="color: #990000">|</span> $<span style="color: #FF0000">{</span>employee<span style="color: #990000">.</span>bonus<span style="color: #FF0000">}</span>
<span style="color: #990000">&lt;/</span>jx<span style="color: #990000">:</span>forEach<span style="color: #990000">&gt;</span></tt></pre></div></div>
<div class="paragraph"><p>To get access to the index of the current collection element, use the
varStatus, attribute and set the name of the object, to which the status
object will be assigned, for this attribute. The status object have only
an index property, for example:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
<span style="color: #990000">&lt;</span>jx<span style="color: #990000">:</span>forEach items<span style="color: #990000">=</span><span style="color: #FF0000">"${employees}"</span> <span style="font-weight: bold"><span style="color: #0000FF">var</span></span><span style="color: #990000">=</span><span style="color: #FF0000">"employee"</span> varStatus<span style="color: #990000">=</span><span style="color: #FF0000">"status"</span><span style="color: #990000">&gt;</span>
 <span style="color: #990000">|</span> $<span style="color: #FF0000">{</span>status<span style="color: #990000">.</span>index<span style="color: #FF0000">}</span>
 <span style="color: #990000">|</span> $<span style="color: #FF0000">{</span>employee<span style="color: #990000">.</span>name<span style="color: #FF0000">}</span>
 <span style="color: #990000">|</span> $<span style="color: #FF0000">{</span>employee<span style="color: #990000">.</span>payment<span style="color: #FF0000">}</span>
 <span style="color: #990000">|</span> $<span style="color: #FF0000">{</span>employee<span style="color: #990000">.</span>bonus<span style="color: #FF0000">}</span>
<span style="color: #990000">&lt;/</span>jx<span style="color: #990000">:</span>forEach<span style="color: #990000">&gt;</span></tt></pre></div></div>
<div class="paragraph"><p>Use the <span class="monospaced">jx:if</span> tag to control output depending on the condition:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
<span style="color: #990000">&lt;</span>jx<span style="color: #990000">:</span><span style="font-weight: bold"><span style="color: #0000FF">if</span></span> test<span style="color: #990000">=</span><span style="color: #FF0000">"${department.chief.payment &gt; 2000.0}"</span><span style="color: #990000">&gt;</span>
Chief Name<span style="color: #990000">:</span> $<span style="color: #FF0000">{</span>department<span style="color: #990000">.</span>chief<span style="color: #990000">.</span>name<span style="color: #FF0000">}</span>
<span style="color: #990000">&lt;/</span>jx<span style="color: #990000">:</span><span style="font-weight: bold"><span style="color: #0000FF">if</span></span><span style="color: #990000">&gt;</span></tt></pre></div></div>
<div class="paragraph"><p>You can use the <span class="monospaced">jx:if</span> tag to show or hide columns; to do this, place
opening and closing tags in the same row — when exporting data, columns
contained in the body of the tag will be displayed or hidden.</p></div>
<div class="paragraph"><p>Use the <span class="monospaced">jx:outline</span> tag to group rows:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #990000">&lt;</span>jx<span style="color: #990000">:</span>outline<span style="color: #990000">&gt;</span>
   <span style="font-style: italic"><span style="color: #9A1900">//any rows can go here</span></span>
<span style="color: #990000">&lt;/</span>jx<span style="color: #990000">:</span>outline<span style="color: #990000">&gt;</span></tt></pre></div></div>
<div class="paragraph"><p>The <span class="monospaced">jx:outline</span> tag has an optional detail attribute, which determines
the state of the row group. By default, it is set to <span class="monospaced">false</span>, which
means that the row group will be hidden.</p></div>
</div>
<div class="sect2">
<h3 id="_report_api">Report API</h3>
<div class="paragraph" id="report-api"><p>To generate a report, create a report object by passing the required
report identifier to P.loadTemplate function.</p></div>
<div class="paragraph"><p>Use the report object:</p></div>
<div class="ulist"><ul>
<li>
<p>
Create an report instance using generateReport() method of ReportTemplate on the server side.
</p>
</li>
<li>
<p>
Display a report by calling the show method. The report will be
downloaded and a command to open it will be executed.
</p>
</li>
<li>
<p>
Send the report to print by calling the print method.
</p>
</li>
<li>
<p>
Save the report file to disk by calling the save method; pass the path
of the file, to which the report should be saved, as a parameters.
</p>
</li>
</ul></div>
<div class="listingblock">
<div class="content monospaced">
<pre>*Note*

When executing the report in the HTML5 browser client, calling the
show(), print(), and save(reportPath) methods lead to the same results, -
the report file will be downloaded by your browser.</pre>
</div></div>
<div class="paragraph"><p>In the example below, the report is generated on client side by desktop
appliction:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> r <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">DocumentReport</span></span><span style="color: #990000">();</span>
r<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">execute</span></span><span style="color: #990000">(</span><span style="color: #FF0000">'business'</span><span style="color: #990000">);</span> <span style="font-style: italic"><span style="color: #9A1900">// generate report</span></span></tt></pre></div></div>
<div class="paragraph"><p>To execute the report on the server side (from a HTML5 browser or a
desktop client):</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
<span style="font-style: italic"><span style="color: #9A1900">/*</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * @stateless</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * @public</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> */</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">function</span></span> <span style="font-weight: bold"><span style="color: #000000">DocumentReport</span></span><span style="color: #990000">()</span><span style="color: #FF0000">{</span>
    <span style="font-weight: bold"><span style="color: #0000FF">var</span></span> self <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">this</span></span>
        <span style="color: #990000">,</span> model <span style="color: #990000">=</span> P<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">loadModel</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">.</span>constructor<span style="color: #990000">.</span>name<span style="color: #990000">)</span>
        <span style="color: #990000">,</span> template <span style="color: #990000">=</span> P<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">loadTemplate</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">.</span>constructor<span style="color: #990000">.</span>name<span style="color: #990000">,</span> model<span style="color: #990000">);</span>
    <span style="font-style: italic"><span style="color: #9A1900">// take parameter's value from self property.</span></span>
    self<span style="color: #990000">.</span>execute <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">function</span></span><span style="color: #990000">(</span>aValue<span style="color: #990000">,</span> onSuccess<span style="color: #990000">,</span> onFailure<span style="color: #990000">)</span><span style="color: #FF0000">{</span>
        model<span style="color: #990000">.</span>documents<span style="color: #990000">.</span>params<span style="color: #990000">.</span>documentCategory <span style="color: #990000">=</span> aValue<span style="color: #990000">;</span>
        model<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">requery</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">function</span></span><span style="color: #990000">()</span><span style="color: #FF0000">{</span>
            <span style="font-weight: bold"><span style="color: #0000FF">var</span></span> report <span style="color: #990000">=</span> template<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">generateReport</span></span><span style="color: #990000">();</span>
            <span style="font-weight: bold"><span style="color: #000000">onSuccess</span></span><span style="color: #990000">(</span>report<span style="color: #990000">);</span>
        <span style="color: #FF0000">}</span><span style="color: #990000">,</span> onFailure<span style="color: #990000">);</span>
    <span style="color: #FF0000">}</span>
    <span style="font-style: italic"><span style="color: #9A1900">// ...</span></span>
<span style="color: #FF0000">}</span>

<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> r <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">ServerModule</span></span><span style="color: #990000">(</span><span style="color: #FF0000">'DocumentReport'</span><span style="color: #990000">);</span>
<span style="font-style: italic"><span style="color: #9A1900">// provide some property to be taken as a model parameter</span></span>
<span style="font-style: italic"><span style="color: #9A1900">// by the report at the server side</span></span>
r<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">execute</span></span><span style="color: #990000">(</span><span style="color: #FF0000">'business'</span><span style="color: #990000">,</span> <span style="font-weight: bold"><span style="color: #0000FF">function</span></span><span style="color: #990000">(</span>aReport<span style="color: #990000">)</span><span style="color: #FF0000">{</span>
    aReport<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">show</span></span><span style="color: #990000">();</span>
<span style="color: #FF0000">}</span><span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>Report&#8217;s JavaScript code prepares data for displaying, calculating new
data, etc.</p></div>
<div class="ulist"><ul>
<li>
<p>
Write code in the report&#8217;s module constructor to perform initialization.
</p>
</li>
<li>
<p>
For server-side reports think about what data should be transferred to
the server side and provide arguments of method, performing generateReport.
</p>
</li>
</ul></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_http">HTTP</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="http">HTTP interface</h3>
<div class="paragraph" id="http-interface"><p>Server modules instance methods can be remotely invoked over network
using simple GET or POST HTTP requests.</p></div>
<div class="paragraph"><p>To make the module instance methods available for external requests,
mark the module with the <span class="monospaced">@public</span> annotation.</p></div>
<div class="paragraph"><p>To invoke a server method, send a request by the URL formed using the
base URL of the Servlet and the <span class="monospaced">/application</span> suffix for accessing HTTP API.</p></div>
<div class="paragraph"><p>Specify the request type, the module name, the method name and
parameters of method calling in the URL parameters or in the body of the
POST request in the application/x-www-form-urlencoded format. The
response body will contain a value, which was returned in the executed
method.</p></div>
<div class="paragraph"><p>If the JavaScript object is returned from an instance method, it will be
serialized as JSON and string will be sent to a client as a response. If
the object of the String, string will be escaped as if it was JSON string and
text response will be sent to a client. It is also possible to specify the
response content type explicitly.</p></div>
<div class="paragraph"><p>Parameters of the server module method invocation request:</p></div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<col style="width:50%;">
<col style="width:50%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" >Parameter </th>
<th class="tableblock halign-left valign-top" >Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">__type</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Request type. To execute the server module method, this
parameter should be set to <span class="monospaced">14</span>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">__moduleName</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Module constructor name.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">__methodName</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Name of the called module method.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">__param</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Method&#8217;s single parameter. A text value, a string, a
number or a JavaScript object in the JSON format. Strings are also escaped
as if it was JSON string.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">__param[]</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Method&#8217;s multiply parameters. Several values, value can be
a string, a <span class="monospaced">Number</span> or a JavaScript objects in JSON format. Strings are also escaped
as if they were JSON string.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph"><p>Example of URL for calling a server module method (URL is not encoded):</p></div>
<div class="paragraph"><p><a href="http://server:port/context/application?__type=14&amp;__moduleName=TestModule&amp;__methodName=say&amp;__param">http://server:port/context/application?__type=14&amp;__moduleName=TestModule&amp;__methodName=say&amp;__param</a>=Hello%20Platypus</p></div>
</div>
<div class="sect2">
<h3 id="_http_request_and_response_api">HTTP request and response API</h3>
<div class="paragraph" id="http-request-and-response-api"><p>To access HTTP request and response in the JavaScript server code, use
the <span class="monospaced">HttpContext</span> class, which is available, if the method is called by the
external HTTP request.</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
<span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * </span></span><span style="color: #009900">@public</span>
<span style="font-style: italic"><span style="color: #9A1900"> */</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">function</span></span> <span style="font-weight: bold"><span style="color: #000000">ModuleConstructor</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span>
   <span style="font-weight: bold"><span style="color: #0000FF">var</span></span> self <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">;</span>

  <span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="font-style: italic"><span style="color: #9A1900">   * </span></span><span style="color: #009900">@rolesAllowed</span><span style="font-style: italic"><span style="color: #9A1900"> tester admin</span></span>
<span style="font-style: italic"><span style="color: #9A1900">   */</span></span>
   <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">.</span>doSomething <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">function</span></span><span style="color: #990000">(</span>paramA<span style="color: #990000">,</span> paramB<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
        <span style="font-weight: bold"><span style="color: #0000FF">var</span></span> context <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> P<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">HttpContext</span></span><span style="color: #990000">();</span>
        <span style="font-weight: bold"><span style="color: #0000FF">var</span></span> request <span style="color: #990000">=</span> context<span style="color: #990000">.</span>request<span style="color: #990000">;</span>
        <span style="font-weight: bold"><span style="color: #0000FF">var</span></span> response <span style="color: #990000">=</span> context<span style="color: #990000">.</span>response<span style="color: #990000">;</span>
        <span style="font-style: italic"><span style="color: #9A1900">// application logic...</span></span>
   <span style="color: #FF0000">}</span>
<span style="color: #FF0000">}</span></tt></pre></div></div>
<div class="paragraph"><p>The <span class="monospaced">HttpContext</span> instance contains the following objects:</p></div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<col style="width:50%;">
<col style="width:50%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" >Property </th>
<th class="tableblock halign-left valign-top" >Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">request</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">HTTP request object.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">response</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">HTTP response object.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph"><p>The <span class="monospaced">request</span> object contains the following properties:</p></div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<col style="width:50%;">
<col style="width:50%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" >Property </th>
<th class="tableblock halign-left valign-top" >Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">authType</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Authentication scheme name.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">characterEncoding</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Character encoding name.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">contentLength</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Request body length in bytes or -1, if the length is
unknown.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">contentType</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">MIME type of the request body or <span class="monospaced">null</span> if the type is
unknown.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">body</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Request body as a string.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">bodyBuffer</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Request body as a bytes array.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">contextPath</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Part of URL, the request context.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">cookies</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Cookies which were sent by the client in the request in
key-value form.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">headers</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Request headers in key-value form.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">localAddr</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">IP address, on which the request was received.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">localName</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Name of the host, on which the request was received.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">localPort</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Port, on which the request was received.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">method</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Request method HTTP name, for example <span class="monospaced">GET</span>, <span class="monospaced">POST</span>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">params</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Request parameters in key-value form. If several parameters
have the same name, their values will be presented as an array.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">pathInfo</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Additional information about the path in the request URL.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">pathTranslated</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Additional information about the path in the request
URL, worked out to the real path.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">protocol</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Request protocol name and version in the form of
protocol/majorVersion.minorVersion, for example, <span class="monospaced">HTTP/1.1</span>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">queryString</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">URL request string.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">remoteAddr</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">IP address of the client or last proxy.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">remoteHost</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Fully qualified name of the client or last proxy.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">remotePort</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Port of the client or last proxy.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">requestURI</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">A part of the URL request from the protocol name to the
request string.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">requestURL</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">URL of the request.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">scheme</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Request pattern, for example <span class="monospaced">http</span>, <span class="monospaced">https</span>, or <span class="monospaced">ftp</span>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">serverName</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Name of the host, to which the request was sent.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">serverPort</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Port, to which the request was sent.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">secure</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">true</span> when the request was sent via the secured channel, for
example HTTPS and <span class="monospaced">false</span> otherwise.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph"><p>In the example below, all request headers are output into the log:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
<span style="font-weight: bold"><span style="color: #0000FF">for</span></span> <span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> c <span style="font-weight: bold"><span style="color: #0000FF">in</span></span> context<span style="color: #990000">.</span>request<span style="color: #990000">.</span>headers<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
    P<span style="color: #990000">.</span>Logger<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">info</span></span><span style="color: #990000">(</span>c <span style="color: #990000">+</span> <span style="color: #FF0000">' - '</span> <span style="color: #990000">+</span> context<span style="color: #990000">.</span>request<span style="color: #990000">.</span>headers<span style="color: #990000">[</span>c<span style="color: #990000">]);</span>
<span style="color: #FF0000">}</span></tt></pre></div></div>
<div class="paragraph"><p>The <span class="monospaced">response</span> object contains the following properties and methods:</p></div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<col style="width:50%;">
<col style="width:50%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" >Property/method </th>
<th class="tableblock halign-left valign-top" >Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">status</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Current status of the response.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">contentType</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">MIME type of the response body.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">body</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">The text body sent in this response. The body must be set after
content type. Note that content length is set automatically.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">bodyBuffer</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">The binary body sent in this response, as a bytes array.
The body must be set after content type. Note that content length is set
automatically.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">headers</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Response headers in key-value form.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">addHeader(name, value)</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Adds a new header with the specified name and
value to the response.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">setHeader(name, value)</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Defines a new value for the response header.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">addCookie(cookie)</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Adds new cookies to the response.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph"><p>The <span class="monospaced">cookie</span> object contains the following properties:</p></div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<col style="width:50%;">
<col style="width:50%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" >Property </th>
<th class="tableblock halign-left valign-top" >Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">name</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">The cookie name (required).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">value</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">The current cookie value (required).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">comment</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Comment, which describes the purpose of the cookie.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">domain</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Cookie domain name.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">maxAge</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Cookie lifetime in seconds.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">path</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Path on the server for which the browser returns this cookie.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">secure</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">true</span> set to notify the browser that this cookie should only
be sent over a secure protocol and <span class="monospaced">false</span> otherwise.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">version</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Cookie protocol version.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph"><p>In the example below, new cookie will be added to the HTTP response:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>context<span style="color: #990000">.</span>response<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">addCookie</span></span><span style="color: #990000">(</span><span style="color: #FF0000">{</span>
    name <span style="color: #990000">:</span> <span style="color: #FF0000">'platypus'</span><span style="color: #990000">,</span>
    value <span style="color: #990000">:</span> <span style="color: #FF0000">'test'</span><span style="color: #990000">,</span>
    maxAge <span style="color: #990000">:</span> <span style="color: #993399">60</span><span style="color: #990000">*</span><span style="color: #993399">60</span>
<span style="color: #FF0000">}</span><span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>To eliminate cookie from a browser, set <span class="monospaced">0</span> for its <span class="monospaced">maxAge</span> property.

<a href="mailto:mg@altsoft.biz">mg@altsoft.biz</a> <a href="mailto:jskonst@altsoft.biz">jskonst@altsoft.biz</a> <a href="mailto:vadim.vashkevich@gmail.com">vadim.vashkevich@gmail.com</a></p></div>
</div>
</div>
</div>
</div>
<div id="footnotes"><hr></div>
<div id="footer">
<div id="footer-text">
Last updated 2015-07-23 16:32:14 MSK
</div>
</div>
</body>
</html>
